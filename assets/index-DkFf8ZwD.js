(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();function qi(e={}){const t=document.createElement("div");t.id="dropdown-menu-radio-group",t.className="dropdown-menu";const n=`
<button type="button" id="dropdown-menu-radio-group-trigger" aria-haspopup="menu" aria-controls="dropdown-menu-radio-group-menu" aria-expanded="false" class="btn-outline">Selecteer je model:</button>
<div id="dropdown-menu-radio-group-popover" data-popover aria-hidden="true" class="min-w-56">
	<div role="menu" id="dropdown-menu-radio-group-menu" aria-labelledby="dropdown-menu-radio-group-trigger">
		<div role="group" aria-labelledby="position-options">
			<div role="menuitemradio" aria-checked="false" data-value="local" class="group">
				<div class="size-4 flex items-center justify-center">
					<div class="size-2 rounded-full bg-foreground invisible group-aria-checked:visible" aria-hidden="true" focusable="false"></div>
				</div>
				<span class="line-through">
					Lokaal 
					<span class="text-muted-foreground ml-auto text-xs tracking-widest">(Je eigen model via Ollama)</span>
				</span>
			</div>
			<div role="menuitemradio" aria-checked="true" data-value="inference" class="group">
				<div class="size-4 flex items-center justify-center">
					<div class="size-2 rounded-full bg-foreground invisible group-aria-checked:visible" aria-hidden="true" focusable="false"></div>
				</div>
				Inference
				<span class="text-muted-foreground ml-auto text-xs tracking-widest">(Mistral via OpenRouter API)</span>
			</div>
		</div>
	</div>
</div>
	`;t.innerHTML=n;const o=t.querySelectorAll('div[role="menuitemradio"]');return o.forEach(s=>{s.addEventListener("click",()=>{o.forEach(u=>{u.setAttribute("aria-checked","false")}),s.setAttribute("aria-checked","true");const r=s.getAttribute("data-value"),a=new CustomEvent("modelChange",{detail:{value:r},bubbles:!0});t.dispatchEvent(a)})}),t}const Pi=Object.prototype.hasOwnProperty;function ee(e,t){const n=/\{([a-zA-Z0-9_][a-zA-Z0-9_-]*?)\}/g;return function(s={}){return e.replace(n,function(r,a){if(!Pi.call(s,a))throw new Error(`Parameter '${a}' is required`);const u=s[a];if(typeof u!="string"&&typeof u!="number")throw new Error(`Parameter '${a}' must be a string or number`);return`${u}`})}}const ws="production",zi={[ws]:"https://openrouter.ai/api/v1"};function xs(e){let t=e.serverURL;const n={};if(!t){const s=e.server??ws;t=zi[s]||""}const o=ee(t)(n);return new URL(o)}const Mi={userAgent:"speakeasy-sdk/typescript 0.2.9 2.768.0 1.0.0 @openrouter/sdk"},Ni=(e,t)=>t==null?fetch(e):fetch(e,t);class so{constructor(t={}){this.options=t,this.requestHooks=[],this.requestErrorHooks=[],this.responseHooks=[],this.fetcher=t.fetcher||Ni}async request(t){let n=t;for(const o of this.requestHooks){const s=await o(n);s&&(n=s)}try{const o=await this.fetcher(n);for(const s of this.responseHooks)await s(o,n);return o}catch(o){for(const s of this.requestErrorHooks)await s(o,n);throw o}}addHook(...t){if(t[0]==="beforeRequest")this.requestHooks.push(t[1]);else if(t[0]==="requestError")this.requestErrorHooks.push(t[1]);else if(t[0]==="response")this.responseHooks.push(t[1]);else throw new Error(`Invalid hook type: ${t[0]}`);return this}removeHook(...t){let n;if(t[0]==="beforeRequest")n=this.requestHooks;else if(t[0]==="requestError")n=this.requestErrorHooks;else if(t[0]==="response")n=this.responseHooks;else throw new Error(`Invalid hook type: ${t[0]}`);const o=n.findIndex(s=>s===t[1]);return o>=0&&n.splice(o,1),this}clone(){const t=new so(this.options);return t.requestHooks=this.requestHooks.slice(),t.requestErrorHooks=this.requestErrorHooks.slice(),t.responseHooks=this.responseHooks.slice(),t}}const Lo=/\s*;\s*/g;function ht(e,t){if(t==="*")return!0;let n=e.headers.get("content-type")?.trim()||"application/octet-stream";n=n.toLowerCase();const o=t.toLowerCase().trim().split(Lo),[s="",...r]=o;if(s.split("/").length!==2)return!1;const a=n.split(Lo),[u="",...d]=a,[p="",h=""]=u.split("/");if(!p||!h||s!=="*/*"&&u!==s&&`${p}/*`!==s&&`*/${h}`!==s||d.length<r.length)return!1;const f=new Set(d);for(const g of r)if(!f.has(g))return!1;return!0}const Li=new RegExp("^[0-9]xx$","i");function ro(e,t){const n=`${e.status}`,o=Array.isArray(t)?t:[t];return o.length?o.some(s=>{const r=`${s}`;if(r==="default")return!0;if(!Li.test(`${r}`))return r===n;const a=r.charAt(0);if(!a)throw new Error("Invalid status code range");const u=n.charAt(0);if(!u)throw new Error(`Invalid response status code: ${n}`);return u===a}):!1}function Ui(e,t,n){return ro(e,t)&&ht(e,n)}function $s(e){if(typeof e!="object"||e==null)return!1;const t=e instanceof TypeError&&e.message.toLowerCase().startsWith("failed to fetch"),n=e instanceof TypeError&&e.message.toLowerCase().startsWith("fetch failed"),o="name"in e&&e.name==="ConnectionError",s="code"in e&&typeof e.code=="string"&&e.code.toLowerCase()==="econnreset";return t||n||s||o}function Cs(e){if(typeof e!="object"||e==null)return!1;const t="name"in e&&e.name==="TimeoutError",n="code"in e&&e.code===23,o="code"in e&&typeof e.code=="string"&&e.code.toLowerCase()==="econnaborted";return t||n||o}function Zi(e){if(typeof e!="object"||e==null)return!1;const t="name"in e&&e.name==="AbortError",n="code"in e&&e.code===20,o="code"in e&&typeof e.code=="string"&&e.code.toLowerCase()==="econnaborted";return t||n||o}class Uo{constructor(){this.sdkInitHooks=[],this.beforeCreateRequestHooks=[],this.beforeRequestHooks=[],this.afterSuccessHooks=[],this.afterErrorHooks=[];const t=[];for(const n of t)"sdkInit"in n&&this.registerSDKInitHook(n),"beforeCreateRequest"in n&&this.registerBeforeCreateRequestHook(n),"beforeRequest"in n&&this.registerBeforeRequestHook(n),"afterSuccess"in n&&this.registerAfterSuccessHook(n),"afterError"in n&&this.registerAfterErrorHook(n)}registerSDKInitHook(t){this.sdkInitHooks.push(t)}registerBeforeCreateRequestHook(t){this.beforeCreateRequestHooks.push(t)}registerBeforeRequestHook(t){this.beforeRequestHooks.push(t)}registerAfterSuccessHook(t){this.afterSuccessHooks.push(t)}registerAfterErrorHook(t){this.afterErrorHooks.push(t)}sdkInit(t){return this.sdkInitHooks.reduce((n,o)=>o.sdkInit(n),t)}beforeCreateRequest(t,n){let o=n;for(const s of this.beforeCreateRequestHooks)o=s.beforeCreateRequest(t,o);return o}async beforeRequest(t,n){let o=n;for(const s of this.beforeRequestHooks)o=await s.beforeRequest(t,o);return o}async afterSuccess(t,n){let o=n;for(const s of this.afterSuccessHooks)o=await s.afterSuccess(t,o);return o}async afterError(t,n,o){let s=n,r=o;for(const a of this.afterErrorHooks){const u=await a.afterError(t,s,r);s=u.response,r=u.error}return{response:s,error:r}}}class Qt extends Error{constructor(t,n){let o=t;n?.cause&&(o+=`: ${n.cause}`),super(o,n),this.name="HTTPClientError",typeof this.cause>"u"&&(this.cause=n?.cause)}}class Zo extends Qt{constructor(){super(...arguments),this.name="UnexpectedClientError"}}class ji extends Qt{constructor(){super(...arguments),this.name="InvalidRequestError"}}class Di extends Qt{constructor(){super(...arguments),this.name="RequestAbortedError"}}class Fi extends Qt{constructor(){super(...arguments),this.name="RequestTimeoutError"}}class Xi extends Qt{constructor(){super(...arguments),this.name="ConnectionError"}}function _n(e){return{ok:!0,value:e}}function Xe(e){return{ok:!1,error:e}}async function Y(e){const t=await e;if(!t.ok)throw t.error;return t.value}const Is=Object.freeze({status:"aborted"});function w(e,t,n){function o(u,d){if(u._zod||Object.defineProperty(u,"_zod",{value:{def:d,constr:a,traits:new Set},enumerable:!1}),u._zod.traits.has(e))return;u._zod.traits.add(e),t(u,d);const p=a.prototype,h=Object.keys(p);for(let f=0;f<h.length;f++){const g=h[f];g in u||(u[g]=p[g].bind(u))}}const s=n?.Parent??Object;class r extends s{}Object.defineProperty(r,"name",{value:e});function a(u){var d;const p=n?.Parent?new r:this;o(p,u),(d=p._zod).deferred??(d.deferred=[]);for(const h of p._zod.deferred)h();return p}return Object.defineProperty(a,"init",{value:o}),Object.defineProperty(a,Symbol.hasInstance,{value:u=>n?.Parent&&u instanceof n.Parent?!0:u?._zod?.traits?.has(e)}),Object.defineProperty(a,"name",{value:e}),a}class St extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class Ts extends Error{constructor(t){super(`Encountered unidirectional transform during encode: ${t}`),this.name="ZodEncodeError"}}const Hn={};function Ze(e){return e&&Object.assign(Hn,e),Hn}function Os(e){const t=Object.values(e).filter(o=>typeof o=="number");return Object.entries(e).filter(([o,s])=>t.indexOf(+o)===-1).map(([o,s])=>s)}function jo(e,t="|"){return e.map(n=>qs(n)).join(t)}function Bn(e,t){return typeof t=="bigint"?t.toString():t}function ao(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function io(e){return e==null}function uo(e){const t=e.startsWith("^")?1:0,n=e.endsWith("$")?e.length-1:e.length;return e.slice(t,n)}function Vi(e,t){const n=(e.toString().split(".")[1]||"").length,o=t.toString();let s=(o.split(".")[1]||"").length;if(s===0&&/\d?e-\d?/.test(o)){const d=o.match(/\d?e-(\d?)/);d?.[1]&&(s=Number.parseInt(d[1]))}const r=n>s?n:s,a=Number.parseInt(e.toFixed(r).replace(".","")),u=Number.parseInt(t.toFixed(r).replace(".",""));return a%u/10**r}const Do=Symbol("evaluating");function H(e,t,n){let o;Object.defineProperty(e,t,{get(){if(o!==Do)return o===void 0&&(o=Do,o=n()),o},set(s){Object.defineProperty(e,t,{value:s})},configurable:!0})}function at(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0})}function it(...e){const t={};for(const n of e){const o=Object.getOwnPropertyDescriptors(n);Object.assign(t,o)}return Object.defineProperties({},t)}function Fo(e){return JSON.stringify(e)}function Ki(e){return e.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const Es="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function gn(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const Hi=ao(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const e=Function;return new e(""),!0}catch{return!1}});function Rt(e){if(gn(e)===!1)return!1;const t=e.constructor;if(t===void 0||typeof t!="function")return!0;const n=t.prototype;return!(gn(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function As(e){return Rt(e)?{...e}:Array.isArray(e)?[...e]:e}const Bi=new Set(["string","number","symbol"]);function wt(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function We(e,t,n){const o=new e._zod.constr(t??e._zod.def);return(!t||n?.parent)&&(o._zod.parent=e),o}function z(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if(t?.message!==void 0){if(t?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function qs(e){return typeof e=="bigint"?e.toString()+"n":typeof e=="string"?`"${e}"`:`${e}`}function Gi(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}const Wi={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function Ji(e,t){const n=e._zod.def,o=it(e._zod.def,{get shape(){const s={};for(const r in t){if(!(r in n.shape))throw new Error(`Unrecognized key: "${r}"`);t[r]&&(s[r]=n.shape[r])}return at(this,"shape",s),s},checks:[]});return We(e,o)}function Yi(e,t){const n=e._zod.def,o=it(e._zod.def,{get shape(){const s={...e._zod.def.shape};for(const r in t){if(!(r in n.shape))throw new Error(`Unrecognized key: "${r}"`);t[r]&&delete s[r]}return at(this,"shape",s),s},checks:[]});return We(e,o)}function Qi(e,t){if(!Rt(t))throw new Error("Invalid input to extend: expected a plain object");const n=e._zod.def.checks;if(n&&n.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const s=it(e._zod.def,{get shape(){const r={...e._zod.def.shape,...t};return at(this,"shape",r),r},checks:[]});return We(e,s)}function eu(e,t){if(!Rt(t))throw new Error("Invalid input to safeExtend: expected a plain object");const n={...e._zod.def,get shape(){const o={...e._zod.def.shape,...t};return at(this,"shape",o),o},checks:e._zod.def.checks};return We(e,n)}function tu(e,t){const n=it(e._zod.def,{get shape(){const o={...e._zod.def.shape,...t._zod.def.shape};return at(this,"shape",o),o},get catchall(){return t._zod.def.catchall},checks:[]});return We(e,n)}function nu(e,t,n){const o=it(t._zod.def,{get shape(){const s=t._zod.def.shape,r={...s};if(n)for(const a in n){if(!(a in s))throw new Error(`Unrecognized key: "${a}"`);n[a]&&(r[a]=e?new e({type:"optional",innerType:s[a]}):s[a])}else for(const a in s)r[a]=e?new e({type:"optional",innerType:s[a]}):s[a];return at(this,"shape",r),r},checks:[]});return We(t,o)}function ou(e,t,n){const o=it(t._zod.def,{get shape(){const s=t._zod.def.shape,r={...s};if(n)for(const a in n){if(!(a in r))throw new Error(`Unrecognized key: "${a}"`);n[a]&&(r[a]=new e({type:"nonoptional",innerType:s[a]}))}else for(const a in s)r[a]=new e({type:"nonoptional",innerType:s[a]});return at(this,"shape",r),r},checks:[]});return We(t,o)}function _t(e,t=0){if(e.aborted===!0)return!0;for(let n=t;n<e.issues.length;n++)if(e.issues[n]?.continue!==!0)return!0;return!1}function gt(e,t){return t.map(n=>{var o;return(o=n).path??(o.path=[]),n.path.unshift(e),n})}function an(e){return typeof e=="string"?e:e?.message}function Ve(e,t,n){const o={...e,path:e.path??[]};if(!e.message){const s=an(e.inst?._zod.def?.error?.(e))??an(t?.error?.(e))??an(n.customError?.(e))??an(n.localeError?.(e))??"Invalid input";o.message=s}return delete o.inst,delete o.continue,t?.reportInput||delete o.input,o}function co(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function Ut(...e){const[t,n,o]=e;return typeof t=="string"?{message:t,code:"custom",input:n,inst:o}:{...t}}const Ps=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,Bn,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},En=w("$ZodError",Ps),zs=w("$ZodError",Ps,{Parent:Error});function su(e,t=n=>n.message){const n={},o=[];for(const s of e.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(t(s))):o.push(t(s));return{formErrors:o,fieldErrors:n}}function ru(e,t=n=>n.message){const n={_errors:[]},o=s=>{for(const r of s.issues)if(r.code==="invalid_union"&&r.errors.length)r.errors.map(a=>o({issues:a}));else if(r.code==="invalid_key")o({issues:r.issues});else if(r.code==="invalid_element")o({issues:r.issues});else if(r.path.length===0)n._errors.push(t(r));else{let a=n,u=0;for(;u<r.path.length;){const d=r.path[u];u===r.path.length-1?(a[d]=a[d]||{_errors:[]},a[d]._errors.push(t(r))):a[d]=a[d]||{_errors:[]},a=a[d],u++}}};return o(e),n}function au(e){const t=[],n=e.map(o=>typeof o=="object"?o.key:o);for(const o of n)typeof o=="number"?t.push(`[${o}]`):typeof o=="symbol"?t.push(`[${JSON.stringify(String(o))}]`):/[^\w$]/.test(o)?t.push(`[${JSON.stringify(o)}]`):(t.length&&t.push("."),t.push(o));return t.join("")}function iu(e){const t=[],n=[...e.issues].sort((o,s)=>(o.path??[]).length-(s.path??[]).length);for(const o of n)t.push(`✖ ${o.message}`),o.path?.length&&t.push(`  → at ${au(o.path)}`);return t.join(`
`)}const lo=e=>(t,n,o,s)=>{const r=o?Object.assign(o,{async:!1}):{async:!1},a=t._zod.run({value:n,issues:[]},r);if(a instanceof Promise)throw new St;if(a.issues.length){const u=new(s?.Err??e)(a.issues.map(d=>Ve(d,r,Ze())));throw Es(u,s?.callee),u}return a.value},po=e=>async(t,n,o,s)=>{const r=o?Object.assign(o,{async:!0}):{async:!0};let a=t._zod.run({value:n,issues:[]},r);if(a instanceof Promise&&(a=await a),a.issues.length){const u=new(s?.Err??e)(a.issues.map(d=>Ve(d,r,Ze())));throw Es(u,s?.callee),u}return a.value},An=e=>(t,n,o)=>{const s=o?{...o,async:!1}:{async:!1},r=t._zod.run({value:n,issues:[]},s);if(r instanceof Promise)throw new St;return r.issues.length?{success:!1,error:new(e??En)(r.issues.map(a=>Ve(a,s,Ze())))}:{success:!0,data:r.value}},uu=An(zs),qn=e=>async(t,n,o)=>{const s=o?Object.assign(o,{async:!0}):{async:!0};let r=t._zod.run({value:n,issues:[]},s);return r instanceof Promise&&(r=await r),r.issues.length?{success:!1,error:new e(r.issues.map(a=>Ve(a,s,Ze())))}:{success:!0,data:r.value}},cu=qn(zs),lu=e=>(t,n,o)=>{const s=o?Object.assign(o,{direction:"backward"}):{direction:"backward"};return lo(e)(t,n,s)},du=e=>(t,n,o)=>lo(e)(t,n,o),pu=e=>async(t,n,o)=>{const s=o?Object.assign(o,{direction:"backward"}):{direction:"backward"};return po(e)(t,n,s)},mu=e=>async(t,n,o)=>po(e)(t,n,o),hu=e=>(t,n,o)=>{const s=o?Object.assign(o,{direction:"backward"}):{direction:"backward"};return An(e)(t,n,s)},fu=e=>(t,n,o)=>An(e)(t,n,o),yu=e=>async(t,n,o)=>{const s=o?Object.assign(o,{direction:"backward"}):{direction:"backward"};return qn(e)(t,n,s)},_u=e=>async(t,n,o)=>qn(e)(t,n,o),gu=/^[cC][^\s-]{8,}$/,bu=/^[0-9a-z]+$/,vu=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,Su=/^[0-9a-vA-V]{20}$/,ku=/^[A-Za-z0-9]{27}$/,Ru=/^[a-zA-Z0-9_-]{21}$/,wu=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,xu=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,Xo=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,$u=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,Cu="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function Iu(){return new RegExp(Cu,"u")}const Tu=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Ou=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,Eu=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,Au=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,qu=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,Ms=/^[A-Za-z0-9_-]*$/,Pu=/^\+(?:[0-9]){6,14}[0-9]$/,Ns="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",zu=new RegExp(`^${Ns}$`);function Ls(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function Mu(e){return new RegExp(`^${Ls(e)}$`)}function Nu(e){const t=Ls({precision:e.precision}),n=["Z"];e.local&&n.push(""),e.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const o=`${t}(?:${n.join("|")})`;return new RegExp(`^${Ns}T(?:${o})$`)}const Lu=e=>{const t=e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},Uu=/^-?\d+$/,Zu=/^-?\d+(?:\.\d+)?/,ju=/^(?:true|false)$/i,Du=/^[^A-Z]*$/,Fu=/^[^a-z]*$/,ve=w("$ZodCheck",(e,t)=>{var n;e._zod??(e._zod={}),e._zod.def=t,(n=e._zod).onattach??(n.onattach=[])}),Us={number:"number",bigint:"bigint",object:"date"},Zs=w("$ZodCheckLessThan",(e,t)=>{ve.init(e,t);const n=Us[typeof t.value];e._zod.onattach.push(o=>{const s=o._zod.bag,r=(t.inclusive?s.maximum:s.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<r&&(t.inclusive?s.maximum=t.value:s.exclusiveMaximum=t.value)}),e._zod.check=o=>{(t.inclusive?o.value<=t.value:o.value<t.value)||o.issues.push({origin:n,code:"too_big",maximum:t.value,input:o.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),js=w("$ZodCheckGreaterThan",(e,t)=>{ve.init(e,t);const n=Us[typeof t.value];e._zod.onattach.push(o=>{const s=o._zod.bag,r=(t.inclusive?s.minimum:s.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>r&&(t.inclusive?s.minimum=t.value:s.exclusiveMinimum=t.value)}),e._zod.check=o=>{(t.inclusive?o.value>=t.value:o.value>t.value)||o.issues.push({origin:n,code:"too_small",minimum:t.value,input:o.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),Xu=w("$ZodCheckMultipleOf",(e,t)=>{ve.init(e,t),e._zod.onattach.push(n=>{var o;(o=n._zod.bag).multipleOf??(o.multipleOf=t.value)}),e._zod.check=n=>{if(typeof n.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%t.value===BigInt(0):Vi(n.value,t.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:t.value,input:n.value,inst:e,continue:!t.abort})}}),Vu=w("$ZodCheckNumberFormat",(e,t)=>{ve.init(e,t),t.format=t.format||"float64";const n=t.format?.includes("int"),o=n?"int":"number",[s,r]=Wi[t.format];e._zod.onattach.push(a=>{const u=a._zod.bag;u.format=t.format,u.minimum=s,u.maximum=r,n&&(u.pattern=Uu)}),e._zod.check=a=>{const u=a.value;if(n){if(!Number.isInteger(u)){a.issues.push({expected:o,format:t.format,code:"invalid_type",continue:!1,input:u,inst:e});return}if(!Number.isSafeInteger(u)){u>0?a.issues.push({input:u,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:o,continue:!t.abort}):a.issues.push({input:u,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:o,continue:!t.abort});return}}u<s&&a.issues.push({origin:"number",input:u,code:"too_small",minimum:s,inclusive:!0,inst:e,continue:!t.abort}),u>r&&a.issues.push({origin:"number",input:u,code:"too_big",maximum:r,inst:e})}}),Ku=w("$ZodCheckMaxLength",(e,t)=>{var n;ve.init(e,t),(n=e._zod.def).when??(n.when=o=>{const s=o.value;return!io(s)&&s.length!==void 0}),e._zod.onattach.push(o=>{const s=o._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<s&&(o._zod.bag.maximum=t.maximum)}),e._zod.check=o=>{const s=o.value;if(s.length<=t.maximum)return;const a=co(s);o.issues.push({origin:a,code:"too_big",maximum:t.maximum,inclusive:!0,input:s,inst:e,continue:!t.abort})}}),Hu=w("$ZodCheckMinLength",(e,t)=>{var n;ve.init(e,t),(n=e._zod.def).when??(n.when=o=>{const s=o.value;return!io(s)&&s.length!==void 0}),e._zod.onattach.push(o=>{const s=o._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>s&&(o._zod.bag.minimum=t.minimum)}),e._zod.check=o=>{const s=o.value;if(s.length>=t.minimum)return;const a=co(s);o.issues.push({origin:a,code:"too_small",minimum:t.minimum,inclusive:!0,input:s,inst:e,continue:!t.abort})}}),Bu=w("$ZodCheckLengthEquals",(e,t)=>{var n;ve.init(e,t),(n=e._zod.def).when??(n.when=o=>{const s=o.value;return!io(s)&&s.length!==void 0}),e._zod.onattach.push(o=>{const s=o._zod.bag;s.minimum=t.length,s.maximum=t.length,s.length=t.length}),e._zod.check=o=>{const s=o.value,r=s.length;if(r===t.length)return;const a=co(s),u=r>t.length;o.issues.push({origin:a,...u?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:o.value,inst:e,continue:!t.abort})}}),Pn=w("$ZodCheckStringFormat",(e,t)=>{var n,o;ve.init(e,t),e._zod.onattach.push(s=>{const r=s._zod.bag;r.format=t.format,t.pattern&&(r.patterns??(r.patterns=new Set),r.patterns.add(t.pattern))}),t.pattern?(n=e._zod).check??(n.check=s=>{t.pattern.lastIndex=0,!t.pattern.test(s.value)&&s.issues.push({origin:"string",code:"invalid_format",format:t.format,input:s.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(o=e._zod).check??(o.check=()=>{})}),Gu=w("$ZodCheckRegex",(e,t)=>{Pn.init(e,t),e._zod.check=n=>{t.pattern.lastIndex=0,!t.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),Wu=w("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=Du),Pn.init(e,t)}),Ju=w("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=Fu),Pn.init(e,t)}),Yu=w("$ZodCheckIncludes",(e,t)=>{ve.init(e,t);const n=wt(t.includes),o=new RegExp(typeof t.position=="number"?`^.{${t.position}}${n}`:n);t.pattern=o,e._zod.onattach.push(s=>{const r=s._zod.bag;r.patterns??(r.patterns=new Set),r.patterns.add(o)}),e._zod.check=s=>{s.value.includes(t.includes,t.position)||s.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:s.value,inst:e,continue:!t.abort})}}),Qu=w("$ZodCheckStartsWith",(e,t)=>{ve.init(e,t);const n=new RegExp(`^${wt(t.prefix)}.*`);t.pattern??(t.pattern=n),e._zod.onattach.push(o=>{const s=o._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(n)}),e._zod.check=o=>{o.value.startsWith(t.prefix)||o.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:o.value,inst:e,continue:!t.abort})}}),ec=w("$ZodCheckEndsWith",(e,t)=>{ve.init(e,t);const n=new RegExp(`.*${wt(t.suffix)}$`);t.pattern??(t.pattern=n),e._zod.onattach.push(o=>{const s=o._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(n)}),e._zod.check=o=>{o.value.endsWith(t.suffix)||o.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:o.value,inst:e,continue:!t.abort})}}),tc=w("$ZodCheckOverwrite",(e,t)=>{ve.init(e,t),e._zod.check=n=>{n.value=t.tx(n.value)}});class nc{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const o=t.split(`
`).filter(a=>a),s=Math.min(...o.map(a=>a.length-a.trimStart().length)),r=o.map(a=>a.slice(s)).map(a=>" ".repeat(this.indent*2)+a);for(const a of r)this.content.push(a)}compile(){const t=Function,n=this?.args,s=[...(this?.content??[""]).map(r=>`  ${r}`)];return new t(...n,s.join(`
`))}}const oc={major:4,minor:1,patch:13},J=w("$ZodType",(e,t)=>{var n;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=oc;const o=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&o.unshift(e);for(const s of o)for(const r of s._zod.onattach)r(e);if(o.length===0)(n=e._zod).deferred??(n.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{const s=(a,u,d)=>{let p=_t(a),h;for(const f of u){if(f._zod.def.when){if(!f._zod.def.when(a))continue}else if(p)continue;const g=a.issues.length,_=f._zod.check(a);if(_ instanceof Promise&&d?.async===!1)throw new St;if(h||_ instanceof Promise)h=(h??Promise.resolve()).then(async()=>{await _,a.issues.length!==g&&(p||(p=_t(a,g)))});else{if(a.issues.length===g)continue;p||(p=_t(a,g))}}return h?h.then(()=>a):a},r=(a,u,d)=>{if(_t(a))return a.aborted=!0,a;const p=s(u,o,d);if(p instanceof Promise){if(d.async===!1)throw new St;return p.then(h=>e._zod.parse(h,d))}return e._zod.parse(p,d)};e._zod.run=(a,u)=>{if(u.skipChecks)return e._zod.parse(a,u);if(u.direction==="backward"){const p=e._zod.parse({value:a.value,issues:[]},{...u,skipChecks:!0});return p instanceof Promise?p.then(h=>r(h,a,u)):r(p,a,u)}const d=e._zod.parse(a,u);if(d instanceof Promise){if(u.async===!1)throw new St;return d.then(p=>s(p,o,u))}return s(d,o,u)}}e["~standard"]={validate:s=>{try{const r=uu(e,s);return r.success?{value:r.data}:{issues:r.error?.issues}}catch{return cu(e,s).then(a=>a.success?{value:a.data}:{issues:a.error?.issues})}},vendor:"zod",version:1}}),mo=w("$ZodString",(e,t)=>{J.init(e,t),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??Lu(e._zod.bag),e._zod.parse=(n,o)=>{if(t.coerce)try{n.value=String(n.value)}catch{}return typeof n.value=="string"||n.issues.push({expected:"string",code:"invalid_type",input:n.value,inst:e}),n}}),ne=w("$ZodStringFormat",(e,t)=>{Pn.init(e,t),mo.init(e,t)}),sc=w("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=xu),ne.init(e,t)}),rc=w("$ZodUUID",(e,t)=>{if(t.version){const o={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(o===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=Xo(o))}else t.pattern??(t.pattern=Xo());ne.init(e,t)}),ac=w("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=$u),ne.init(e,t)}),ic=w("$ZodURL",(e,t)=>{ne.init(e,t),e._zod.check=n=>{try{const o=n.value.trim(),s=new URL(o);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(s.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:t.hostname.source,input:n.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(s.protocol.endsWith(":")?s.protocol.slice(0,-1):s.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:n.value,inst:e,continue:!t.abort})),t.normalize?n.value=s.href:n.value=o;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:e,continue:!t.abort})}}}),uc=w("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=Iu()),ne.init(e,t)}),cc=w("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=Ru),ne.init(e,t)}),lc=w("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=gu),ne.init(e,t)}),dc=w("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=bu),ne.init(e,t)}),pc=w("$ZodULID",(e,t)=>{t.pattern??(t.pattern=vu),ne.init(e,t)}),mc=w("$ZodXID",(e,t)=>{t.pattern??(t.pattern=Su),ne.init(e,t)}),hc=w("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=ku),ne.init(e,t)}),fc=w("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=Nu(t)),ne.init(e,t)}),yc=w("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=zu),ne.init(e,t)}),_c=w("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=Mu(t)),ne.init(e,t)}),gc=w("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=wu),ne.init(e,t)}),bc=w("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=Tu),ne.init(e,t),e._zod.bag.format="ipv4"}),vc=w("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=Ou),ne.init(e,t),e._zod.bag.format="ipv6",e._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:e,continue:!t.abort})}}}),Sc=w("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=Eu),ne.init(e,t)}),kc=w("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=Au),ne.init(e,t),e._zod.check=n=>{const o=n.value.split("/");try{if(o.length!==2)throw new Error;const[s,r]=o;if(!r)throw new Error;const a=Number(r);if(`${a}`!==r)throw new Error;if(a<0||a>128)throw new Error;new URL(`http://[${s}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:e,continue:!t.abort})}}});function Ds(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const Rc=w("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=qu),ne.init(e,t),e._zod.bag.contentEncoding="base64",e._zod.check=n=>{Ds(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:e,continue:!t.abort})}});function wc(e){if(!Ms.test(e))return!1;const t=e.replace(/[-_]/g,o=>o==="-"?"+":"/"),n=t.padEnd(Math.ceil(t.length/4)*4,"=");return Ds(n)}const xc=w("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=Ms),ne.init(e,t),e._zod.bag.contentEncoding="base64url",e._zod.check=n=>{wc(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:e,continue:!t.abort})}}),$c=w("$ZodE164",(e,t)=>{t.pattern??(t.pattern=Pu),ne.init(e,t)});function Cc(e,t=null){try{const n=e.split(".");if(n.length!==3)return!1;const[o]=n;if(!o)return!1;const s=JSON.parse(atob(o));return!("typ"in s&&s?.typ!=="JWT"||!s.alg||t&&(!("alg"in s)||s.alg!==t))}catch{return!1}}const Ic=w("$ZodJWT",(e,t)=>{ne.init(e,t),e._zod.check=n=>{Cc(n.value,t.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:e,continue:!t.abort})}}),Fs=w("$ZodNumber",(e,t)=>{J.init(e,t),e._zod.pattern=e._zod.bag.pattern??Zu,e._zod.parse=(n,o)=>{if(t.coerce)try{n.value=Number(n.value)}catch{}const s=n.value;if(typeof s=="number"&&!Number.isNaN(s)&&Number.isFinite(s))return n;const r=typeof s=="number"?Number.isNaN(s)?"NaN":Number.isFinite(s)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:s,inst:e,...r?{received:r}:{}}),n}}),Tc=w("$ZodNumberFormat",(e,t)=>{Vu.init(e,t),Fs.init(e,t)}),Oc=w("$ZodBoolean",(e,t)=>{J.init(e,t),e._zod.pattern=ju,e._zod.parse=(n,o)=>{if(t.coerce)try{n.value=!!n.value}catch{}const s=n.value;return typeof s=="boolean"||n.issues.push({expected:"boolean",code:"invalid_type",input:s,inst:e}),n}}),Ec=w("$ZodAny",(e,t)=>{J.init(e,t),e._zod.parse=n=>n}),Ac=w("$ZodUnknown",(e,t)=>{J.init(e,t),e._zod.parse=n=>n}),qc=w("$ZodNever",(e,t)=>{J.init(e,t),e._zod.parse=(n,o)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:e}),n)}),Pc=w("$ZodDate",(e,t)=>{J.init(e,t),e._zod.parse=(n,o)=>{if(t.coerce)try{n.value=new Date(n.value)}catch{}const s=n.value,r=s instanceof Date;return r&&!Number.isNaN(s.getTime())||n.issues.push({expected:"date",code:"invalid_type",input:s,...r?{received:"Invalid Date"}:{},inst:e}),n}});function Vo(e,t,n){e.issues.length&&t.issues.push(...gt(n,e.issues)),t.value[n]=e.value}const zc=w("$ZodArray",(e,t)=>{J.init(e,t),e._zod.parse=(n,o)=>{const s=n.value;if(!Array.isArray(s))return n.issues.push({expected:"array",code:"invalid_type",input:s,inst:e}),n;n.value=Array(s.length);const r=[];for(let a=0;a<s.length;a++){const u=s[a],d=t.element._zod.run({value:u,issues:[]},o);d instanceof Promise?r.push(d.then(p=>Vo(p,n,a))):Vo(d,n,a)}return r.length?Promise.all(r).then(()=>n):n}});function bn(e,t,n,o){e.issues.length&&t.issues.push(...gt(n,e.issues)),e.value===void 0?n in o&&(t.value[n]=void 0):t.value[n]=e.value}function Xs(e){const t=Object.keys(e.shape);for(const o of t)if(!e.shape?.[o]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${o}": expected a Zod schema`);const n=Gi(e.shape);return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(n)}}function Vs(e,t,n,o,s,r){const a=[],u=s.keySet,d=s.catchall._zod,p=d.def.type;for(const h in t){if(u.has(h))continue;if(p==="never"){a.push(h);continue}const f=d.run({value:t[h],issues:[]},o);f instanceof Promise?e.push(f.then(g=>bn(g,n,h,t))):bn(f,n,h,t)}return a.length&&n.issues.push({code:"unrecognized_keys",keys:a,input:t,inst:r}),e.length?Promise.all(e).then(()=>n):n}const Mc=w("$ZodObject",(e,t)=>{if(J.init(e,t),!Object.getOwnPropertyDescriptor(t,"shape")?.get){const u=t.shape;Object.defineProperty(t,"shape",{get:()=>{const d={...u};return Object.defineProperty(t,"shape",{value:d}),d}})}const o=ao(()=>Xs(t));H(e._zod,"propValues",()=>{const u=t.shape,d={};for(const p in u){const h=u[p]._zod;if(h.values){d[p]??(d[p]=new Set);for(const f of h.values)d[p].add(f)}}return d});const s=gn,r=t.catchall;let a;e._zod.parse=(u,d)=>{a??(a=o.value);const p=u.value;if(!s(p))return u.issues.push({expected:"object",code:"invalid_type",input:p,inst:e}),u;u.value={};const h=[],f=a.shape;for(const g of a.keys){const y=f[g]._zod.run({value:p[g],issues:[]},d);y instanceof Promise?h.push(y.then(v=>bn(v,u,g,p))):bn(y,u,g,p)}return r?Vs(h,p,u,d,o.value,e):h.length?Promise.all(h).then(()=>u):u}}),Nc=w("$ZodObjectJIT",(e,t)=>{Mc.init(e,t);const n=e._zod.parse,o=ao(()=>Xs(t)),s=g=>{const _=new nc(["shape","payload","ctx"]),y=o.value,v=M=>{const K=Fo(M);return`shape[${K}]._zod.run({ value: input[${K}], issues: [] }, ctx)`};_.write("const input = payload.value;");const S=Object.create(null);let T=0;for(const M of y.keys)S[M]=`key_${T++}`;_.write("const newResult = {};");for(const M of y.keys){const K=S[M],Se=Fo(M);_.write(`const ${K} = ${v(M)};`),_.write(`
        if (${K}.issues.length) {
          payload.issues = payload.issues.concat(${K}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${Se}, ...iss.path] : [${Se}]
          })));
        }
        
        
        if (${K}.value === undefined) {
          if (${Se} in input) {
            newResult[${Se}] = undefined;
          }
        } else {
          newResult[${Se}] = ${K}.value;
        }
        
      `)}_.write("payload.value = newResult;"),_.write("return payload;");const C=_.compile();return(M,K)=>C(g,M,K)};let r;const a=gn,u=!Hn.jitless,p=u&&Hi.value,h=t.catchall;let f;e._zod.parse=(g,_)=>{f??(f=o.value);const y=g.value;return a(y)?u&&p&&_?.async===!1&&_.jitless!==!0?(r||(r=s(t.shape)),g=r(g,_),h?Vs([],y,g,_,f,e):g):n(g,_):(g.issues.push({expected:"object",code:"invalid_type",input:y,inst:e}),g)}});function Ko(e,t,n,o){for(const r of e)if(r.issues.length===0)return t.value=r.value,t;const s=e.filter(r=>!_t(r));return s.length===1?(t.value=s[0].value,s[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:n,errors:e.map(r=>r.issues.map(a=>Ve(a,o,Ze())))}),t)}const Lc=w("$ZodUnion",(e,t)=>{J.init(e,t),H(e._zod,"optin",()=>t.options.some(s=>s._zod.optin==="optional")?"optional":void 0),H(e._zod,"optout",()=>t.options.some(s=>s._zod.optout==="optional")?"optional":void 0),H(e._zod,"values",()=>{if(t.options.every(s=>s._zod.values))return new Set(t.options.flatMap(s=>Array.from(s._zod.values)))}),H(e._zod,"pattern",()=>{if(t.options.every(s=>s._zod.pattern)){const s=t.options.map(r=>r._zod.pattern);return new RegExp(`^(${s.map(r=>uo(r.source)).join("|")})$`)}});const n=t.options.length===1,o=t.options[0]._zod.run;e._zod.parse=(s,r)=>{if(n)return o(s,r);let a=!1;const u=[];for(const d of t.options){const p=d._zod.run({value:s.value,issues:[]},r);if(p instanceof Promise)u.push(p),a=!0;else{if(p.issues.length===0)return p;u.push(p)}}return a?Promise.all(u).then(d=>Ko(d,s,e,r)):Ko(u,s,e,r)}}),Uc=w("$ZodIntersection",(e,t)=>{J.init(e,t),e._zod.parse=(n,o)=>{const s=n.value,r=t.left._zod.run({value:s,issues:[]},o),a=t.right._zod.run({value:s,issues:[]},o);return r instanceof Promise||a instanceof Promise?Promise.all([r,a]).then(([d,p])=>Ho(n,d,p)):Ho(n,r,a)}});function Gn(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(Rt(e)&&Rt(t)){const n=Object.keys(t),o=Object.keys(e).filter(r=>n.indexOf(r)!==-1),s={...e,...t};for(const r of o){const a=Gn(e[r],t[r]);if(!a.valid)return{valid:!1,mergeErrorPath:[r,...a.mergeErrorPath]};s[r]=a.data}return{valid:!0,data:s}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let o=0;o<e.length;o++){const s=e[o],r=t[o],a=Gn(s,r);if(!a.valid)return{valid:!1,mergeErrorPath:[o,...a.mergeErrorPath]};n.push(a.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function Ho(e,t,n){if(t.issues.length&&e.issues.push(...t.issues),n.issues.length&&e.issues.push(...n.issues),_t(e))return e;const o=Gn(t.value,n.value);if(!o.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(o.mergeErrorPath)}`);return e.value=o.data,e}const Zc=w("$ZodRecord",(e,t)=>{J.init(e,t),e._zod.parse=(n,o)=>{const s=n.value;if(!Rt(s))return n.issues.push({expected:"record",code:"invalid_type",input:s,inst:e}),n;const r=[],a=t.keyType._zod.values;if(a){n.value={};const u=new Set;for(const p of a)if(typeof p=="string"||typeof p=="number"||typeof p=="symbol"){u.add(typeof p=="number"?p.toString():p);const h=t.valueType._zod.run({value:s[p],issues:[]},o);h instanceof Promise?r.push(h.then(f=>{f.issues.length&&n.issues.push(...gt(p,f.issues)),n.value[p]=f.value})):(h.issues.length&&n.issues.push(...gt(p,h.issues)),n.value[p]=h.value)}let d;for(const p in s)u.has(p)||(d=d??[],d.push(p));d&&d.length>0&&n.issues.push({code:"unrecognized_keys",input:s,inst:e,keys:d})}else{n.value={};for(const u of Reflect.ownKeys(s)){if(u==="__proto__")continue;const d=t.keyType._zod.run({value:u,issues:[]},o);if(d instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(d.issues.length){n.issues.push({code:"invalid_key",origin:"record",issues:d.issues.map(h=>Ve(h,o,Ze())),input:u,path:[u],inst:e}),n.value[d.value]=d.value;continue}const p=t.valueType._zod.run({value:s[u],issues:[]},o);p instanceof Promise?r.push(p.then(h=>{h.issues.length&&n.issues.push(...gt(u,h.issues)),n.value[d.value]=h.value})):(p.issues.length&&n.issues.push(...gt(u,p.issues)),n.value[d.value]=p.value)}}return r.length?Promise.all(r).then(()=>n):n}}),jc=w("$ZodEnum",(e,t)=>{J.init(e,t);const n=Os(t.entries),o=new Set(n);e._zod.values=o,e._zod.pattern=new RegExp(`^(${n.filter(s=>Bi.has(typeof s)).map(s=>typeof s=="string"?wt(s):s.toString()).join("|")})$`),e._zod.parse=(s,r)=>{const a=s.value;return o.has(a)||s.issues.push({code:"invalid_value",values:n,input:a,inst:e}),s}}),Dc=w("$ZodLiteral",(e,t)=>{if(J.init(e,t),t.values.length===0)throw new Error("Cannot create literal schema with no valid values");const n=new Set(t.values);e._zod.values=n,e._zod.pattern=new RegExp(`^(${t.values.map(o=>typeof o=="string"?wt(o):o?wt(o.toString()):String(o)).join("|")})$`),e._zod.parse=(o,s)=>{const r=o.value;return n.has(r)||o.issues.push({code:"invalid_value",values:t.values,input:r,inst:e}),o}}),Fc=w("$ZodTransform",(e,t)=>{J.init(e,t),e._zod.parse=(n,o)=>{if(o.direction==="backward")throw new Ts(e.constructor.name);const s=t.transform(n.value,n);if(o.async)return(s instanceof Promise?s:Promise.resolve(s)).then(a=>(n.value=a,n));if(s instanceof Promise)throw new St;return n.value=s,n}});function Bo(e,t){return e.issues.length&&t===void 0?{issues:[],value:void 0}:e}const Xc=w("$ZodOptional",(e,t)=>{J.init(e,t),e._zod.optin="optional",e._zod.optout="optional",H(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),H(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${uo(n.source)})?$`):void 0}),e._zod.parse=(n,o)=>{if(t.innerType._zod.optin==="optional"){const s=t.innerType._zod.run(n,o);return s instanceof Promise?s.then(r=>Bo(r,n.value)):Bo(s,n.value)}return n.value===void 0?n:t.innerType._zod.run(n,o)}}),Vc=w("$ZodNullable",(e,t)=>{J.init(e,t),H(e._zod,"optin",()=>t.innerType._zod.optin),H(e._zod,"optout",()=>t.innerType._zod.optout),H(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${uo(n.source)}|null)$`):void 0}),H(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(n,o)=>n.value===null?n:t.innerType._zod.run(n,o)}),Kc=w("$ZodDefault",(e,t)=>{J.init(e,t),e._zod.optin="optional",H(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,o)=>{if(o.direction==="backward")return t.innerType._zod.run(n,o);if(n.value===void 0)return n.value=t.defaultValue,n;const s=t.innerType._zod.run(n,o);return s instanceof Promise?s.then(r=>Go(r,t)):Go(s,t)}});function Go(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const Hc=w("$ZodPrefault",(e,t)=>{J.init(e,t),e._zod.optin="optional",H(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,o)=>(o.direction==="backward"||n.value===void 0&&(n.value=t.defaultValue),t.innerType._zod.run(n,o))}),Bc=w("$ZodNonOptional",(e,t)=>{J.init(e,t),H(e._zod,"values",()=>{const n=t.innerType._zod.values;return n?new Set([...n].filter(o=>o!==void 0)):void 0}),e._zod.parse=(n,o)=>{const s=t.innerType._zod.run(n,o);return s instanceof Promise?s.then(r=>Wo(r,e)):Wo(s,e)}});function Wo(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const Gc=w("$ZodCatch",(e,t)=>{J.init(e,t),H(e._zod,"optin",()=>t.innerType._zod.optin),H(e._zod,"optout",()=>t.innerType._zod.optout),H(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,o)=>{if(o.direction==="backward")return t.innerType._zod.run(n,o);const s=t.innerType._zod.run(n,o);return s instanceof Promise?s.then(r=>(n.value=r.value,r.issues.length&&(n.value=t.catchValue({...n,error:{issues:r.issues.map(a=>Ve(a,o,Ze()))},input:n.value}),n.issues=[]),n)):(n.value=s.value,s.issues.length&&(n.value=t.catchValue({...n,error:{issues:s.issues.map(r=>Ve(r,o,Ze()))},input:n.value}),n.issues=[]),n)}}),Wc=w("$ZodPipe",(e,t)=>{J.init(e,t),H(e._zod,"values",()=>t.in._zod.values),H(e._zod,"optin",()=>t.in._zod.optin),H(e._zod,"optout",()=>t.out._zod.optout),H(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(n,o)=>{if(o.direction==="backward"){const r=t.out._zod.run(n,o);return r instanceof Promise?r.then(a=>un(a,t.in,o)):un(r,t.in,o)}const s=t.in._zod.run(n,o);return s instanceof Promise?s.then(r=>un(r,t.out,o)):un(s,t.out,o)}});function un(e,t,n){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},n)}const Jc=w("$ZodReadonly",(e,t)=>{J.init(e,t),H(e._zod,"propValues",()=>t.innerType._zod.propValues),H(e._zod,"values",()=>t.innerType._zod.values),H(e._zod,"optin",()=>t.innerType?._zod?.optin),H(e._zod,"optout",()=>t.innerType?._zod?.optout),e._zod.parse=(n,o)=>{if(o.direction==="backward")return t.innerType._zod.run(n,o);const s=t.innerType._zod.run(n,o);return s instanceof Promise?s.then(Jo):Jo(s)}});function Jo(e){return e.value=Object.freeze(e.value),e}const Yc=w("$ZodLazy",(e,t)=>{J.init(e,t),H(e._zod,"innerType",()=>t.getter()),H(e._zod,"pattern",()=>e._zod.innerType?._zod?.pattern),H(e._zod,"propValues",()=>e._zod.innerType?._zod?.propValues),H(e._zod,"optin",()=>e._zod.innerType?._zod?.optin??void 0),H(e._zod,"optout",()=>e._zod.innerType?._zod?.optout??void 0),e._zod.parse=(n,o)=>e._zod.innerType._zod.run(n,o)}),Qc=w("$ZodCustom",(e,t)=>{ve.init(e,t),J.init(e,t),e._zod.parse=(n,o)=>n,e._zod.check=n=>{const o=n.value,s=t.fn(o);if(s instanceof Promise)return s.then(r=>Yo(r,n,o,e));Yo(s,n,o,e)}});function Yo(e,t,n,o){if(!e){const s={code:"custom",input:n,inst:o,path:[...o._zod.def.path??[]],continue:!o._zod.def.abort};o._zod.def.params&&(s.params=o._zod.def.params),t.issues.push(Ut(s))}}const el=e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":{if(Array.isArray(e))return"array";if(e===null)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}}return t},tl=()=>{const e={string:{unit:"characters",verb:"to have"},file:{unit:"bytes",verb:"to have"},array:{unit:"items",verb:"to have"},set:{unit:"items",verb:"to have"}};function t(o){return e[o]??null}const n={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",mac:"MAC address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"};return o=>{switch(o.code){case"invalid_type":return`Invalid input: expected ${o.expected}, received ${el(o.input)}`;case"invalid_value":return o.values.length===1?`Invalid input: expected ${qs(o.values[0])}`:`Invalid option: expected one of ${jo(o.values,"|")}`;case"too_big":{const s=o.inclusive?"<=":"<",r=t(o.origin);return r?`Too big: expected ${o.origin??"value"} to have ${s}${o.maximum.toString()} ${r.unit??"elements"}`:`Too big: expected ${o.origin??"value"} to be ${s}${o.maximum.toString()}`}case"too_small":{const s=o.inclusive?">=":">",r=t(o.origin);return r?`Too small: expected ${o.origin} to have ${s}${o.minimum.toString()} ${r.unit}`:`Too small: expected ${o.origin} to be ${s}${o.minimum.toString()}`}case"invalid_format":{const s=o;return s.format==="starts_with"?`Invalid string: must start with "${s.prefix}"`:s.format==="ends_with"?`Invalid string: must end with "${s.suffix}"`:s.format==="includes"?`Invalid string: must include "${s.includes}"`:s.format==="regex"?`Invalid string: must match pattern ${s.pattern}`:`Invalid ${n[s.format]??o.format}`}case"not_multiple_of":return`Invalid number: must be a multiple of ${o.divisor}`;case"unrecognized_keys":return`Unrecognized key${o.keys.length>1?"s":""}: ${jo(o.keys,", ")}`;case"invalid_key":return`Invalid key in ${o.origin}`;case"invalid_union":return"Invalid input";case"invalid_element":return`Invalid value in ${o.origin}`;default:return"Invalid input"}}};function nl(){return{localeError:tl()}}var Qo;class Ks{constructor(){this._map=new WeakMap,this._idmap=new Map}add(t,...n){const o=n[0];if(this._map.set(t,o),o&&typeof o=="object"&&"id"in o){if(this._idmap.has(o.id))throw new Error(`ID ${o.id} already exists in the registry`);this._idmap.set(o.id,t)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(t){const n=this._map.get(t);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(t),this}get(t){const n=t._zod.parent;if(n){const o={...this.get(n)??{}};delete o.id;const s={...o,...this._map.get(t)};return Object.keys(s).length?s:void 0}return this._map.get(t)}has(t){return this._map.has(t)}}function ol(){return new Ks}(Qo=globalThis).__zod_globalRegistry??(Qo.__zod_globalRegistry=ol());const Mt=globalThis.__zod_globalRegistry;function sl(e,t){return new e({type:"string",...z(t)})}function rl(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...z(t)})}function es(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...z(t)})}function al(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...z(t)})}function il(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...z(t)})}function ul(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...z(t)})}function cl(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...z(t)})}function ll(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...z(t)})}function dl(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...z(t)})}function pl(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...z(t)})}function ml(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...z(t)})}function hl(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...z(t)})}function fl(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...z(t)})}function yl(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...z(t)})}function _l(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...z(t)})}function gl(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...z(t)})}function bl(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...z(t)})}function vl(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...z(t)})}function Sl(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...z(t)})}function kl(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...z(t)})}function Rl(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...z(t)})}function wl(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...z(t)})}function xl(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...z(t)})}function $l(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...z(t)})}function Cl(e,t){return new e({type:"string",format:"date",check:"string_format",...z(t)})}function Il(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...z(t)})}function Tl(e,t){return new e({type:"string",format:"duration",check:"string_format",...z(t)})}function Ol(e,t){return new e({type:"number",checks:[],...z(t)})}function El(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...z(t)})}function Al(e,t){return new e({type:"boolean",...z(t)})}function ql(e,t){return new e({type:"boolean",coerce:!0,...z(t)})}function Pl(e){return new e({type:"any"})}function zl(e){return new e({type:"unknown"})}function Ml(e,t){return new e({type:"never",...z(t)})}function Nl(e,t){return new e({type:"date",...z(t)})}function ts(e,t){return new Zs({check:"less_than",...z(t),value:e,inclusive:!1})}function hn(e,t){return new Zs({check:"less_than",...z(t),value:e,inclusive:!0})}function ns(e,t){return new js({check:"greater_than",...z(t),value:e,inclusive:!1})}function fn(e,t){return new js({check:"greater_than",...z(t),value:e,inclusive:!0})}function os(e,t){return new Xu({check:"multiple_of",...z(t),value:e})}function Hs(e,t){return new Ku({check:"max_length",...z(t),maximum:e})}function vn(e,t){return new Hu({check:"min_length",...z(t),minimum:e})}function Bs(e,t){return new Bu({check:"length_equals",...z(t),length:e})}function Ll(e,t){return new Gu({check:"string_format",format:"regex",...z(t),pattern:e})}function Ul(e){return new Wu({check:"string_format",format:"lowercase",...z(e)})}function Zl(e){return new Ju({check:"string_format",format:"uppercase",...z(e)})}function jl(e,t){return new Yu({check:"string_format",format:"includes",...z(t),includes:e})}function Dl(e,t){return new Qu({check:"string_format",format:"starts_with",...z(t),prefix:e})}function Fl(e,t){return new ec({check:"string_format",format:"ends_with",...z(t),suffix:e})}function Ot(e){return new tc({check:"overwrite",tx:e})}function Xl(e){return Ot(t=>t.normalize(e))}function Vl(){return Ot(e=>e.trim())}function Kl(){return Ot(e=>e.toLowerCase())}function Hl(){return Ot(e=>e.toUpperCase())}function Bl(){return Ot(e=>Ki(e))}function Gl(e,t,n){return new e({type:"array",element:t,...z(n)})}function Wl(e,t,n){const o=z(n);return o.abort??(o.abort=!0),new e({type:"custom",check:"custom",fn:t,...o})}function Jl(e,t,n){return new e({type:"custom",check:"custom",fn:t,...z(n)})}function Yl(e){const t=Ql(n=>(n.addIssue=o=>{if(typeof o=="string")n.issues.push(Ut(o,n.value,t._zod.def));else{const s=o;s.fatal&&(s.continue=!1),s.code??(s.code="custom"),s.input??(s.input=n.value),s.inst??(s.inst=t),s.continue??(s.continue=!t._zod.def.abort),n.issues.push(Ut(s))}},e(n.value,n)));return t}function Ql(e,t){const n=new ve({check:"custom",...z(t)});return n._zod.check=e,n}class ss{constructor(t){this.counter=0,this.metadataRegistry=t?.metadata??Mt,this.target=t?.target??"draft-2020-12",this.unrepresentable=t?.unrepresentable??"throw",this.override=t?.override??(()=>{}),this.io=t?.io??"output",this.seen=new Map}process(t,n={path:[],schemaPath:[]}){var o;const s=t._zod.def,r={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},a=this.seen.get(t);if(a)return a.count++,n.schemaPath.includes(t)&&(a.cycle=n.path),a.schema;const u={schema:{},count:1,cycle:void 0,path:n.path};this.seen.set(t,u);const d=t._zod.toJSONSchema?.();if(d)u.schema=d;else{const f={...n,schemaPath:[...n.schemaPath,t],path:n.path},g=t._zod.parent;if(g)u.ref=g,this.process(g,f),this.seen.get(g).isParent=!0;else{const _=u.schema;switch(s.type){case"string":{const y=_;y.type="string";const{minimum:v,maximum:S,format:T,patterns:C,contentEncoding:M}=t._zod.bag;if(typeof v=="number"&&(y.minLength=v),typeof S=="number"&&(y.maxLength=S),T&&(y.format=r[T]??T,y.format===""&&delete y.format),M&&(y.contentEncoding=M),C&&C.size>0){const K=[...C];K.length===1?y.pattern=K[0].source:K.length>1&&(u.schema.allOf=[...K.map(Se=>({...this.target==="draft-7"||this.target==="draft-4"||this.target==="openapi-3.0"?{type:"string"}:{},pattern:Se.source}))])}break}case"number":{const y=_,{minimum:v,maximum:S,format:T,multipleOf:C,exclusiveMaximum:M,exclusiveMinimum:K}=t._zod.bag;typeof T=="string"&&T.includes("int")?y.type="integer":y.type="number",typeof K=="number"&&(this.target==="draft-4"||this.target==="openapi-3.0"?(y.minimum=K,y.exclusiveMinimum=!0):y.exclusiveMinimum=K),typeof v=="number"&&(y.minimum=v,typeof K=="number"&&this.target!=="draft-4"&&(K>=v?delete y.minimum:delete y.exclusiveMinimum)),typeof M=="number"&&(this.target==="draft-4"||this.target==="openapi-3.0"?(y.maximum=M,y.exclusiveMaximum=!0):y.exclusiveMaximum=M),typeof S=="number"&&(y.maximum=S,typeof M=="number"&&this.target!=="draft-4"&&(M<=S?delete y.maximum:delete y.exclusiveMaximum)),typeof C=="number"&&(y.multipleOf=C);break}case"boolean":{const y=_;y.type="boolean";break}case"bigint":{if(this.unrepresentable==="throw")throw new Error("BigInt cannot be represented in JSON Schema");break}case"symbol":{if(this.unrepresentable==="throw")throw new Error("Symbols cannot be represented in JSON Schema");break}case"null":{this.target==="openapi-3.0"?(_.type="string",_.nullable=!0,_.enum=[null]):_.type="null";break}case"any":break;case"unknown":break;case"undefined":{if(this.unrepresentable==="throw")throw new Error("Undefined cannot be represented in JSON Schema");break}case"void":{if(this.unrepresentable==="throw")throw new Error("Void cannot be represented in JSON Schema");break}case"never":{_.not={};break}case"date":{if(this.unrepresentable==="throw")throw new Error("Date cannot be represented in JSON Schema");break}case"array":{const y=_,{minimum:v,maximum:S}=t._zod.bag;typeof v=="number"&&(y.minItems=v),typeof S=="number"&&(y.maxItems=S),y.type="array",y.items=this.process(s.element,{...f,path:[...f.path,"items"]});break}case"object":{const y=_;y.type="object",y.properties={};const v=s.shape;for(const C in v)y.properties[C]=this.process(v[C],{...f,path:[...f.path,"properties",C]});const S=new Set(Object.keys(v)),T=new Set([...S].filter(C=>{const M=s.shape[C]._zod;return this.io==="input"?M.optin===void 0:M.optout===void 0}));T.size>0&&(y.required=Array.from(T)),s.catchall?._zod.def.type==="never"?y.additionalProperties=!1:s.catchall?s.catchall&&(y.additionalProperties=this.process(s.catchall,{...f,path:[...f.path,"additionalProperties"]})):this.io==="output"&&(y.additionalProperties=!1);break}case"union":{const y=_,v=s.discriminator!==void 0,S=s.options.map((T,C)=>this.process(T,{...f,path:[...f.path,v?"oneOf":"anyOf",C]}));v?y.oneOf=S:y.anyOf=S;break}case"intersection":{const y=_,v=this.process(s.left,{...f,path:[...f.path,"allOf",0]}),S=this.process(s.right,{...f,path:[...f.path,"allOf",1]}),T=M=>"allOf"in M&&Object.keys(M).length===1,C=[...T(v)?v.allOf:[v],...T(S)?S.allOf:[S]];y.allOf=C;break}case"tuple":{const y=_;y.type="array";const v=this.target==="draft-2020-12"?"prefixItems":"items",S=this.target==="draft-2020-12"||this.target==="openapi-3.0"?"items":"additionalItems",T=s.items.map((Se,pe)=>this.process(Se,{...f,path:[...f.path,v,pe]})),C=s.rest?this.process(s.rest,{...f,path:[...f.path,S,...this.target==="openapi-3.0"?[s.items.length]:[]]}):null;this.target==="draft-2020-12"?(y.prefixItems=T,C&&(y.items=C)):this.target==="openapi-3.0"?(y.items={anyOf:T},C&&y.items.anyOf.push(C),y.minItems=T.length,C||(y.maxItems=T.length)):(y.items=T,C&&(y.additionalItems=C));const{minimum:M,maximum:K}=t._zod.bag;typeof M=="number"&&(y.minItems=M),typeof K=="number"&&(y.maxItems=K);break}case"record":{const y=_;y.type="object",(this.target==="draft-7"||this.target==="draft-2020-12")&&(y.propertyNames=this.process(s.keyType,{...f,path:[...f.path,"propertyNames"]})),y.additionalProperties=this.process(s.valueType,{...f,path:[...f.path,"additionalProperties"]});break}case"map":{if(this.unrepresentable==="throw")throw new Error("Map cannot be represented in JSON Schema");break}case"set":{if(this.unrepresentable==="throw")throw new Error("Set cannot be represented in JSON Schema");break}case"enum":{const y=_,v=Os(s.entries);v.every(S=>typeof S=="number")&&(y.type="number"),v.every(S=>typeof S=="string")&&(y.type="string"),y.enum=v;break}case"literal":{const y=_,v=[];for(const S of s.values)if(S===void 0){if(this.unrepresentable==="throw")throw new Error("Literal `undefined` cannot be represented in JSON Schema")}else if(typeof S=="bigint"){if(this.unrepresentable==="throw")throw new Error("BigInt literals cannot be represented in JSON Schema");v.push(Number(S))}else v.push(S);if(v.length!==0)if(v.length===1){const S=v[0];y.type=S===null?"null":typeof S,this.target==="draft-4"||this.target==="openapi-3.0"?y.enum=[S]:y.const=S}else v.every(S=>typeof S=="number")&&(y.type="number"),v.every(S=>typeof S=="string")&&(y.type="string"),v.every(S=>typeof S=="boolean")&&(y.type="string"),v.every(S=>S===null)&&(y.type="null"),y.enum=v;break}case"file":{const y=_,v={type:"string",format:"binary",contentEncoding:"binary"},{minimum:S,maximum:T,mime:C}=t._zod.bag;S!==void 0&&(v.minLength=S),T!==void 0&&(v.maxLength=T),C?C.length===1?(v.contentMediaType=C[0],Object.assign(y,v)):y.anyOf=C.map(M=>({...v,contentMediaType:M})):Object.assign(y,v);break}case"transform":{if(this.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema");break}case"nullable":{const y=this.process(s.innerType,f);this.target==="openapi-3.0"?(u.ref=s.innerType,_.nullable=!0):_.anyOf=[y,{type:"null"}];break}case"nonoptional":{this.process(s.innerType,f),u.ref=s.innerType;break}case"success":{const y=_;y.type="boolean";break}case"default":{this.process(s.innerType,f),u.ref=s.innerType,_.default=JSON.parse(JSON.stringify(s.defaultValue));break}case"prefault":{this.process(s.innerType,f),u.ref=s.innerType,this.io==="input"&&(_._prefault=JSON.parse(JSON.stringify(s.defaultValue)));break}case"catch":{this.process(s.innerType,f),u.ref=s.innerType;let y;try{y=s.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}_.default=y;break}case"nan":{if(this.unrepresentable==="throw")throw new Error("NaN cannot be represented in JSON Schema");break}case"template_literal":{const y=_,v=t._zod.pattern;if(!v)throw new Error("Pattern not found in template literal");y.type="string",y.pattern=v.source;break}case"pipe":{const y=this.io==="input"?s.in._zod.def.type==="transform"?s.out:s.in:s.out;this.process(y,f),u.ref=y;break}case"readonly":{this.process(s.innerType,f),u.ref=s.innerType,_.readOnly=!0;break}case"promise":{this.process(s.innerType,f),u.ref=s.innerType;break}case"optional":{this.process(s.innerType,f),u.ref=s.innerType;break}case"lazy":{const y=t._zod.innerType;this.process(y,f),u.ref=y;break}case"custom":{if(this.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema");break}case"function":{if(this.unrepresentable==="throw")throw new Error("Function types cannot be represented in JSON Schema");break}}}}const p=this.metadataRegistry.get(t);return p&&Object.assign(u.schema,p),this.io==="input"&&ye(t)&&(delete u.schema.examples,delete u.schema.default),this.io==="input"&&u.schema._prefault&&((o=u.schema).default??(o.default=u.schema._prefault)),delete u.schema._prefault,this.seen.get(t).schema}emit(t,n){const o={cycles:n?.cycles??"ref",reused:n?.reused??"inline",external:n?.external??void 0},s=this.seen.get(t);if(!s)throw new Error("Unprocessed schema. This is a bug in Zod.");const r=h=>{const f=this.target==="draft-2020-12"?"$defs":"definitions";if(o.external){const v=o.external.registry.get(h[0])?.id,S=o.external.uri??(C=>C);if(v)return{ref:S(v)};const T=h[1].defId??h[1].schema.id??`schema${this.counter++}`;return h[1].defId=T,{defId:T,ref:`${S("__shared")}#/${f}/${T}`}}if(h[1]===s)return{ref:"#"};const _=`#/${f}/`,y=h[1].schema.id??`__schema${this.counter++}`;return{defId:y,ref:_+y}},a=h=>{if(h[1].schema.$ref)return;const f=h[1],{ref:g,defId:_}=r(h);f.def={...f.schema},_&&(f.defId=_);const y=f.schema;for(const v in y)delete y[v];y.$ref=g};if(o.cycles==="throw")for(const h of this.seen.entries()){const f=h[1];if(f.cycle)throw new Error(`Cycle detected: #/${f.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const h of this.seen.entries()){const f=h[1];if(t===h[0]){a(h);continue}if(o.external){const _=o.external.registry.get(h[0])?.id;if(t!==h[0]&&_){a(h);continue}}if(this.metadataRegistry.get(h[0])?.id){a(h);continue}if(f.cycle){a(h);continue}if(f.count>1&&o.reused==="ref"){a(h);continue}}const u=(h,f)=>{const g=this.seen.get(h),_=g.def??g.schema,y={..._};if(g.ref===null)return;const v=g.ref;if(g.ref=null,v){u(v,f);const S=this.seen.get(v).schema;S.$ref&&(f.target==="draft-7"||f.target==="draft-4"||f.target==="openapi-3.0")?(_.allOf=_.allOf??[],_.allOf.push(S)):(Object.assign(_,S),Object.assign(_,y))}g.isParent||this.override({zodSchema:h,jsonSchema:_,path:g.path??[]})};for(const h of[...this.seen.entries()].reverse())u(h[0],{target:this.target});const d={};if(this.target==="draft-2020-12"?d.$schema="https://json-schema.org/draft/2020-12/schema":this.target==="draft-7"?d.$schema="http://json-schema.org/draft-07/schema#":this.target==="draft-4"?d.$schema="http://json-schema.org/draft-04/schema#":this.target==="openapi-3.0"||console.warn(`Invalid target: ${this.target}`),o.external?.uri){const h=o.external.registry.get(t)?.id;if(!h)throw new Error("Schema is missing an `id` property");d.$id=o.external.uri(h)}Object.assign(d,s.def);const p=o.external?.defs??{};for(const h of this.seen.entries()){const f=h[1];f.def&&f.defId&&(p[f.defId]=f.def)}o.external||Object.keys(p).length>0&&(this.target==="draft-2020-12"?d.$defs=p:d.definitions=p);try{return JSON.parse(JSON.stringify(d))}catch{throw new Error("Error converting schema to JSON.")}}}function ed(e,t){if(e instanceof Ks){const o=new ss(t),s={};for(const u of e._idmap.entries()){const[d,p]=u;o.process(p)}const r={},a={registry:e,uri:t?.uri,defs:s};for(const u of e._idmap.entries()){const[d,p]=u;r[d]=o.emit(p,{...t,external:a})}if(Object.keys(s).length>0){const u=o.target==="draft-2020-12"?"$defs":"definitions";r.__shared={[u]:s}}return{schemas:r}}const n=new ss(t);return n.process(e),n.emit(e,t)}function ye(e,t){const n=t??{seen:new Set};if(n.seen.has(e))return!1;n.seen.add(e);const o=e._zod.def;if(o.type==="transform")return!0;if(o.type==="array")return ye(o.element,n);if(o.type==="set")return ye(o.valueType,n);if(o.type==="lazy")return ye(o.getter(),n);if(o.type==="promise"||o.type==="optional"||o.type==="nonoptional"||o.type==="nullable"||o.type==="readonly"||o.type==="default"||o.type==="prefault")return ye(o.innerType,n);if(o.type==="intersection")return ye(o.left,n)||ye(o.right,n);if(o.type==="record"||o.type==="map")return ye(o.keyType,n)||ye(o.valueType,n);if(o.type==="pipe")return ye(o.in,n)||ye(o.out,n);if(o.type==="object"){for(const s in o.shape)if(ye(o.shape[s],n))return!0;return!1}if(o.type==="union"){for(const s of o.options)if(ye(s,n))return!0;return!1}if(o.type==="tuple"){for(const s of o.items)if(ye(s,n))return!0;return!!(o.rest&&ye(o.rest,n))}return!1}const td=w("ZodISODateTime",(e,t)=>{fc.init(e,t),ue.init(e,t)});function Et(e){return $l(td,e)}const nd=w("ZodISODate",(e,t)=>{yc.init(e,t),ue.init(e,t)});function od(e){return Cl(nd,e)}const sd=w("ZodISOTime",(e,t)=>{_c.init(e,t),ue.init(e,t)});function rd(e){return Il(sd,e)}const ad=w("ZodISODuration",(e,t)=>{gc.init(e,t),ue.init(e,t)});function id(e){return Tl(ad,e)}const ud=(e,t)=>{En.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:n=>ru(e,n)},flatten:{value:n=>su(e,n)},addIssue:{value:n=>{e.issues.push(n),e.message=JSON.stringify(e.issues,Bn,2)}},addIssues:{value:n=>{e.issues.push(...n),e.message=JSON.stringify(e.issues,Bn,2)}},isEmpty:{get(){return e.issues.length===0}}})},$e=w("ZodError",ud,{Parent:Error}),cd=lo($e),ld=po($e),dd=An($e),pd=qn($e),md=lu($e),hd=du($e),fd=pu($e),yd=mu($e),_d=hu($e),gd=fu($e),bd=yu($e),vd=_u($e),te=w("ZodType",(e,t)=>(J.init(e,t),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...n)=>e.clone(it(t,{checks:[...t.checks??[],...n.map(o=>typeof o=="function"?{_zod:{check:o,def:{check:"custom"},onattach:[]}}:o)]})),e.clone=(n,o)=>We(e,n,o),e.brand=()=>e,e.register=((n,o)=>(n.add(e,o),e)),e.parse=(n,o)=>cd(e,n,o,{callee:e.parse}),e.safeParse=(n,o)=>dd(e,n,o),e.parseAsync=async(n,o)=>ld(e,n,o,{callee:e.parseAsync}),e.safeParseAsync=async(n,o)=>pd(e,n,o),e.spa=e.safeParseAsync,e.encode=(n,o)=>md(e,n,o),e.decode=(n,o)=>hd(e,n,o),e.encodeAsync=async(n,o)=>fd(e,n,o),e.decodeAsync=async(n,o)=>yd(e,n,o),e.safeEncode=(n,o)=>_d(e,n,o),e.safeDecode=(n,o)=>gd(e,n,o),e.safeEncodeAsync=async(n,o)=>bd(e,n,o),e.safeDecodeAsync=async(n,o)=>vd(e,n,o),e.refine=(n,o)=>e.check(pp(n,o)),e.superRefine=n=>e.check(mp(n)),e.overwrite=n=>e.check(Ot(n)),e.optional=()=>is(e),e.nullable=()=>c(e),e.nullish=()=>is(c(e)),e.nonoptional=n=>rp(e,n),e.array=()=>$(e),e.or=n=>k([e,n]),e.and=n=>Gd(e,n),e.transform=n=>us(e,Qd(n)),e.default=n=>np(e,n),e.prefault=n=>sp(e,n),e.catch=n=>ip(e,n),e.pipe=n=>us(e,n),e.readonly=()=>lp(e),e.describe=n=>{const o=e.clone();return Mt.add(o,{description:n}),o},Object.defineProperty(e,"description",{get(){return Mt.get(e)?.description},configurable:!0}),e.meta=(...n)=>{if(n.length===0)return Mt.get(e);const o=e.clone();return Mt.add(o,n[0]),o},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),Gs=w("_ZodString",(e,t)=>{mo.init(e,t),te.init(e,t);const n=e._zod.bag;e.format=n.format??null,e.minLength=n.minimum??null,e.maxLength=n.maximum??null,e.regex=(...o)=>e.check(Ll(...o)),e.includes=(...o)=>e.check(jl(...o)),e.startsWith=(...o)=>e.check(Dl(...o)),e.endsWith=(...o)=>e.check(Fl(...o)),e.min=(...o)=>e.check(vn(...o)),e.max=(...o)=>e.check(Hs(...o)),e.length=(...o)=>e.check(Bs(...o)),e.nonempty=(...o)=>e.check(vn(1,...o)),e.lowercase=o=>e.check(Ul(o)),e.uppercase=o=>e.check(Zl(o)),e.trim=()=>e.check(Vl()),e.normalize=(...o)=>e.check(Xl(...o)),e.toLowerCase=()=>e.check(Kl()),e.toUpperCase=()=>e.check(Hl()),e.slugify=()=>e.check(Bl())}),Sd=w("ZodString",(e,t)=>{mo.init(e,t),Gs.init(e,t),e.email=n=>e.check(rl(kd,n)),e.url=n=>e.check(ll(Rd,n)),e.jwt=n=>e.check(xl(Ld,n)),e.emoji=n=>e.check(dl(wd,n)),e.guid=n=>e.check(es(rs,n)),e.uuid=n=>e.check(al(cn,n)),e.uuidv4=n=>e.check(il(cn,n)),e.uuidv6=n=>e.check(ul(cn,n)),e.uuidv7=n=>e.check(cl(cn,n)),e.nanoid=n=>e.check(pl(xd,n)),e.guid=n=>e.check(es(rs,n)),e.cuid=n=>e.check(ml($d,n)),e.cuid2=n=>e.check(hl(Cd,n)),e.ulid=n=>e.check(fl(Id,n)),e.base64=n=>e.check(kl(zd,n)),e.base64url=n=>e.check(Rl(Md,n)),e.xid=n=>e.check(yl(Td,n)),e.ksuid=n=>e.check(_l(Od,n)),e.ipv4=n=>e.check(gl(Ed,n)),e.ipv6=n=>e.check(bl(Ad,n)),e.cidrv4=n=>e.check(vl(qd,n)),e.cidrv6=n=>e.check(Sl(Pd,n)),e.e164=n=>e.check(wl(Nd,n)),e.datetime=n=>e.check(Et(n)),e.date=n=>e.check(od(n)),e.time=n=>e.check(rd(n)),e.duration=n=>e.check(id(n))});function i(e){return sl(Sd,e)}const ue=w("ZodStringFormat",(e,t)=>{ne.init(e,t),Gs.init(e,t)}),kd=w("ZodEmail",(e,t)=>{ac.init(e,t),ue.init(e,t)}),rs=w("ZodGUID",(e,t)=>{sc.init(e,t),ue.init(e,t)}),cn=w("ZodUUID",(e,t)=>{rc.init(e,t),ue.init(e,t)}),Rd=w("ZodURL",(e,t)=>{ic.init(e,t),ue.init(e,t)}),wd=w("ZodEmoji",(e,t)=>{uc.init(e,t),ue.init(e,t)}),xd=w("ZodNanoID",(e,t)=>{cc.init(e,t),ue.init(e,t)}),$d=w("ZodCUID",(e,t)=>{lc.init(e,t),ue.init(e,t)}),Cd=w("ZodCUID2",(e,t)=>{dc.init(e,t),ue.init(e,t)}),Id=w("ZodULID",(e,t)=>{pc.init(e,t),ue.init(e,t)}),Td=w("ZodXID",(e,t)=>{mc.init(e,t),ue.init(e,t)}),Od=w("ZodKSUID",(e,t)=>{hc.init(e,t),ue.init(e,t)}),Ed=w("ZodIPv4",(e,t)=>{bc.init(e,t),ue.init(e,t)}),Ad=w("ZodIPv6",(e,t)=>{vc.init(e,t),ue.init(e,t)}),qd=w("ZodCIDRv4",(e,t)=>{Sc.init(e,t),ue.init(e,t)}),Pd=w("ZodCIDRv6",(e,t)=>{kc.init(e,t),ue.init(e,t)}),zd=w("ZodBase64",(e,t)=>{Rc.init(e,t),ue.init(e,t)}),Md=w("ZodBase64URL",(e,t)=>{xc.init(e,t),ue.init(e,t)}),Nd=w("ZodE164",(e,t)=>{$c.init(e,t),ue.init(e,t)}),Ld=w("ZodJWT",(e,t)=>{Ic.init(e,t),ue.init(e,t)}),Ws=w("ZodNumber",(e,t)=>{Fs.init(e,t),te.init(e,t),e.gt=(o,s)=>e.check(ns(o,s)),e.gte=(o,s)=>e.check(fn(o,s)),e.min=(o,s)=>e.check(fn(o,s)),e.lt=(o,s)=>e.check(ts(o,s)),e.lte=(o,s)=>e.check(hn(o,s)),e.max=(o,s)=>e.check(hn(o,s)),e.int=o=>e.check(Q(o)),e.safe=o=>e.check(Q(o)),e.positive=o=>e.check(ns(0,o)),e.nonnegative=o=>e.check(fn(0,o)),e.negative=o=>e.check(ts(0,o)),e.nonpositive=o=>e.check(hn(0,o)),e.multipleOf=(o,s)=>e.check(os(o,s)),e.step=(o,s)=>e.check(os(o,s)),e.finite=()=>e;const n=e._zod.bag;e.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),e.isFinite=!0,e.format=n.format??null});function m(e){return Ol(Ws,e)}const Ud=w("ZodNumberFormat",(e,t)=>{Tc.init(e,t),Ws.init(e,t)});function Q(e){return El(Ud,e)}const Js=w("ZodBoolean",(e,t)=>{Oc.init(e,t),te.init(e,t)});function Z(e){return Al(Js,e)}const Zd=w("ZodAny",(e,t)=>{Ec.init(e,t),te.init(e,t)});function N(){return Pl(Zd)}const jd=w("ZodUnknown",(e,t)=>{Ac.init(e,t),te.init(e,t)});function as(){return zl(jd)}const Dd=w("ZodNever",(e,t)=>{qc.init(e,t),te.init(e,t)});function Fd(e){return Ml(Dd,e)}const Xd=w("ZodDate",(e,t)=>{Pc.init(e,t),te.init(e,t),e.min=(o,s)=>e.check(fn(o,s)),e.max=(o,s)=>e.check(hn(o,s));const n=e._zod.bag;e.minDate=n.minimum?new Date(n.minimum):null,e.maxDate=n.maximum?new Date(n.maximum):null});function Ys(e){return Nl(Xd,e)}const Vd=w("ZodArray",(e,t)=>{zc.init(e,t),te.init(e,t),e.element=t.element,e.min=(n,o)=>e.check(vn(n,o)),e.nonempty=n=>e.check(vn(1,n)),e.max=(n,o)=>e.check(Hs(n,o)),e.length=(n,o)=>e.check(Bs(n,o)),e.unwrap=()=>e.element});function $(e,t){return Gl(Vd,e,t)}const Kd=w("ZodObject",(e,t)=>{Nc.init(e,t),te.init(e,t),H(e,"shape",()=>t.shape),e.keyof=()=>q(Object.keys(e._zod.def.shape)),e.catchall=n=>e.clone({...e._zod.def,catchall:n}),e.passthrough=()=>e.clone({...e._zod.def,catchall:as()}),e.loose=()=>e.clone({...e._zod.def,catchall:as()}),e.strict=()=>e.clone({...e._zod.def,catchall:Fd()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=n=>Qi(e,n),e.safeExtend=n=>eu(e,n),e.merge=n=>tu(e,n),e.pick=n=>Ji(e,n),e.omit=n=>Yi(e,n),e.partial=(...n)=>nu(Qs,e,n[0]),e.required=(...n)=>ou(er,e,n[0])});function l(e,t){const n={type:"object",shape:e??{},...z(t)};return new Kd(n)}const Hd=w("ZodUnion",(e,t)=>{Lc.init(e,t),te.init(e,t),e.options=t.options});function k(e,t){return new Hd({type:"union",options:e,...z(t)})}const Bd=w("ZodIntersection",(e,t)=>{Uc.init(e,t),te.init(e,t)});function Gd(e,t){return new Bd({type:"intersection",left:e,right:t})}const Wd=w("ZodRecord",(e,t)=>{Zc.init(e,t),te.init(e,t),e.keyType=t.keyType,e.valueType=t.valueType});function B(e,t,n){return new Wd({type:"record",keyType:e,valueType:t,...z(n)})}const Wn=w("ZodEnum",(e,t)=>{jc.init(e,t),te.init(e,t),e.enum=t.entries,e.options=Object.values(t.entries);const n=new Set(Object.keys(t.entries));e.extract=(o,s)=>{const r={};for(const a of o)if(n.has(a))r[a]=t.entries[a];else throw new Error(`Key ${a} not found in enum`);return new Wn({...t,checks:[],...z(s),entries:r})},e.exclude=(o,s)=>{const r={...t.entries};for(const a of o)if(n.has(a))delete r[a];else throw new Error(`Key ${a} not found in enum`);return new Wn({...t,checks:[],...z(s),entries:r})}});function q(e,t){const n=Array.isArray(e)?Object.fromEntries(e.map(o=>[o,o])):e;return new Wn({type:"enum",entries:n,...z(t)})}const Jd=w("ZodLiteral",(e,t)=>{Dc.init(e,t),te.init(e,t),e.values=new Set(t.values),Object.defineProperty(e,"value",{get(){if(t.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return t.values[0]}})});function x(e,t){return new Jd({type:"literal",values:Array.isArray(e)?e:[e],...z(t)})}const Yd=w("ZodTransform",(e,t)=>{Fc.init(e,t),te.init(e,t),e._zod.parse=(n,o)=>{if(o.direction==="backward")throw new Ts(e.constructor.name);n.addIssue=r=>{if(typeof r=="string")n.issues.push(Ut(r,n.value,t));else{const a=r;a.fatal&&(a.continue=!1),a.code??(a.code="custom"),a.input??(a.input=n.value),a.inst??(a.inst=e),n.issues.push(Ut(a))}};const s=t.transform(n.value,n);return s instanceof Promise?s.then(r=>(n.value=r,n)):(n.value=s,n)}});function Qd(e){return new Yd({type:"transform",transform:e})}const Qs=w("ZodOptional",(e,t)=>{Xc.init(e,t),te.init(e,t),e.unwrap=()=>e._zod.def.innerType});function is(e){return new Qs({type:"optional",innerType:e})}const ep=w("ZodNullable",(e,t)=>{Vc.init(e,t),te.init(e,t),e.unwrap=()=>e._zod.def.innerType});function c(e){return new ep({type:"nullable",innerType:e})}const tp=w("ZodDefault",(e,t)=>{Kc.init(e,t),te.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function np(e,t){return new tp({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():As(t)}})}const op=w("ZodPrefault",(e,t)=>{Hc.init(e,t),te.init(e,t),e.unwrap=()=>e._zod.def.innerType});function sp(e,t){return new op({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():As(t)}})}const er=w("ZodNonOptional",(e,t)=>{Bc.init(e,t),te.init(e,t),e.unwrap=()=>e._zod.def.innerType});function rp(e,t){return new er({type:"nonoptional",innerType:e,...z(t)})}const ap=w("ZodCatch",(e,t)=>{Gc.init(e,t),te.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function ip(e,t){return new ap({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const up=w("ZodPipe",(e,t)=>{Wc.init(e,t),te.init(e,t),e.in=t.in,e.out=t.out});function us(e,t){return new up({type:"pipe",in:e,out:t})}const cp=w("ZodReadonly",(e,t)=>{Jc.init(e,t),te.init(e,t),e.unwrap=()=>e._zod.def.innerType});function lp(e){return new cp({type:"readonly",innerType:e})}const dp=w("ZodLazy",(e,t)=>{Yc.init(e,t),te.init(e,t),e.unwrap=()=>e._zod.def.getter()});function R(e){return new dp({type:"lazy",getter:e})}const tr=w("ZodCustom",(e,t)=>{Qc.init(e,t),te.init(e,t)});function V(e,t){return Wl(tr,e??(()=>!0),t)}function pp(e,t={}){return Jl(tr,e,t)}function mp(e){return Yl(e)}function hp(e){return ql(Js,e)}Ze(nl());function ho(e){return btoa(String.fromCodePoint(...e))}function fp(e){return Uint8Array.from(atob(e),t=>t.charCodeAt(0))}function nr(e){return new TextEncoder().encode(e)}function yp(e){return ho(nr(e))}V(e=>e instanceof Uint8Array).or(i().transform(nr));V(e=>e instanceof Uint8Array).or(i().transform(fp));function xt(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function _p(e){return(t,n,o)=>{let s="";const r=o?.explode?sr(t,n):[[t,n]];if(r.every(([p,h])=>h==null))return;const a=p=>o?.charEncoding==="percent"?encodeURIComponent(p):p,u=p=>a(rr(p)),d=a(e);return r.forEach(([p,h])=>{let f="",g=null;h!=null&&(Array.isArray(h)?g=ir(h,_=>`${u(_)}`)?.join(d):xt(h)?g=ur(Object.entries(h),([_,y])=>`${a(_)}${d}${u(y)}`)?.join(d):g=`${u(h)}`,g!=null&&(f=`${a(p)}=${g}`,!(!f||f==="=")&&(s+=`&${f}`)))}),s.slice(1)}}const or=_p(",");function De(e,t,n){if(typeof t>"u")return;const o=r=>n?.charEncoding==="percent"?encodeURIComponent(r):r,s=o(JSON.stringify(t,ar));return n?.explode?s:`${o(e)}=${s}`}const nt=(e,t,n)=>{let o="";const s=n?.explode?sr(e,t):[[e,t]];if(s.every(([u,d])=>d==null))return;const r=u=>n?.charEncoding==="percent"?encodeURIComponent(u):u,a=u=>r(rr(u));return s.forEach(([u,d])=>{let p="";d!=null&&(Array.isArray(d)?p=ir(d,h=>`${a(h)}`)?.join(","):xt(d)?p=ur(Object.entries(d),([f,g])=>`,${r(f)},${a(g)}`)?.join("").slice(1):p=`${n?.explode&&xt(t)?`${u}=`:""}${a(d)}`,o+=p?`,${p}`:"")}),o.slice(1)};function sr(e,t){return Array.isArray(t)?t.map(n=>[e,n]):xt(t)?Object.entries(t??{}).map(([o,s])=>[o,s]):[[e,t]]}function rr(e){return e==null?"":e instanceof Date?e.toISOString():e instanceof Uint8Array?ho(e):typeof e=="object"?JSON.stringify(e,ar):`${e}`}function ar(e,t){return t instanceof Uint8Array?ho(t):t}function ir(e,t){const n=e.reduce((o,s)=>{if(s==null)return o;const r=t(s);return r==null||o.push(r),o},[]);return n.length?n:null}function ur(e,t){const n=[];for(const[o,s]of e){if(s==null)continue;const r=t([o,s]);r!=null&&n.push(r)}return n.length?n:null}function gp(...e){return e.filter(Boolean).join("&")}function bp(e){return function(n,o){const s={...o,explode:o?.explode??!0,charEncoding:o?.charEncoding??"percent"},r=new Set(o?.allowEmptyValue??[]),a=Object.entries(n).map(([u,d])=>r.has(u)&&(d==null||d===""||Array.isArray(d)&&d.length===0)?`${encodeURIComponent(u)}=`:e(u,d,s));return gp(...a)}}const en=bp(or);function vp(e,t,n,o,s){for(t=Array.isArray(t)?t:t.split("."),o=0;o<t.length;o++){const r=t[o];e=r!=null&&e?e[r]:s}return e===s?n:e}const Sp=l({OPENROUTER_API_KEY:i().optional(),OPENROUTER_HTTP_REFERER:i().optional(),OPENROUTER_X_TITLE:i().optional(),OPENROUTER_DEBUG:hp().optional()});function kp(){return"Deno"in globalThis}let ln;function fo(){if(ln)return ln;let e={};return kp()?e=globalThis.Deno?.env?.toObject?.()??{}:e=vp(globalThis,"process.env")??{},ln=Sp.parse(e),ln}function Rp(e){const t={...e},n=fo();return typeof n.OPENROUTER_HTTP_REFERER<"u"&&(t.httpReferer??(t.httpReferer=n.OPENROUTER_HTTP_REFERER)),typeof n.OPENROUTER_X_TITLE<"u"&&(t.xTitle??(t.xTitle=n.OPENROUTER_X_TITLE)),t}const wp={initialInterval:500,maxInterval:6e4,exponent:1.5,maxElapsedTime:36e5};class zn extends Error{constructor(t,n){let o=t;n?.cause&&(o+=`: ${n.cause}`),super(o,n),this.name="PermanentError",typeof this.cause>"u"&&(this.cause=n?.cause),Object.setPrototypeOf(this,zn.prototype)}}class $t extends Error{constructor(t,n){super(t),this.response=n,this.name="TemporaryError",Object.setPrototypeOf(this,$t.prototype)}}async function xp(e,t){switch(t.config.strategy){case"backoff":return Tp($p(e,{statusCodes:t.statusCodes,retryConnectionErrors:!!t.config.retryConnectionErrors}),t.config.backoff??wp);default:return await e()}}function $p(e,t){return async()=>{try{const n=await e();if(Ip(n,t.statusCodes))throw new $t("Response failed with retryable status code",n);return n}catch(n){throw n instanceof $t||t.retryConnectionErrors&&(Cs(n)||$s(n))?n:new zn("Permanent error",{cause:n})}}}const Cp=new RegExp("^[0-9]xx$","i");function Ip(e,t){const n=`${e.status}`;return t.some(o=>{if(!Cp.test(o))return o===n;const s=o.charAt(0);if(!s)throw new Error("Invalid status code range");const r=n.charAt(0);if(!r)throw new Error(`Invalid response status code: ${n}`);return r===s})}async function Tp(e,t){const{maxElapsedTime:n,initialInterval:o,exponent:s,maxInterval:r}=t,a=Date.now();let u=0;for(;;)try{return await e()}catch(d){if(d instanceof zn)throw d.cause;if(Date.now()-a>n){if(d instanceof $t)return d.response;throw d}let h=0;d instanceof $t&&(h=Op(d.response)),h<=0&&(h=o*Math.pow(u,s)+Math.random()*1e3);const f=Math.min(h,r);await Ep(f),u++}}function Op(e){const t=e.headers.get("retry-after")||"";if(!t)return 0;const n=Number(t);if(Number.isInteger(n))return n*1e3;const o=Date.parse(t);if(Number.isInteger(o)){const s=o-Date.now();return s>0?Math.ceil(s):0}return 0}async function Ep(e){return new Promise(t=>setTimeout(t,e))}var Pt=function(e,t,n,o,s){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?s.call(e,n):s?s.value=n:t.set(e,n),n},Re=function(e,t,n,o){if(n==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?o:n==="a"?o.call(e):o?o.value:t.get(e)},yn,Oe,Ne;const dn=typeof globalThis>"u"?null:globalThis,Ap=typeof dn=="object"&&dn!=null&&"importScripts"in dn&&typeof dn.importScripts=="function",qp=Ap||typeof navigator<"u"&&"serviceWorker"in navigator||typeof window=="object"&&typeof window.document<"u";class ge{constructor(t={}){yn.set(this,void 0),Oe.set(this,void 0),Ne.set(this,void 0);const n=t;typeof n=="object"&&n!=null&&"hooks"in n&&n.hooks instanceof Uo?Pt(this,Oe,n.hooks,"f"):Pt(this,Oe,new Uo,"f");const o=new so;t.httpClient=t.httpClient||o,t=Re(this,Oe,"f").sdkInit(t);const s=xs(t);s&&(s.pathname=s.pathname.replace(/\/+$/,"")+"/"),this._baseURL=s,Pt(this,yn,t.httpClient||o,"f"),this._options={...Rp(t),hooks:Re(this,Oe,"f")},Pt(this,Ne,this._options.debugLogger,"f"),!Re(this,Ne,"f")&&fo().OPENROUTER_DEBUG&&Pt(this,Ne,console,"f")}_createRequest(t,n,o){const{method:s,path:r,query:a,headers:u,security:d}=n,p=n.baseURL??this._baseURL;if(!p)return Xe(new ji("No base URL provided for operation"));const h=new URL(p),f=new URL(r,h);r&&(h.pathname+=h.pathname.endsWith("/")?"":"/",h.pathname+=f.pathname.replace(/^\/+/,""));let g=a||"";const _=[];for(const[pe,et]of Object.entries(d?.queryParams||{})){const No=or(pe,et,{charEncoding:"percent"});typeof No<"u"&&_.push(No)}if(_.length&&(g+=`&${_.join("&")}`),g){const pe=g.startsWith("&")?g.slice(1):g;h.search=`?${pe}`}const y=new Headers(u),v=d?.basic.username,S=d?.basic.password;if(v!=null||S!=null){const pe=yp([v||"",S||""].join(":"));y.set("Authorization",`Basic ${pe}`)}const T=new Headers(d?.headers||{});for(const[pe,et]of T)y.set(pe,et);let C=y.get("cookie")||"";for(const[pe,et]of Object.entries(d?.cookies||{}))C+=`; ${pe}=${et}`;C=C.startsWith("; ")?C.slice(2):C,y.set("cookie",C);const M=new Headers(o?.headers??o?.fetchOptions?.headers);for(const[pe,et]of M)y.set(pe,et);qp||y.set(n.uaHeader??"user-agent",n.userAgent??Mi.userAgent);const K={...o?.fetchOptions,...o};if(!K?.signal&&n.timeoutMs&&n.timeoutMs>0){const pe=AbortSignal.timeout(n.timeoutMs);K.signal=pe}n.body instanceof ReadableStream&&Object.assign(K,{duplex:"half"});let Se;try{Se=Re(this,Oe,"f").beforeCreateRequest(t,{url:h,options:{...K,body:n.body??null,headers:y,method:s}})}catch(pe){return Xe(new Zo("Create request hook failed to execute",{cause:pe}))}return _n(new Request(Se.url,Se.options))}async _do(t,n){const{context:o,errorCodes:s}=n;return xp(async()=>{const r=await Re(this,Oe,"f").beforeRequest(o,t.clone());await Pp(Re(this,Ne,"f"),r).catch(u=>Re(this,Ne,"f")?.log("Failed to log request:",u));let a=await Re(this,yn,"f").request(r);try{if(ro(a,s)){const u=await Re(this,Oe,"f").afterError(o,a,null);if(u.error)throw u.error;a=u.response||a}else a=await Re(this,Oe,"f").afterSuccess(o,a)}finally{await zp(Re(this,Ne,"f"),a,r).catch(u=>Re(this,Ne,"f")?.log("Failed to log response:",u))}return a},{config:n.retryConfig,statusCodes:n.retryCodes}).then(r=>_n(r),r=>{switch(!0){case Zi(r):return Xe(new Di("Request aborted by client",{cause:r}));case Cs(r):return Xe(new Fi("Request timed out",{cause:r}));case $s(r):return Xe(new Xi("Unable to make request",{cause:r}));default:return Xe(new Zo("Unexpected HTTP client error",{cause:r}))}})}}yn=new WeakMap,Oe=new WeakMap,Ne=new WeakMap;const cr=/(application|text)\/.*?\+*json.*/,cs=/(application|text)\/(.*?\+*\bjsonl\b.*|.*?\+*\bx-ndjson\b.*)/;async function Pp(e,t){if(!e)return;const n=t.headers.get("content-type"),o=n?.split(";")[0]||"";e.group(`> Request: ${t.method} ${t.url}`),e.group("Headers:");for(const[s,r]of t.headers.entries())e.log(`${s}: ${r}`);switch(e.groupEnd(),e.group("Body:"),!0){case cr.test(o):e.log(await t.clone().json());break;case o.startsWith("text/"):e.log(await t.clone().text());break;case o==="multipart/form-data":{const s=await t.clone().formData();for(const[r,a]of s){const u=a instanceof Blob?"<Blob>":a;e.log(`${r}: ${u}`)}break}default:e.log(`<${n}>`);break}e.groupEnd(),e.groupEnd()}async function zp(e,t,n){if(!e)return;const o=t.headers.get("content-type"),s=o?.split(";")[0]||"";e.group(`< Response: ${n.method} ${n.url}`),e.log("Status Code:",t.status,t.statusText),e.group("Headers:");for(const[r,a]of t.headers.entries())e.log(`${r}: ${a}`);switch(e.groupEnd(),e.group("Body:"),!0){case(ht(t,"application/json")||cr.test(s)&&!cs.test(s)):e.log(await t.clone().json());break;case(ht(t,"application/jsonl")||cs.test(s)):e.log(await t.clone().text());break;case ht(t,"text/event-stream"):e.log(`<${o}>`);break;case ht(t,"text/*"):e.log(await t.clone().text());break;case ht(t,"multipart/form-data"):{const r=await t.clone().formData();for(const[a,u]of r){const d=u instanceof Blob?"<Blob>":u;e.log(`${a}: ${d}`)}break}default:e.log(`<${o}>`);break}e.groupEnd(),e.groupEnd()}class me extends Error{constructor(t,n){super(t),this.statusCode=n.response.status,this.body=n.body,this.headers=n.response.headers,this.contentType=n.response.headers.get("content-type")||"",this.rawResponse=n.response,this.name="OpenRouterError"}}class ls extends me{constructor(t,n){t&&(t+=": "),t+=`Status ${n.response.status}`;const o=n.response.headers.get("content-type")||'""';o!=="application/json"&&(t+=` Content-Type ${o.includes(" ")?`"${o}"`:o}`);const s=n.body||'""';t+=s.length>100?`
`:". ";let r=s;if(s.length>1e4){const a=s.substring(0,1e4),u=s.length-1e4;r=`${a}...and ${u} more chars`}t+=`Body: ${r}`,t=t.trim(),super(t,n),this.name="OpenRouterDefaultError"}}class Mp extends Error{static[Symbol.hasInstance](t){return!(!(t instanceof Error)||!("rawValue"in t)||!("rawMessage"in t)||!("pretty"in t)||typeof t.pretty!="function")}constructor(t,n,o){super(`${t}: ${n}`),this.name="SDKValidationError",this.cause=n,this.rawValue=o,this.rawMessage=t}pretty(){return this.cause instanceof En?`${this.rawMessage}
${lr(this.cause)}`:this.toString()}}function lr(e){return iu(e)}class Np extends me{constructor(t,n){super(t,n),this.name="ResponseValidationError",this.cause=n.cause,this.rawValue=n.rawValue,this.rawMessage=n.rawMessage}pretty(){return this.cause instanceof En?`${this.rawMessage}
${lr(this.cause)}`:this.toString()}}const Lp={jsonl:"application/jsonl",json:"application/json",text:"text/plain",bytes:"application/octet-stream",stream:"application/octet-stream",sse:"text/event-stream",nil:"*",fail:"*"};function O(e,t,n){return{...n,err:!0,enc:"json",codes:e,schema:t}}function oe(e,t,n){return{...n,enc:"json",codes:e,schema:t}}function dr(e,t,n){return{...n,enc:"sse",codes:e,schema:t}}function j(e){return{enc:"fail",codes:e}}function se(...e){return async function(n,o,s){let r,a;for(const f of e){const{codes:g}=f,_="ctype"in f?f.ctype:Lp[f.enc];if(_&&Ui(n,g,_)){a=f;break}else if(!_&&ro(n,g)){a=f;break}}if(!a)return[{ok:!1,error:new ls("Unexpected Status or Content-Type",{response:n,request:o,body:await n.text().catch(()=>"")})},r];const u=a.enc;let d="";switch(u){case"json":d=await n.text(),r=JSON.parse(d);break;case"jsonl":r=n.body;break;case"bytes":r=new Uint8Array(await n.arrayBuffer());break;case"stream":r=n.body;break;case"text":d=await n.text(),r=d;break;case"sse":r=n.body;break;case"nil":d=await n.text(),r=void 0;break;case"fail":d=await n.text(),r=d;break;default:throw new Error(`Unsupported response type: ${u}`)}if(a.enc==="fail")return[{ok:!1,error:new ls("API error occurred",{request:o,response:n,body:d})},r];const p=a.key||s?.resultKey;let h;if("err"in a?h={...s?.extraFields,...a.hdrs?{Headers:Dn(n.headers)}:null,...xt(r)?r:null,request$:o,response$:n,body$:d}:p?h={...s?.extraFields,...a.hdrs?{Headers:Dn(n.headers)}:null,[p]:r}:a.hdrs?h={...s?.extraFields,...a.hdrs?{Headers:Dn(n.headers)}:null,...xt(r)?r:null}:h=r,"err"in a){const f=ds(h,g=>a.schema.parse(g),"Response validation failed",{request:o,response:n,body:d});return[f.ok?{ok:!1,error:f.value}:f,r]}else return[ds(h,f=>a.schema.parse(f),"Response validation failed",{request:o,response:n,body:d}),r]}}const Up=/, */;function Dn(e){const t={};for(const[n,o]of e.entries())t[n]=o.split(Up);return t}function ds(e,t,n,o){try{return _n(t(e))}catch(s){return Xe(new Np(n,{cause:s,rawValue:e,rawMessage:n,...o}))}}function b(e,t){let n={};if(!Object.keys(t).length)return n=e,n;for(const[o,s]of Object.entries(e)){const r=t[o];r!==null&&(n[r??o]=s)}return n}function re(e){const t={};for(const[n,o]of Object.entries(e))typeof o<"u"&&(t[n]=o);return t}function he(e,t,n){try{return _n(t(e))}catch(o){return Xe(new Mp(n,o,e))}}var Sn;(function(e){e.Incomplete="incomplete",e.UnrecognisedSecurityType="unrecognized_security_type"})(Sn||(Sn={}));class kn extends Error{constructor(t,n){super(n),this.code=t,this.name="SecurityError"}static incomplete(){return new kn(Sn.Incomplete,"Security requirements not met in order to perform the operation")}static unrecognizedType(t){return new kn(Sn.UnrecognisedSecurityType,`Unrecognised security type: ${t}`)}}function Mn(...e){const t={basic:{},headers:{},queryParams:{},cookies:{},oauth2:{type:"none"}},n=e.find(o=>o.every(s=>{if(s.value==null)return!1;if(s.type==="http:basic")return s.value.username!=null||s.value.password!=null;if(s.type==="http:custom")return null;if(s.type==="oauth2:password")return typeof s.value=="string"&&!!s.value;if(s.type==="oauth2:client_credentials")return typeof s.value=="string"?!!s.value:s.value.clientID!=null||s.value.clientSecret!=null;if(typeof s.value=="string")return!!s.value;throw new Error(`Unrecognized security type: ${s.type} (value type: ${typeof s.value})`)}));return n==null?null:(n.forEach(o=>{if(o.value==null)return;const{type:s}=o;switch(s){case"apiKey:header":t.headers[o.fieldName]=o.value;break;case"apiKey:query":t.queryParams[o.fieldName]=o.value;break;case"apiKey:cookie":t.cookies[o.fieldName]=o.value;break;case"http:basic":Zp(t,o);break;case"http:custom":break;case"http:bearer":pn(t,o);break;case"oauth2":pn(t,o);break;case"oauth2:password":pn(t,o);break;case"oauth2:client_credentials":break;case"openIdConnect":pn(t,o);break;default:throw kn.unrecognizedType(s)}}),t)}function Zp(e,t){t.value!=null&&(e.basic=t.value)}function pn(e,t){if(typeof t.value!="string"||!t.value)return;let n=t.value;n.slice(0,7).toLowerCase()!=="bearer "&&(n=`Bearer ${n}`),t.fieldName!==void 0&&(e.headers[t.fieldName]=n)}function le(e){return Mn([{fieldName:"Authorization",type:"http:bearer",value:e?.apiKey??fo().OPENROUTER_API_KEY}])}async function de(e){if(e!=null)return typeof e=="function"?e():e}const jp=l({date:i(),model:i(),model_permaslug:i(),endpoint_id:i(),provider_name:i(),usage:m(),byok_usage_inference:m(),requests:m(),prompt_tokens:m(),completion_tokens:m(),reasoning_tokens:m()}).transform(e=>b(e,{model_permaslug:"modelPermaslug",endpoint_id:"endpointId",provider_name:"providerName",byok_usage_inference:"byokUsageInference",prompt_tokens:"promptTokens",completion_tokens:"completionTokens",reasoning_tokens:"reasoningTokens"})),Dp=l({data:i(),format:i()}),Fp=l({data:i(),format:i()}),Xp=l({type:x("input_audio"),input_audio:R(()=>Dp)}).transform(e=>b(e,{input_audio:"inputAudio"})),Vp=l({type:x("input_audio"),inputAudio:R(()=>Fp)}).transform(e=>b(e,{inputAudio:"input_audio"}));function G(e){const t=Object.values(e);return k([...t.map(n=>x(n)),i().transform(n=>n)])}function Kp(e){const t=Object.values(e).filter(n=>typeof n=="number");return k([...t.map(n=>x(n)),Q().transform(n=>n)])}function W(e){return i()}function Hp(e){return Q()}const Bp={Auto:"auto",Low:"low",High:"high"},Gp=G(Bp),Wp=W(),Jp=l({url:i(),detail:Gp.optional()}),Yp=l({url:i(),detail:Wp.optional()}),Qp=l({type:x("image_url"),image_url:R(()=>Jp)}).transform(e=>b(e,{image_url:"imageUrl"})),em=l({type:x("image_url"),imageUrl:R(()=>Yp)}).transform(e=>b(e,{imageUrl:"image_url"})),tm={Fivem:"5m",Oneh:"1h"},nm=G(tm),om=W(),sm=l({type:x("ephemeral"),ttl:nm.optional()}),rm=l({type:x("ephemeral"),ttl:om.optional()}),am=l({type:x("text"),text:i(),cache_control:sm.optional()}).transform(e=>b(e,{cache_control:"cacheControl"})),tn=l({type:x("text"),text:i(),cacheControl:rm.optional()}).transform(e=>b(e,{cacheControl:"cache_control"})),im=l({url:i()}),um=l({url:i()}),cm=l({type:x("video_url"),video_url:R(()=>im)}).transform(e=>b(e,{video_url:"videoUrl"})),lm=l({type:x("video_url"),videoUrl:R(()=>um)}).transform(e=>b(e,{videoUrl:"video_url"})),dm=l({url:i()}),pm=l({url:i()}),mm=l({type:x("input_video"),video_url:R(()=>dm)}).transform(e=>b(e,{video_url:"videoUrl"})),hm=l({type:x("input_video"),videoUrl:R(()=>pm)}).transform(e=>b(e,{videoUrl:"video_url"})),ps=k([R(()=>mm),R(()=>cm)]),ms=k([R(()=>hm),R(()=>lm)]),pr=k([am,Qp,Xp,ps.and(l({type:x("input_video")})),R(()=>ps).and(l({type:x("video_url")}))]),At=k([tn,em,Vp,ms.and(l({type:x("input_video")})),R(()=>ms).and(l({type:x("video_url")}))]),fm=l({name:i(),arguments:i()}),ym=l({name:i(),arguments:i()}),_m=l({id:i(),type:x("function"),function:R(()=>fm)}),gm=l({id:i(),type:x("function"),function:R(()=>ym)});k([i(),$(pr)]);k([i(),$(At)]);const bm=l({role:x("assistant"),content:c(k([i(),$(pr)])).optional(),name:i().optional(),tool_calls:$(_m).optional(),refusal:c(i()).optional(),reasoning:c(i()).optional()}).transform(e=>b(e,{tool_calls:"toolCalls"})),vm=l({role:x("assistant"),content:c(k([i(),$(At)])).optional(),name:i().optional(),toolCalls:$(gm).optional(),refusal:c(i()).optional(),reasoning:c(i()).optional()}).transform(e=>b(e,{toolCalls:"tool_calls"})),Sm=l({code:Q(),message:i(),metadata:c(B(i(),c(N()))).optional()}),km=l({code:Q(),message:i(),metadata:c(B(i(),c(N()))).optional()}),Rm={ToolCalls:"tool_calls",Stop:"stop",Length:"length",ContentFilter:"content_filter",Error:"error"},mr=G(Rm);k([i(),m()]);const wm=l({code:c(k([i(),m()])),message:i(),param:c(i()).optional(),type:c(i()).optional()}),xm=l({includeUsage:Z().optional()}).transform(e=>b(e,{includeUsage:"include_usage"}));k([i(),$(tn)]);const $m=l({role:x("system"),content:k([i(),$(tn)]),name:i().optional()});k([i(),$(At)]);const Cm=l({role:x("tool"),content:k([i(),$(At)]),toolCallId:i()}).transform(e=>b(e,{toolCallId:"tool_call_id"}));k([i(),$(At)]);const Im=l({role:x("user"),content:k([i(),$(At)]),name:i().optional()});k([i(),$(tn)]);const Tm=l({role:x("developer"),content:k([i(),$(tn)]),name:i().optional()}),Om=k([$m,Im,R(()=>Tm),vm,Cm]),Em={Auto:"auto",Concise:"concise",Detailed:"detailed"},Am=G(Em),hr=W(),qm=l({name:i(),description:i().optional(),schema:B(i(),N()).optional(),strict:c(Z()).optional()}),Nn=l({type:x("json_schema"),jsonSchema:qm}).transform(e=>b(e,{jsonSchema:"json_schema"})),Ln=l({type:x("grammar"),grammar:i()}),Pm=l({name:i(),description:i().optional(),parameters:B(i(),N()).optional(),strict:c(Z()).optional()}),zm=l({type:x("function"),function:R(()=>Pm)}),Mm=W(),Nm=l({effort:c(Mm).optional(),summary:c(hr).optional()}),fr=l({type:x("python")}),yr=l({type:x("json_object")}),_r=l({type:x("text")});k([R(()=>_r),R(()=>yr),Nn,Ln,R(()=>fr)]);k([i(),$(i())]);const Lm=l({echoUpstreamBody:Z().optional()}).transform(e=>b(e,{echoUpstreamBody:"echo_upstream_body"})),Um=l({messages:$(Om),model:i().optional(),models:$(i()).optional(),frequencyPenalty:c(m()).optional(),logitBias:c(B(i(),m())).optional(),logprobs:c(Z()).optional(),topLogprobs:c(m()).optional(),maxCompletionTokens:c(m()).optional(),maxTokens:c(m()).optional(),metadata:B(i(),i()).optional(),presencePenalty:c(m()).optional(),reasoning:R(()=>Nm).optional(),responseFormat:k([R(()=>_r),R(()=>yr),Nn,Ln,R(()=>fr)]).optional(),seed:c(Q()).optional(),stop:c(k([i(),$(i())])).optional(),stream:Z().default(!1),streamOptions:c(xm).optional(),temperature:c(m()).optional(),toolChoice:N().optional(),tools:$(zm).optional(),topP:c(m()).optional(),user:i().optional(),debug:R(()=>Lm).optional()}).transform(e=>b(e,{frequencyPenalty:"frequency_penalty",logitBias:"logit_bias",topLogprobs:"top_logprobs",maxCompletionTokens:"max_completion_tokens",maxTokens:"max_tokens",presencePenalty:"presence_penalty",responseFormat:"response_format",streamOptions:"stream_options",toolChoice:"tool_choice",topP:"top_p"})),Zm=l({reasoning_tokens:c(m()).optional(),audio_tokens:c(m()).optional(),accepted_prediction_tokens:c(m()).optional(),rejected_prediction_tokens:c(m()).optional()}).transform(e=>b(e,{reasoning_tokens:"reasoningTokens",audio_tokens:"audioTokens",accepted_prediction_tokens:"acceptedPredictionTokens",rejected_prediction_tokens:"rejectedPredictionTokens"})),jm=l({cached_tokens:m().optional(),audio_tokens:m().optional(),video_tokens:m().optional()}).transform(e=>b(e,{cached_tokens:"cachedTokens",audio_tokens:"audioTokens",video_tokens:"videoTokens"})),gr=l({completion_tokens:m(),prompt_tokens:m(),total_tokens:m(),completion_tokens_details:c(R(()=>Zm)).optional(),prompt_tokens_details:c(R(()=>jm)).optional()}).transform(e=>b(e,{completion_tokens:"completionTokens",prompt_tokens:"promptTokens",total_tokens:"totalTokens",completion_tokens_details:"completionTokensDetails",prompt_tokens_details:"promptTokensDetails"})),Dm=l({token:i(),logprob:m(),bytes:c($(m()))}),hs=l({token:i(),logprob:m(),bytes:c($(m())),top_logprobs:$(R(()=>Dm))}).transform(e=>b(e,{top_logprobs:"topLogprobs"})),br=l({content:c($(hs)),refusal:c($(hs))}),Fm=l({finish_reason:c(mr),index:m(),message:bm,logprobs:c(br).optional()}).transform(e=>b(e,{finish_reason:"finishReason"})),Xm=l({id:i(),choices:$(Fm),created:m(),model:i(),object:x("chat.completion"),system_fingerprint:c(i()).optional(),usage:gr.optional()}).transform(e=>b(e,{system_fingerprint:"systemFingerprint"})),Vm=l({name:i().optional(),arguments:i().optional()}),Km=l({index:m(),id:i().optional(),type:x("function").optional(),function:R(()=>Vm).optional()}),Hm={Assistant:"assistant"},Bm=q(Hm),Gm=l({role:Bm.optional(),content:c(i()).optional(),reasoning:c(i()).optional(),refusal:c(i()).optional(),tool_calls:$(Km).optional()}).transform(e=>b(e,{tool_calls:"toolCalls"})),Wm=l({delta:Gm,finish_reason:c(mr),index:m(),logprobs:c(br).optional()}).transform(e=>b(e,{finish_reason:"finishReason"})),Jm=l({message:i(),code:m()}),Ym=l({id:i(),choices:$(Wm),created:m(),model:i(),object:x("chat.completion.chunk"),system_fingerprint:c(i()).optional(),error:R(()=>Jm).optional(),usage:gr.optional()}).transform(e=>b(e,{system_fingerprint:"systemFingerprint"})),Qm=l({data:i().transform((e,t)=>{try{return JSON.parse(e)}catch(n){return t.addIssue({input:e,code:"custom",message:`malformed json: ${n}`}),Is}}).pipe(R(()=>Ym))}),eh=l({tokens:$(i()),token_logprobs:$(m()),top_logprobs:c($(B(i(),m()))),text_offset:$(m())}).transform(e=>b(e,{token_logprobs:"tokenLogprobs",top_logprobs:"topLogprobs",text_offset:"textOffset"})),th={Stop:"stop",Length:"length",ContentFilter:"content_filter"},nh=G(th),oh=l({text:i(),index:m(),logprobs:c(eh),finish_reason:c(nh),native_finish_reason:i().optional(),reasoning:c(i()).optional()}).transform(e=>b(e,{finish_reason:"finishReason",native_finish_reason:"nativeFinishReason"}));k([i(),$(i()),$(m()),$($(m()))]);k([i(),$(i())]);const sh=l({includeUsage:c(Z()).optional()}).transform(e=>b(e,{includeUsage:"include_usage"})),vr=l({type:x("python")}),Sr=l({type:x("json_object")}),kr=l({type:x("text")});k([R(()=>kr),R(()=>Sr),Nn,Ln,R(()=>vr)]);const rh=l({model:i().optional(),models:$(i()).optional(),prompt:k([i(),$(i()),$(m()),$($(m()))]),bestOf:c(Q()).optional(),echo:c(Z()).optional(),frequencyPenalty:c(m()).optional(),logitBias:c(B(i(),m())).optional(),logprobs:c(Q()).optional(),maxTokens:c(Q()).optional(),n:c(Q()).optional(),presencePenalty:c(m()).optional(),seed:c(Q()).optional(),stop:c(k([i(),$(i())])).optional(),stream:Z().default(!1),streamOptions:c(R(()=>sh)).optional(),suffix:c(i()).optional(),temperature:c(m()).optional(),topP:c(m()).optional(),user:i().optional(),metadata:c(B(i(),i())).optional(),responseFormat:c(k([R(()=>kr),R(()=>Sr),Nn,Ln,R(()=>vr)])).optional()}).transform(e=>b(e,{bestOf:"best_of",frequencyPenalty:"frequency_penalty",logitBias:"logit_bias",maxTokens:"max_tokens",presencePenalty:"presence_penalty",streamOptions:"stream_options",topP:"top_p",responseFormat:"response_format"})),ah=l({prompt_tokens:m(),completion_tokens:m(),total_tokens:m()}).transform(e=>b(e,{prompt_tokens:"promptTokens",completion_tokens:"completionTokens",total_tokens:"totalTokens"})),ih=l({id:i(),object:x("text_completion"),created:m(),model:i(),provider:i().optional(),system_fingerprint:i().optional(),choices:$(oh),usage:ah.optional()}).transform(e=>b(e,{system_fingerprint:"systemFingerprint"})),uh=Hp(),ch=l({amount:m(),sender:i(),chainId:uh}).transform(e=>b(e,{chainId:"chain_id"})),Rr=W(),lh=l({temperature:c(m()).optional(),top_p:c(m()).optional(),frequency_penalty:c(m()).optional()}).transform(e=>b(e,{top_p:"topP",frequency_penalty:"frequencyPenalty"})),dh=l({code:Q(),message:i(),metadata:c(B(i(),c(N()))).optional()}),ph={Zero:0,Minus1:-1,Minus2:-2,Minus3:-3,Minus5:-5,Minus10:-10},mh=Kp(ph),hh=l({type:x("file_citation"),file_id:i(),filename:i(),index:m()}).transform(e=>b(e,{file_id:"fileId"})),fh=l({type:x("file_citation"),fileId:i(),filename:i(),index:m()}).transform(e=>b(e,{fileId:"file_id"})),yh=l({type:x("file_path"),file_id:i(),index:m()}).transform(e=>b(e,{file_id:"fileId"})),_h=l({type:x("file_path"),fileId:i(),index:m()}).transform(e=>b(e,{fileId:"file_id"})),gh=l({code:Q(),message:i(),metadata:c(B(i(),c(N()))).optional()}),bh={InProgress:"in_progress",Completed:"completed",Generating:"generating",Failed:"failed"},wr=G(bh),vh=W(),Sh={Text:"text",Image:"image",File:"file",Audio:"audio",Video:"video"},xr=G(Sh),kh={None:"none",Airoboros:"airoboros",Alpaca:"alpaca",AlpacaModif:"alpaca-modif",Chatml:"chatml",Claude:"claude",CodeLlama:"code-llama",Gemma:"gemma",Llama2:"llama2",Llama3:"llama3",Mistral:"mistral",Nemotron:"nemotron",Neural:"neural",Openchat:"openchat",Phi3:"phi3",Rwkv:"rwkv",Vicuna:"vicuna",Zephyr:"zephyr",DeepseekR1:"deepseek-r1",DeepseekV31:"deepseek-v3.1",Qwq:"qwq",Qwen3:"qwen3"},Rh=G(kh),wh=l({code:Q(),message:i(),metadata:c(B(i(),c(N()))).optional()}),xh={Text:"text",Image:"image",Embeddings:"embeddings"},$r=G(xh),$h={Temperature:"temperature",TopP:"top_p",TopK:"top_k",MinP:"min_p",TopA:"top_a",FrequencyPenalty:"frequency_penalty",PresencePenalty:"presence_penalty",RepetitionPenalty:"repetition_penalty",MaxTokens:"max_tokens",LogitBias:"logit_bias",Logprobs:"logprobs",TopLogprobs:"top_logprobs",Seed:"seed",ResponseFormat:"response_format",StructuredOutputs:"structured_outputs",Stop:"stop",Tools:"tools",ToolChoice:"tool_choice",ParallelToolCalls:"parallel_tool_calls",IncludeReasoning:"include_reasoning",Reasoning:"reasoning",WebSearchOptions:"web_search_options",Verbosity:"verbosity"},Cr=G($h),Ch={Ai21:"AI21",AionLabs:"AionLabs",Alibaba:"Alibaba",AmazonBedrock:"Amazon Bedrock",AmazonNova:"Amazon Nova",Anthropic:"Anthropic",ArceeAI:"Arcee AI",AtlasCloud:"AtlasCloud",Avian:"Avian",Azure:"Azure",BaseTen:"BaseTen",BytePlus:"BytePlus",BlackForestLabs:"Black Forest Labs",Cerebras:"Cerebras",Chutes:"Chutes",Cirrascale:"Cirrascale",Clarifai:"Clarifai",Cloudflare:"Cloudflare",Cohere:"Cohere",Crusoe:"Crusoe",DeepInfra:"DeepInfra",DeepSeek:"DeepSeek",Featherless:"Featherless",Fireworks:"Fireworks",Friendli:"Friendli",GMICloud:"GMICloud",GoPomelo:"GoPomelo",Google:"Google",GoogleAIStudio:"Google AI Studio",Groq:"Groq",Hyperbolic:"Hyperbolic",Inception:"Inception",InferenceNet:"InferenceNet",Infermatic:"Infermatic",Inflection:"Inflection",Liquid:"Liquid",Mancer2:"Mancer 2",Minimax:"Minimax",ModelRun:"ModelRun",Mistral:"Mistral",Modular:"Modular",MoonshotAI:"Moonshot AI",Morph:"Morph",NCompass:"NCompass",Nebius:"Nebius",NextBit:"NextBit",Novita:"Novita",Nvidia:"Nvidia",OpenAI:"OpenAI",OpenInference:"OpenInference",Parasail:"Parasail",Perplexity:"Perplexity",Phala:"Phala",Relace:"Relace",SambaNova:"SambaNova",SiliconFlow:"SiliconFlow",Stealth:"Stealth",StreamLake:"StreamLake",Switchpoint:"Switchpoint",Targon:"Targon",Together:"Together",Venice:"Venice",WandB:"WandB",XAI:"xAI",ZAi:"Z.AI",FakeProvider:"FakeProvider"},Ih=G(Ch),xe=W(),Th={Int4:"int4",Int8:"int8",Fp4:"fp4",Fp6:"fp6",Fp8:"fp8",Fp16:"fp16",Bf16:"bf16",Fp32:"fp32",Unknown:"unknown"},Oh=l({prompt:N().optional(),completion:N().optional(),request:N().optional(),image:N().optional(),image_token:N().optional(),image_output:N().optional(),audio:N().optional(),input_audio_cache:N().optional(),web_search:N().optional(),internal_reasoning:N().optional(),input_cache_read:N().optional(),input_cache_write:N().optional(),discount:m().optional()}).transform(e=>b(e,{image_token:"imageToken",image_output:"imageOutput",input_audio_cache:"inputAudioCache",web_search:"webSearch",internal_reasoning:"internalReasoning",input_cache_read:"inputCacheRead",input_cache_write:"inputCacheWrite"})),Eh=G(Th),Ir=l({name:i(),model_name:i(),context_length:m(),pricing:R(()=>Oh),provider_name:Ih,tag:i(),quantization:c(Eh),max_completion_tokens:c(m()),max_prompt_tokens:c(m()),supported_parameters:$(Cr),status:mh.optional(),uptime_last_30m:c(m()),supports_implicit_caching:Z()}).transform(e=>b(e,{model_name:"modelName",context_length:"contextLength",provider_name:"providerName",max_completion_tokens:"maxCompletionTokens",max_prompt_tokens:"maxPromptTokens",supported_parameters:"supportedParameters",uptime_last_30m:"uptimeLast30m",supports_implicit_caching:"supportsImplicitCaching"})),Ah={Router:"Router",Media:"Media",Other:"Other",Gpt:"GPT",Claude:"Claude",Gemini:"Gemini",Grok:"Grok",Cohere:"Cohere",Nova:"Nova",Qwen:"Qwen",Yi:"Yi",DeepSeek:"DeepSeek",Mistral:"Mistral",Llama2:"Llama2",Llama3:"Llama3",Llama4:"Llama4",PaLM:"PaLM",Rwkv:"RWKV",Qwen3:"Qwen3"},qh=G(Ah),Ph=l({tokenizer:c(qh),instruct_type:c(Rh),modality:c(i()),input_modalities:$(xr),output_modalities:$($r)}).transform(e=>b(e,{instruct_type:"instructType",input_modalities:"inputModalities",output_modalities:"outputModalities"})),zh=l({id:i(),name:i(),created:m(),description:i(),architecture:R(()=>Ph),endpoints:$(Ir)}),Mh={Router:"Router",Media:"Media",Other:"Other",Gpt:"GPT",Claude:"Claude",Gemini:"Gemini",Grok:"Grok",Cohere:"Cohere",Nova:"Nova",Qwen:"Qwen",Yi:"Yi",DeepSeek:"DeepSeek",Mistral:"Mistral",Llama2:"Llama2",Llama3:"Llama3",Llama4:"Llama4",PaLM:"PaLM",Rwkv:"RWKV",Qwen3:"Qwen3"},Nh=G(Mh),Lh={None:"none",Airoboros:"airoboros",Alpaca:"alpaca",AlpacaModif:"alpaca-modif",Chatml:"chatml",Claude:"claude",CodeLlama:"code-llama",Gemma:"gemma",Llama2:"llama2",Llama3:"llama3",Mistral:"mistral",Nemotron:"nemotron",Neural:"neural",Openchat:"openchat",Phi3:"phi3",Rwkv:"rwkv",Vicuna:"vicuna",Zephyr:"zephyr",DeepseekR1:"deepseek-r1",DeepseekV31:"deepseek-v3.1",Qwq:"qwq",Qwen3:"qwen3"},Uh=G(Lh),Zh=l({tokenizer:Nh.optional(),instruct_type:c(Uh).optional(),modality:c(i()),input_modalities:$(xr),output_modalities:$($r)}).transform(e=>b(e,{instruct_type:"instructType",input_modalities:"inputModalities",output_modalities:"outputModalities"})),jh=l({prompt_tokens:m(),completion_tokens:m()}).transform(e=>b(e,{prompt_tokens:"promptTokens",completion_tokens:"completionTokens"})),Dh=l({prompt:N().optional(),completion:N().optional(),request:N().optional(),image:N().optional(),image_token:N().optional(),image_output:N().optional(),audio:N().optional(),input_audio_cache:N().optional(),web_search:N().optional(),internal_reasoning:N().optional(),input_cache_read:N().optional(),input_cache_write:N().optional(),discount:m().optional()}).transform(e=>b(e,{image_token:"imageToken",image_output:"imageOutput",input_audio_cache:"inputAudioCache",web_search:"webSearch",internal_reasoning:"internalReasoning",input_cache_read:"inputCacheRead",input_cache_write:"inputCacheWrite"})),Fh=l({context_length:c(m()).optional(),max_completion_tokens:c(m()).optional(),is_moderated:Z()}).transform(e=>b(e,{context_length:"contextLength",max_completion_tokens:"maxCompletionTokens",is_moderated:"isModerated"})),Xh=l({id:i(),canonical_slug:i(),hugging_face_id:c(i()).optional(),name:i(),created:m(),description:i().optional(),pricing:Dh,context_length:c(m()),architecture:Zh,top_provider:Fh,per_request_limits:c(jh),supported_parameters:$(Cr),default_parameters:c(lh)}).transform(e=>b(e,{canonical_slug:"canonicalSlug",hugging_face_id:"huggingFaceId",context_length:"contextLength",top_provider:"topProvider",per_request_limits:"perRequestLimits",supported_parameters:"supportedParameters",default_parameters:"defaultParameters"})),Vh=l({count:m()}),Kh=l({data:R(()=>Vh)}),yo=l({data:$(Xh)}),Hh=l({code:Q(),message:i(),metadata:c(B(i(),c(N()))).optional()}),Bh=l({type:x("url_citation"),url:i(),title:i(),start_index:m(),end_index:m()}).transform(e=>b(e,{start_index:"startIndex",end_index:"endIndex"})),Gh=l({type:x("url_citation"),url:i(),title:i(),startIndex:m(),endIndex:m()}).transform(e=>b(e,{startIndex:"start_index",endIndex:"end_index"})),Tr=k([hh,Bh,yh]),Wh=k([fh,Gh,_h]),Jh=W(),Yh={MaxOutputTokens:"max_output_tokens",ContentFilter:"content_filter"},Qh=G(Yh),ef=l({reason:Qh.optional()}),tf={ImageGenerationCall:"image_generation_call"},nf=q(tf),Or=l({type:nf,id:i(),result:c(i()).default(null),status:wr}),Je=l({type:x("refusal"),refusal:i()}),Er=l({type:x("refusal"),refusal:i()}),Ye=l({type:x("output_text"),text:i(),annotations:$(Tr).optional()}),Ar=l({type:x("output_text"),text:i(),annotations:$(Wh).optional()}),of={Assistant:"assistant"},sf={Message:"message"},rf={InProgress:"in_progress"},af={Incomplete:"incomplete"},uf={Completed:"completed"},cf=q(of),lf=q(sf),qr=q(rf),Pr=q(af),zr=q(uf);k([zr,Pr,qr]);k([Ye,Je]);const Mr=l({id:i(),role:cf,type:lf,status:k([zr,Pr,qr]).optional(),content:$(k([Ye,Je]))}),df={Mp3:"mp3",Wav:"wav"},pf=G(df),mf=W(),hf=l({data:i(),format:pf}),ff=l({data:i(),format:mf}),nn=l({type:x("input_audio"),input_audio:R(()=>hf)}).transform(e=>b(e,{input_audio:"inputAudio"})),on=l({type:x("input_audio"),inputAudio:R(()=>ff)}).transform(e=>b(e,{inputAudio:"input_audio"})),ut=l({type:x("input_file"),file_id:c(i()).optional(),file_data:i().optional(),filename:i().optional(),file_url:i().optional()}).transform(e=>b(e,{file_id:"fileId",file_data:"fileData",file_url:"fileUrl"})),ct=l({type:x("input_file"),fileId:c(i()).optional(),fileData:i().optional(),filename:i().optional(),fileUrl:i().optional()}).transform(e=>b(e,{fileId:"file_id",fileData:"file_data",fileUrl:"file_url"})),yf={Auto:"auto",High:"high",Low:"low"},_f=G(yf),gf=W(),lt=l({type:x("input_image"),detail:_f,image_url:c(i()).optional()}).transform(e=>b(e,{image_url:"imageUrl"})),dt=l({type:x("input_image"),detail:gf,imageUrl:c(i()).optional()}).transform(e=>b(e,{imageUrl:"image_url"})),pt=l({type:x("input_text"),text:i()}),mt=l({type:x("input_text"),text:i()}),bf={InProgress:"in_progress",Completed:"completed",Incomplete:"incomplete"},Nr=G(bf),Lr=W(),vf={FunctionCall:"function_call"},Sf={FunctionCallOutput:"function_call_output"},kf={Message:"message"},Rf={Developer:"developer"},wf={System:"system"},xf={User:"user"},$f={Message:"message"},Cf={Developer:"developer"},If={Assistant:"assistant"},Tf={System:"system"},Of={User:"user"},Ef=q(vf),Ur=l({type:Ef,call_id:i(),name:i(),arguments:i(),id:i().optional(),status:c(Nr).optional()}).transform(e=>b(e,{call_id:"callId"})),Af=q(Sf),Zr=l({type:Af,id:c(i()).optional(),call_id:i(),output:i(),status:c(Nr).optional()}).transform(e=>b(e,{call_id:"callId"})),qf=q(kf),jr=q(Rf),Dr=q(wf),Fr=q(xf);k([Fr,Dr,jr]);k([pt,lt,ut,nn]);const Xr=l({id:i(),type:qf.optional(),role:k([Fr,Dr,jr]),content:$(k([pt,lt,ut,nn]))}),Pf=q($f),Vr=q(Cf),Kr=q(If),Hr=q(Tf),Br=q(Of);k([Br,Hr,Kr,Vr]);k([pt,lt,ut,nn]);k([$(k([pt,lt,ut,nn])),i()]);const Gr=l({type:Pf.optional(),role:k([Br,Hr,Kr,Vr]),content:k([$(k([pt,lt,ut,nn])),i()])});k([R(()=>Ur),Mr,R(()=>Xr),R(()=>Zr),Or,R(()=>Gr)]);const zf=k([i(),$(k([R(()=>Ur),Mr,R(()=>Xr),R(()=>Zr),Or,R(()=>Gr)])),N()]);k([pt,lt,ut,i()]);k([mt,dt,ct,i()]);const Mf=l({id:i(),variables:c(B(i(),k([pt,lt,ut,i()]))).optional()}),Nf=l({id:i(),variables:c(B(i(),k([mt,dt,ct,i()]))).optional()}),Lf={High:"high",Medium:"medium",Low:"low",Minimal:"minimal",None:"none"},Uf=G(Lf),Zf=W(),jf=l({effort:c(Uf).optional(),summary:Am.optional()}),Df={Completed:"completed",Incomplete:"incomplete",InProgress:"in_progress",Failed:"failed",Cancelled:"cancelled",Queued:"queued"},Ff=G(Df),Xf={Auto:"auto",Default:"default",Flex:"flex",Priority:"priority",Scale:"scale"},Vf=G(Xf),Kf={WebSearchPreview:"web_search_preview"},Hf={WebSearchPreview20250311:"web_search_preview_2025_03_11"},Bf={Function:"function"},Gf={Required:"required"},Wf={None:"none"},Jf={Auto:"auto"},_o=q(Kf),Wr=_o,go=q(Hf),Jr=go;k([go,_o]);k([Jr,Wr]);const Yf=l({type:k([go,_o])}),Qf=l({type:k([Jr,Wr])}),Yr=q(Bf),ey=Yr,ty=l({type:Yr,name:i()}),ny=l({type:ey,name:i()}),Qr=q(Gf),oy=Qr,ea=q(Wf),sy=ea,ta=q(Jf),ry=ta,ay=k([R(()=>ty),R(()=>Yf),ta,ea,Qr]),iy=k([R(()=>ny),R(()=>Qf),ry,sy,oy]),uy={Auto:"auto",Disabled:"disabled"},cy=G(uy),ly={Message:"message"},dy={Developer:"developer"},py={Assistant:"assistant"},my={System:"system"},hy={User:"user"},fy=q(ly),na=q(dy),oa=q(py),sa=q(my),ra=q(hy);k([ra,sa,oa,na]);k([mt,dt,ct,on]);k([$(k([mt,dt,ct,on])),i()]);const aa=l({type:fy.optional(),role:k([ra,sa,oa,na]),content:k([$(k([mt,dt,ct,on])),i()])}),yy=l({type:x("error"),code:c(i()),message:i(),param:c(i()),sequence_number:m()}).transform(e=>b(e,{sequence_number:"sequenceNumber"})),_y={FunctionCallOutput:"function_call_output"},gy=q(_y),ia=l({type:gy,id:c(i()).optional(),callId:i(),output:i(),status:c(Lr).optional()}).transform(e=>b(e,{callId:"call_id"})),by={FunctionCall:"function_call"},vy=q(by),ua=l({type:vy,callId:i(),name:i(),arguments:i(),id:i(),status:c(Lr).optional()}).transform(e=>b(e,{callId:"call_id"})),Sy=l({type:x("response.image_generation_call.completed"),item_id:i(),output_index:m(),sequence_number:m()}).transform(e=>b(e,{item_id:"itemId",output_index:"outputIndex",sequence_number:"sequenceNumber"})),ky=l({type:x("response.image_generation_call.generating"),item_id:i(),output_index:m(),sequence_number:m()}).transform(e=>b(e,{item_id:"itemId",output_index:"outputIndex",sequence_number:"sequenceNumber"})),Ry=l({type:x("response.image_generation_call.in_progress"),item_id:i(),output_index:m(),sequence_number:m()}).transform(e=>b(e,{item_id:"itemId",output_index:"outputIndex",sequence_number:"sequenceNumber"})),wy=l({type:x("response.image_generation_call.partial_image"),item_id:i(),output_index:m(),sequence_number:m(),partial_image_b64:i(),partial_image_index:m()}).transform(e=>b(e,{item_id:"itemId",output_index:"outputIndex",sequence_number:"sequenceNumber",partial_image_b64:"partialImageB64",partial_image_index:"partialImageIndex"})),xy={Message:"message"},$y={Developer:"developer"},Cy={System:"system"},Iy={User:"user"},Ty=q(xy),ca=q($y),la=q(Cy),da=q(Iy);k([da,la,ca]);k([mt,dt,ct,on]);const pa=l({id:i().optional(),type:Ty.optional(),role:k([da,la,ca]),content:$(k([mt,dt,ct,on]))}),Oy={SummaryText:"summary_text"},ma=q(Oy),Ey=ma,bo=l({type:ma,text:i()}),ha=l({type:Ey,text:i()}),Ay={ReasoningText:"reasoning_text"},fa=q(Ay),qy=fa,sn=l({type:fa,text:i()}),ya=l({type:qy,text:i()}),Py={Reasoning:"reasoning"},zy={InProgress:"in_progress"},My={Incomplete:"incomplete"},Ny={Completed:"completed"},Ly=q(Py),_a=q(zy),ga=q(My),ba=q(Ny);k([ba,ga,_a]);const Uy=W(),va=l({type:Ly,id:i(),content:$(ya).optional(),summary:$(ha),encryptedContent:c(i()).optional(),status:k([ba,ga,_a]).optional(),signature:c(i()).optional(),format:c(Uy).optional()}).transform(e=>b(e,{encryptedContent:"encrypted_content"})),Zy={ImageGenerationCall:"image_generation_call"},Sa=q(Zy),jy=Sa,Dy=l({type:Sa,id:i(),result:c(i()).default(null),status:wr}),ka=l({type:jy,id:i(),result:c(i()).default(null),status:vh}),Fy={Completed:"completed",Searching:"searching",InProgress:"in_progress",Failed:"failed"},Ra=G(Fy),wa=W(),Xy={FileSearchCall:"file_search_call"},xa=q(Xy),Vy=xa,Ky=l({type:xa,id:i(),queries:$(i()),status:Ra}),$a=l({type:Vy,id:i(),queries:$(i()),status:wa}),Hy={FunctionCall:"function_call"},By={InProgress:"in_progress"},Gy={Incomplete:"incomplete"},Wy={Completed:"completed"},Ca=q(Hy),Jy=Ca,vo=q(By),Ia=vo,So=q(Gy),Ta=So,ko=q(Wy),Oa=ko;k([ko,So,vo]);k([Oa,Ta,Ia]);const Yy=l({type:Ca,id:i().optional(),name:i(),arguments:i(),call_id:i(),status:k([ko,So,vo]).optional()}).transform(e=>b(e,{call_id:"callId"})),Ea=l({type:Jy,id:i().optional(),name:i(),arguments:i(),callId:i(),status:k([Oa,Ta,Ia]).optional()}).transform(e=>b(e,{callId:"call_id"})),Qy={Reasoning:"reasoning"},e_={InProgress:"in_progress"},t_={Incomplete:"incomplete"},n_={Completed:"completed"},Aa=q(Qy),o_=Aa,Ro=q(e_),qa=Ro,wo=q(t_),Pa=wo,xo=q(n_),za=xo;k([xo,wo,Ro]);k([za,Pa,qa]);const s_=l({type:Aa,id:i(),content:$(sn).optional(),summary:$(bo),encrypted_content:c(i()).optional(),status:k([xo,wo,Ro]).optional()}).transform(e=>b(e,{encrypted_content:"encryptedContent"})),Ma=l({type:o_,id:i(),content:$(ya).optional(),summary:$(ha),encryptedContent:c(i()).optional(),status:k([za,Pa,qa]).optional()}).transform(e=>b(e,{encryptedContent:"encrypted_content"})),r_={Assistant:"assistant"},a_={Message:"message"},i_={InProgress:"in_progress"},u_={Incomplete:"incomplete"},c_={Completed:"completed"},Na=q(r_),l_=Na,La=q(a_),d_=La,$o=q(i_),Ua=$o,Co=q(u_),Za=Co,Io=q(c_),ja=Io;k([Io,Co,$o]);k([ja,Za,Ua]);k([Ye,Je]);k([Ar,Er]);const p_=l({id:i(),role:Na,type:La,status:k([Io,Co,$o]).optional(),content:$(k([Ye,Je]))}),Da=l({id:i(),role:l_,type:d_,status:k([ja,Za,Ua]).optional(),content:$(k([Ar,Er]))}),m_={WebSearchCall:"web_search_call"},Fa=q(m_),h_=Fa,f_=l({type:Fa,id:i(),status:Ra}),Xa=l({type:h_,id:i(),status:wa});k([ua,Da,Ea,$a,va,ia,Ma,Xa,ka,aa,pa]);const y_=k([i(),$(k([ua,Da,Ea,$a,va,ia,Ma,Xa,ka,aa,pa]))]),__=l({token:i().optional(),logprob:m().optional()}),Va=l({logprob:m(),token:i(),top_logprobs:$(__).optional()}).transform(e=>b(e,{top_logprobs:"topLogprobs"})),g_=l({cached_tokens:m()}).transform(e=>b(e,{cached_tokens:"cachedTokens"})),b_=l({reasoning_tokens:m()}).transform(e=>b(e,{reasoning_tokens:"reasoningTokens"})),v_=l({upstream_inference_cost:c(m()).optional(),upstream_inference_input_cost:m(),upstream_inference_output_cost:m()}).transform(e=>b(e,{upstream_inference_cost:"upstreamInferenceCost",upstream_inference_input_cost:"upstreamInferenceInputCost",upstream_inference_output_cost:"upstreamInferenceOutputCost"})),S_=l({input_tokens:m(),input_tokens_details:R(()=>g_),output_tokens:m(),output_tokens_details:R(()=>b_),total_tokens:m(),cost:c(m()).optional(),is_byok:Z().optional(),cost_details:R(()=>v_).optional()}).transform(e=>b(e,{input_tokens:"inputTokens",input_tokens_details:"inputTokensDetails",output_tokens:"outputTokens",output_tokens_details:"outputTokensDetails",total_tokens:"totalTokens",is_byok:"isByok",cost_details:"costDetails"})),k_={Low:"low",Medium:"medium",High:"high"},Un=G(k_),Zn=W(),R_={Approximate:"approximate"},Ka=q(R_),w_=Ka,Ha=l({type:Ka.optional(),city:c(i()).optional(),country:c(i()).optional(),region:c(i()).optional(),timezone:c(i()).optional()}),Ba=l({type:w_.optional(),city:c(i()).optional(),country:c(i()).optional(),region:c(i()).optional(),timezone:c(i()).optional()}),x_=l({allowed_domains:c($(i())).optional()}).transform(e=>b(e,{allowed_domains:"allowedDomains"})),$_=l({allowedDomains:c($(i())).optional()}).transform(e=>b(e,{allowedDomains:"allowed_domains"})),Ga=l({type:x("web_search_2025_08_26"),filters:c(R(()=>x_)).optional(),search_context_size:Un.optional(),user_location:c(Ha).optional()}).transform(e=>b(e,{search_context_size:"searchContextSize",user_location:"userLocation"})),Wa=l({type:x("web_search_2025_08_26"),filters:c(R(()=>$_)).optional(),searchContextSize:Zn.optional(),userLocation:c(Ba).optional()}).transform(e=>b(e,{searchContextSize:"search_context_size",userLocation:"user_location"})),C_={Approximate:"approximate"},Ja=q(C_),I_=Ja,Ya=l({type:Ja,city:c(i()).optional(),country:c(i()).optional(),region:c(i()).optional(),timezone:c(i()).optional()}),Qa=l({type:I_,city:c(i()).optional(),country:c(i()).optional(),region:c(i()).optional(),timezone:c(i()).optional()}),ei=l({type:x("web_search_preview_2025_03_11"),search_context_size:Un.optional(),user_location:c(Ya).optional()}).transform(e=>b(e,{search_context_size:"searchContextSize",user_location:"userLocation"})),ti=l({type:x("web_search_preview_2025_03_11"),searchContextSize:Zn.optional(),userLocation:c(Qa).optional()}).transform(e=>b(e,{searchContextSize:"search_context_size",userLocation:"user_location"})),ni=l({type:x("web_search_preview"),search_context_size:Un.optional(),user_location:c(Ya).optional()}).transform(e=>b(e,{search_context_size:"searchContextSize",user_location:"userLocation"})),oi=l({type:x("web_search_preview"),searchContextSize:Zn.optional(),userLocation:c(Qa).optional()}).transform(e=>b(e,{searchContextSize:"search_context_size",userLocation:"user_location"})),T_=l({allowed_domains:c($(i())).optional()}).transform(e=>b(e,{allowed_domains:"allowedDomains"})),O_=l({allowedDomains:c($(i())).optional()}).transform(e=>b(e,{allowedDomains:"allowed_domains"})),si=l({type:x("web_search"),filters:c(R(()=>T_)).optional(),search_context_size:Un.optional(),user_location:c(Ha).optional()}).transform(e=>b(e,{search_context_size:"searchContextSize",user_location:"userLocation"})),ri=l({type:x("web_search"),filters:c(R(()=>O_)).optional(),searchContextSize:Zn.optional(),userLocation:c(Ba).optional()}).transform(e=>b(e,{searchContextSize:"search_context_size",userLocation:"user_location"})),E_={ServerError:"server_error",RateLimitExceeded:"rate_limit_exceeded",InvalidPrompt:"invalid_prompt",VectorStoreTimeout:"vector_store_timeout",InvalidImage:"invalid_image",InvalidImageFormat:"invalid_image_format",InvalidBase64Image:"invalid_base64_image",InvalidImageUrl:"invalid_image_url",ImageTooLarge:"image_too_large",ImageTooSmall:"image_too_small",ImageParseError:"image_parse_error",ImageContentPolicyViolation:"image_content_policy_violation",InvalidImageMode:"invalid_image_mode",ImageFileTooLarge:"image_file_too_large",UnsupportedImageMediaType:"unsupported_image_media_type",EmptyImageFile:"empty_image_file",FailedToDownloadImage:"failed_to_download_image",ImageFileNotFound:"image_file_not_found"},A_=G(E_),q_=l({code:A_,message:i()}),To=k([p_.and(l({type:x("message")})),s_.and(l({type:x("reasoning")})),Yy.and(l({type:x("function_call")})),f_.and(l({type:x("web_search_call")})),Ky.and(l({type:x("file_search_call")})),Dy.and(l({type:x("image_generation_call")}))]),P_=l({type:x("json_object")}),z_=l({type:x("json_object")}),M_=l({type:x("text")}),N_=l({type:x("text")}),L_=l({type:x("json_schema"),name:i(),description:i().optional(),strict:c(Z()).optional(),schema:B(i(),c(N()))}),U_=l({type:x("json_schema"),name:i(),description:i().optional(),strict:c(Z()).optional(),schema:B(i(),c(N()))}),Z_=k([M_,P_,L_]),j_=k([N_,z_,U_]),D_={High:"high",Low:"low",Medium:"medium"},F_=G(D_),X_=l({format:Z_.optional(),verbosity:c(F_).optional()}),V_={Response:"response"},K_=q(V_),ai=l({type:x("function"),name:i(),description:c(i()).optional(),strict:c(Z()).optional(),parameters:c(B(i(),c(N())))});k([R(()=>ai),ni,ei,si,Ga]);const qt=l({id:i(),object:K_,created_at:m(),model:i(),status:Ff.optional(),output:$(To),user:c(i()).optional(),output_text:i().optional(),prompt_cache_key:c(i()).optional(),safety_identifier:c(i()).optional(),error:c(q_),incomplete_details:c(ef),usage:S_.optional(),max_tool_calls:c(m()).optional(),top_logprobs:m().optional(),max_output_tokens:c(m()).optional(),temperature:c(m()),top_p:c(m()),instructions:c(zf).optional(),metadata:c(B(i(),i())),tools:$(k([R(()=>ai),ni,ei,si,Ga])),tool_choice:ay,parallel_tool_calls:Z(),prompt:c(Mf).optional(),background:c(Z()).optional(),previous_response_id:c(i()).optional(),reasoning:c(jf).optional(),service_tier:c(Vf).optional(),store:Z().optional(),truncation:c(cy).optional(),text:X_.optional()}).transform(e=>b(e,{created_at:"createdAt",output_text:"outputText",prompt_cache_key:"promptCacheKey",safety_identifier:"safetyIdentifier",incomplete_details:"incompleteDetails",max_tool_calls:"maxToolCalls",top_logprobs:"topLogprobs",max_output_tokens:"maxOutputTokens",top_p:"topP",tool_choice:"toolChoice",parallel_tool_calls:"parallelToolCalls",previous_response_id:"previousResponseId",service_tier:"serviceTier"})),H_=l({effort:c(Zf).optional(),summary:hr.optional(),maxTokens:c(m()).optional(),enabled:c(Z()).optional()}).transform(e=>b(e,{maxTokens:"max_tokens"})),B_=l({type:x("response.reasoning_text.delta"),output_index:m(),item_id:i(),content_index:m(),delta:i(),sequence_number:m()}).transform(e=>b(e,{output_index:"outputIndex",item_id:"itemId",content_index:"contentIndex",sequence_number:"sequenceNumber"})),G_=l({type:x("response.reasoning_text.done"),output_index:m(),item_id:i(),content_index:m(),text:i(),sequence_number:m()}).transform(e=>b(e,{output_index:"outputIndex",item_id:"itemId",content_index:"contentIndex",sequence_number:"sequenceNumber"})),W_=l({type:x("response.reasoning_summary_part.added"),output_index:m(),item_id:i(),summary_index:m(),part:bo,sequence_number:m()}).transform(e=>b(e,{output_index:"outputIndex",item_id:"itemId",summary_index:"summaryIndex",sequence_number:"sequenceNumber"})),J_=l({type:x("response.reasoning_summary_text.delta"),item_id:i(),output_index:m(),summary_index:m(),delta:i(),sequence_number:m()}).transform(e=>b(e,{item_id:"itemId",output_index:"outputIndex",summary_index:"summaryIndex",sequence_number:"sequenceNumber"})),Y_=l({type:x("response.reasoning_summary_text.done"),item_id:i(),output_index:m(),summary_index:m(),text:i(),sequence_number:m()}).transform(e=>b(e,{item_id:"itemId",output_index:"outputIndex",summary_index:"summaryIndex",sequence_number:"sequenceNumber"})),Q_=W(),eg=l({format:j_.optional(),verbosity:c(Q_).optional()}),ii=W(),ui=W(),tg={Auto:"auto"},ci=l({type:x("function"),name:i(),description:c(i()).optional(),strict:c(Z()).optional(),parameters:c(B(i(),c(N())))});k([R(()=>ci),oi,ti,ri,Wa]);const ng=q(tg),og=W();k([xe,i()]);k([xe,i()]);k([xe,i()]);const sg=l({prompt:N().optional(),completion:N().optional(),image:N().optional(),audio:N().optional(),request:N().optional()}),rg=l({allowFallbacks:c(Z()).optional(),requireParameters:c(Z()).optional(),dataCollection:c(Rr).optional(),zdr:c(Z()).optional(),enforceDistillableText:c(Z()).optional(),order:c($(k([xe,i()]))).optional(),only:c($(k([xe,i()]))).optional(),ignore:c($(k([xe,i()]))).optional(),quantizations:c($(ui)).optional(),sort:c(ii).optional(),maxPrice:R(()=>sg).optional()}).transform(e=>b(e,{allowFallbacks:"allow_fallbacks",requireParameters:"require_parameters",dataCollection:"data_collection",enforceDistillableText:"enforce_distillable_text",maxPrice:"max_price"})),li=l({id:x("response-healing")}),ag=W(),ig=l({engine:ag.optional()}),di=l({id:x("file-parser"),maxFiles:m().optional(),pdf:R(()=>ig).optional()}).transform(e=>b(e,{maxFiles:"max_files"})),ug=W(),pi=l({id:x("web"),maxResults:m().optional(),searchPrompt:i().optional(),engine:ug.optional()}).transform(e=>b(e,{maxResults:"max_results",searchPrompt:"search_prompt"})),mi=l({id:x("moderation")});k([R(()=>mi),R(()=>pi),R(()=>di),R(()=>li)]);const cg=l({input:y_.optional(),instructions:c(i()).optional(),metadata:c(B(i(),i())).optional(),tools:$(k([R(()=>ci),oi,ti,ri,Wa])).optional(),toolChoice:iy.optional(),parallelToolCalls:c(Z()).optional(),model:i().optional(),models:$(i()).optional(),text:eg.optional(),reasoning:c(H_).optional(),maxOutputTokens:c(m()).optional(),temperature:c(m()).optional(),topP:c(m()).optional(),topK:m().optional(),promptCacheKey:c(i()).optional(),previousResponseId:c(i()).optional(),prompt:c(Nf).optional(),include:c($(Jh)).optional(),background:c(Z()).optional(),safetyIdentifier:c(i()).optional(),store:x(!1).default(!1),serviceTier:ng.default("auto"),truncation:c(og).optional(),stream:Z().default(!1),provider:c(R(()=>rg)).optional(),plugins:$(k([R(()=>mi),R(()=>pi),R(()=>di),R(()=>li)])).optional(),user:i().optional()}).transform(e=>b(e,{toolChoice:"tool_choice",parallelToolCalls:"parallel_tool_calls",maxOutputTokens:"max_output_tokens",topP:"top_p",topK:"top_k",promptCacheKey:"prompt_cache_key",previousResponseId:"previous_response_id",safetyIdentifier:"safety_identifier",serviceTier:"service_tier"})),lg=l({type:x("response.reasoning_summary_part.done"),output_index:m(),item_id:i(),summary_index:m(),part:bo,sequence_number:m()}).transform(e=>b(e,{output_index:"outputIndex",item_id:"itemId",summary_index:"summaryIndex",sequence_number:"sequenceNumber"})),dg=l({type:x("response.function_call_arguments.done"),item_id:i(),output_index:m(),name:i(),arguments:i(),sequence_number:m()}).transform(e=>b(e,{item_id:"itemId",output_index:"outputIndex",sequence_number:"sequenceNumber"})),pg=l({type:x("response.function_call_arguments.delta"),item_id:i(),output_index:m(),delta:i(),sequence_number:m()}).transform(e=>b(e,{item_id:"itemId",output_index:"outputIndex",sequence_number:"sequenceNumber"})),mg=l({type:x("response.output_text.annotation.added"),output_index:m(),item_id:i(),content_index:m(),sequence_number:m(),annotation_index:m(),annotation:Tr}).transform(e=>b(e,{output_index:"outputIndex",item_id:"itemId",content_index:"contentIndex",sequence_number:"sequenceNumber",annotation_index:"annotationIndex"})),hg=l({type:x("response.refusal.done"),output_index:m(),item_id:i(),content_index:m(),refusal:i(),sequence_number:m()}).transform(e=>b(e,{output_index:"outputIndex",item_id:"itemId",content_index:"contentIndex",sequence_number:"sequenceNumber"})),fg=l({type:x("response.refusal.delta"),output_index:m(),item_id:i(),content_index:m(),delta:i(),sequence_number:m()}).transform(e=>b(e,{output_index:"outputIndex",item_id:"itemId",content_index:"contentIndex",sequence_number:"sequenceNumber"})),yg=l({type:x("response.output_text.done"),output_index:m(),item_id:i(),content_index:m(),text:i(),sequence_number:m(),logprobs:$(Va)}).transform(e=>b(e,{output_index:"outputIndex",item_id:"itemId",content_index:"contentIndex",sequence_number:"sequenceNumber"})),_g=l({type:x("response.output_text.delta"),logprobs:$(Va),output_index:m(),item_id:i(),content_index:m(),delta:i(),sequence_number:m()}).transform(e=>b(e,{output_index:"outputIndex",item_id:"itemId",content_index:"contentIndex",sequence_number:"sequenceNumber"}));k([Ye,sn.and(l({type:x("reasoning_text")})),Je]);const gg=l({type:x("response.content_part.done"),output_index:m(),item_id:i(),content_index:m(),part:k([Ye,sn.and(l({type:x("reasoning_text")})),Je]),sequence_number:m()}).transform(e=>b(e,{output_index:"outputIndex",item_id:"itemId",content_index:"contentIndex",sequence_number:"sequenceNumber"}));k([Ye,sn.and(l({type:x("reasoning_text")})),Je]);const bg=l({type:x("response.content_part.added"),output_index:m(),item_id:i(),content_index:m(),part:k([Ye,sn.and(l({type:x("reasoning_text")})),Je]),sequence_number:m()}).transform(e=>b(e,{output_index:"outputIndex",item_id:"itemId",content_index:"contentIndex",sequence_number:"sequenceNumber"})),vg=l({type:x("response.output_item.done"),output_index:m(),item:To,sequence_number:m()}).transform(e=>b(e,{output_index:"outputIndex",sequence_number:"sequenceNumber"})),Sg=l({type:x("response.output_item.added"),output_index:m(),item:To,sequence_number:m()}).transform(e=>b(e,{output_index:"outputIndex",sequence_number:"sequenceNumber"})),kg=l({type:x("response.failed"),response:qt,sequence_number:m()}).transform(e=>b(e,{sequence_number:"sequenceNumber"})),Rg=l({type:x("response.incomplete"),response:qt,sequence_number:m()}).transform(e=>b(e,{sequence_number:"sequenceNumber"})),wg=l({type:x("response.completed"),response:qt,sequence_number:m()}).transform(e=>b(e,{sequence_number:"sequenceNumber"})),xg=l({type:x("response.in_progress"),response:qt,sequence_number:m()}).transform(e=>b(e,{sequence_number:"sequenceNumber"})),$g=l({type:x("response.created"),response:qt,sequence_number:m()}).transform(e=>b(e,{sequence_number:"sequenceNumber"})),Cg=k([R(()=>$g),R(()=>xg),R(()=>wg),R(()=>Rg),R(()=>kg),yy,R(()=>Sg),R(()=>vg),R(()=>bg),R(()=>gg),R(()=>_g),R(()=>yg),R(()=>fg),R(()=>hg),R(()=>mg),R(()=>pg),R(()=>dg),B_,G_,W_,R(()=>lg),J_,Y_,Ry,ky,wy,Sy]),Ig=l({code:Q(),message:i(),metadata:c(B(i(),c(N()))).optional()}),Tg=l({code:Q(),message:i(),metadata:c(B(i(),c(N()))).optional()}),Og=l({code:Q(),message:i(),metadata:c(B(i(),c(N()))).optional()}),Eg=l({code:Q(),message:i(),metadata:c(B(i(),c(N()))).optional()}),Ag=l({code:Q(),message:i(),metadata:c(B(i(),c(N()))).optional()}),qg=l({code:Q(),message:i(),metadata:c(B(i(),c(N()))).optional()}),Pg=l({code:Q(),message:i(),metadata:c(B(i(),c(N()))).optional()}),zg=l({code:Q(),message:i(),metadata:c(B(i(),c(N()))).optional()});class Mg extends me{constructor(t,n){const o=t.error?.message||`API error occurred: ${JSON.stringify(t)}`;super(o,n),this.data$=t,this.error=t.error,t.userId!=null&&(this.userId=t.userId),this.name="BadGatewayResponseError"}}const Oo=l({error:Sm,user_id:c(i()).optional(),request$:V(e=>e instanceof Request),response$:V(e=>e instanceof Response),body$:i()}).transform(e=>{const t=b(e,{user_id:"userId"});return new Mg(t,{request:e.request$,response:e.response$,body:e.body$})});class Ng extends me{constructor(t,n){const o=t.error?.message||`API error occurred: ${JSON.stringify(t)}`;super(o,n),this.data$=t,this.error=t.error,t.userId!=null&&(this.userId=t.userId),this.name="BadRequestResponseError"}}const Me=l({error:km,user_id:c(i()).optional(),request$:V(e=>e instanceof Request),response$:V(e=>e instanceof Response),body$:i()}).transform(e=>{const t=b(e,{user_id:"userId"});return new Ng(t,{request:e.request$,response:e.response$,body:e.body$})});class Lg extends me{constructor(t,n){const o=t.error?.message||`API error occurred: ${JSON.stringify(t)}`;super(o,n),this.data$=t,this.error=t.error,this.name="ChatError"}}const Rn=l({error:R(()=>wm),request$:V(e=>e instanceof Request),response$:V(e=>e instanceof Response),body$:i()}).transform(e=>new Lg(e,{request:e.request$,response:e.response$,body:e.body$}));class Ug extends me{constructor(t,n){const o=t.error?.message||`API error occurred: ${JSON.stringify(t)}`;super(o,n),this.data$=t,this.error=t.error,t.userId!=null&&(this.userId=t.userId),this.name="EdgeNetworkTimeoutResponseError"}}const Eo=l({error:dh,user_id:c(i()).optional(),request$:V(e=>e instanceof Request),response$:V(e=>e instanceof Response),body$:i()}).transform(e=>{const t=b(e,{user_id:"userId"});return new Ug(t,{request:e.request$,response:e.response$,body:e.body$})});class Zg extends me{constructor(t,n){const o=t.error?.message||`API error occurred: ${JSON.stringify(t)}`;super(o,n),this.data$=t,this.error=t.error,t.userId!=null&&(this.userId=t.userId),this.name="ForbiddenResponseError"}}const Ao=l({error:gh,user_id:c(i()).optional(),request$:V(e=>e instanceof Request),response$:V(e=>e instanceof Response),body$:i()}).transform(e=>{const t=b(e,{user_id:"userId"});return new Zg(t,{request:e.request$,response:e.response$,body:e.body$})});class jg extends me{constructor(t,n){const o=t.error?.message||`API error occurred: ${JSON.stringify(t)}`;super(o,n),this.data$=t,this.error=t.error,t.userId!=null&&(this.userId=t.userId),this.name="InternalServerResponseError"}}const ce=l({error:wh,user_id:c(i()).optional(),request$:V(e=>e instanceof Request),response$:V(e=>e instanceof Response),body$:i()}).transform(e=>{const t=b(e,{user_id:"userId"});return new jg(t,{request:e.request$,response:e.response$,body:e.body$})});class Dg extends me{constructor(t,n){const o=t.error?.message||`API error occurred: ${JSON.stringify(t)}`;super(o,n),this.data$=t,this.error=t.error,t.userId!=null&&(this.userId=t.userId),this.name="NotFoundResponseError"}}const Qe=l({error:Hh,user_id:c(i()).optional(),request$:V(e=>e instanceof Request),response$:V(e=>e instanceof Response),body$:i()}).transform(e=>{const t=b(e,{user_id:"userId"});return new Dg(t,{request:e.request$,response:e.response$,body:e.body$})});class Fg extends me{constructor(t,n){const o=t.error?.message||`API error occurred: ${JSON.stringify(t)}`;super(o,n),this.data$=t,this.error=t.error,t.userId!=null&&(this.userId=t.userId),this.name="PayloadTooLargeResponseError"}}const Xg=l({error:Ig,user_id:c(i()).optional(),request$:V(e=>e instanceof Request),response$:V(e=>e instanceof Response),body$:i()}).transform(e=>{const t=b(e,{user_id:"userId"});return new Fg(t,{request:e.request$,response:e.response$,body:e.body$})});class Vg extends me{constructor(t,n){const o=t.error?.message||`API error occurred: ${JSON.stringify(t)}`;super(o,n),this.data$=t,this.error=t.error,t.userId!=null&&(this.userId=t.userId),this.name="PaymentRequiredResponseError"}}const qo=l({error:Tg,user_id:c(i()).optional(),request$:V(e=>e instanceof Request),response$:V(e=>e instanceof Response),body$:i()}).transform(e=>{const t=b(e,{user_id:"userId"});return new Vg(t,{request:e.request$,response:e.response$,body:e.body$})});class Kg extends me{constructor(t,n){const o=t.error?.message||`API error occurred: ${JSON.stringify(t)}`;super(o,n),this.data$=t,this.error=t.error,t.userId!=null&&(this.userId=t.userId),this.name="ProviderOverloadedResponseError"}}const Po=l({error:Og,user_id:c(i()).optional(),request$:V(e=>e instanceof Request),response$:V(e=>e instanceof Response),body$:i()}).transform(e=>{const t=b(e,{user_id:"userId"});return new Kg(t,{request:e.request$,response:e.response$,body:e.body$})});class Hg extends me{constructor(t,n){const o=t.error?.message||`API error occurred: ${JSON.stringify(t)}`;super(o,n),this.data$=t,this.error=t.error,t.userId!=null&&(this.userId=t.userId),this.name="RequestTimeoutResponseError"}}const Bg=l({error:Eg,user_id:c(i()).optional(),request$:V(e=>e instanceof Request),response$:V(e=>e instanceof Response),body$:i()}).transform(e=>{const t=b(e,{user_id:"userId"});return new Hg(t,{request:e.request$,response:e.response$,body:e.body$})});class Gg extends me{constructor(t,n){const o=t.error?.message||`API error occurred: ${JSON.stringify(t)}`;super(o,n),this.data$=t,this.error=t.error,t.userId!=null&&(this.userId=t.userId),this.name="ServiceUnavailableResponseError"}}const hi=l({error:Ag,user_id:c(i()).optional(),request$:V(e=>e instanceof Request),response$:V(e=>e instanceof Response),body$:i()}).transform(e=>{const t=b(e,{user_id:"userId"});return new Gg(t,{request:e.request$,response:e.response$,body:e.body$})});class Wg extends me{constructor(t,n){const o=t.error?.message||`API error occurred: ${JSON.stringify(t)}`;super(o,n),this.data$=t,this.error=t.error,t.userId!=null&&(this.userId=t.userId),this.name="TooManyRequestsResponseError"}}const Fe=l({error:qg,user_id:c(i()).optional(),request$:V(e=>e instanceof Request),response$:V(e=>e instanceof Response),body$:i()}).transform(e=>{const t=b(e,{user_id:"userId"});return new Wg(t,{request:e.request$,response:e.response$,body:e.body$})});class Jg extends me{constructor(t,n){const o=t.error?.message||`API error occurred: ${JSON.stringify(t)}`;super(o,n),this.data$=t,this.error=t.error,t.userId!=null&&(this.userId=t.userId),this.name="UnauthorizedResponseError"}}const be=l({error:Pg,user_id:c(i()).optional(),request$:V(e=>e instanceof Request),response$:V(e=>e instanceof Response),body$:i()}).transform(e=>{const t=b(e,{user_id:"userId"});return new Jg(t,{request:e.request$,response:e.response$,body:e.body$})});class Yg extends me{constructor(t,n){const o=t.error?.message||`API error occurred: ${JSON.stringify(t)}`;super(o,n),this.data$=t,this.error=t.error,t.userId!=null&&(this.userId=t.userId),this.name="UnprocessableEntityResponseError"}}const Qg=l({error:zg,user_id:c(i()).optional(),request$:V(e=>e instanceof Request),response$:V(e=>e instanceof Response),body$:i()}).transform(e=>{const t=b(e,{user_id:"userId"});return new Yg(t,{request:e.request$,response:e.response$,body:e.body$})}),eb=W(),tb=l({callbackUrl:i(),codeChallenge:i().optional(),codeChallengeMethod:eb.optional(),limit:m().optional(),expiresAt:c(Ys().transform(e=>e.toISOString())).optional()}).transform(e=>b(e,{callbackUrl:"callback_url",codeChallenge:"code_challenge",codeChallengeMethod:"code_challenge_method",expiresAt:"expires_at"})),nb=l({id:i(),app_id:m(),created_at:i()}).transform(e=>b(e,{app_id:"appId",created_at:"createdAt"})),ob=l({data:R(()=>nb)});l({bearer:i()});const sb=l({deadline:i(),fee_amount:i(),id:i(),operator:i(),prefix:i(),recipient:i(),recipient_amount:i(),recipient_currency:i(),refund_destination:i(),signature:i()}).transform(e=>b(e,{fee_amount:"feeAmount",recipient_amount:"recipientAmount",recipient_currency:"recipientCurrency",refund_destination:"refundDestination"})),rb=l({chain_id:m(),contract_address:i(),sender:i()}).transform(e=>b(e,{chain_id:"chainId",contract_address:"contractAddress"})),ab=l({call_data:R(()=>sb),metadata:R(()=>rb)}).transform(e=>b(e,{call_data:"callData"})),ib=l({transfer_intent:R(()=>ab)}).transform(e=>b(e,{transfer_intent:"transferIntent"})),ub=l({id:i(),created_at:i(),expires_at:i(),web3_data:R(()=>ib)}).transform(e=>b(e,{created_at:"createdAt",expires_at:"expiresAt",web3_data:"web3Data"})),cb=l({data:R(()=>ub)}),lb={List:"list"},db={Embedding:"embedding"},pb=l({url:i()}),fi=l({type:x("image_url"),imageUrl:R(()=>pb)}).transform(e=>b(e,{imageUrl:"image_url"})),yi=l({type:x("text"),text:i()});k([R(()=>yi),R(()=>fi)]);const _i=l({content:$(k([R(()=>yi),R(()=>fi)]))});k([i(),$(i()),$(m()),$($(m())),$(R(()=>_i))]);const mb=W();k([xe,i()]);k([xe,i()]);k([xe,i()]);const hb=l({prompt:N().optional(),completion:N().optional(),image:N().optional(),audio:N().optional(),request:N().optional()}),fb=l({allowFallbacks:c(Z()).optional(),requireParameters:c(Z()).optional(),dataCollection:c(Rr).optional(),zdr:c(Z()).optional(),enforceDistillableText:c(Z()).optional(),order:c($(k([xe,i()]))).optional(),only:c($(k([xe,i()]))).optional(),ignore:c($(k([xe,i()]))).optional(),quantizations:c($(ui)).optional(),sort:c(ii).optional(),maxPrice:R(()=>hb).optional()}).transform(e=>b(e,{allowFallbacks:"allow_fallbacks",requireParameters:"require_parameters",dataCollection:"data_collection",enforceDistillableText:"enforce_distillable_text",maxPrice:"max_price"})),yb=l({input:k([i(),$(i()),$(m()),$($(m())),$(R(()=>_i))]),model:i(),encodingFormat:mb.optional(),dimensions:Q().optional(),user:i().optional(),provider:R(()=>fb).optional(),inputType:i().optional()}).transform(e=>b(e,{encodingFormat:"encoding_format",inputType:"input_type"})),_b=q(lb),gb=q(db);k([$(m()),i()]);const bb=l({object:gb,embedding:k([$(m()),i()]),index:m().optional()}),vb=l({prompt_tokens:m(),total_tokens:m(),cost:m().optional()}).transform(e=>b(e,{prompt_tokens:"promptTokens",total_tokens:"totalTokens"})),Sb=l({id:i().optional(),object:_b,data:$(R(()=>bb)),model:i(),usage:R(()=>vb).optional()}),kb=W(),Rb=l({name:i(),limit:c(m()).optional(),limitReset:c(kb).optional(),includeByokInLimit:Z().optional(),expiresAt:c(Ys().transform(e=>e.toISOString())).optional()}).transform(e=>b(e,{limitReset:"limit_reset",includeByokInLimit:"include_byok_in_limit",expiresAt:"expires_at"})),wb=l({hash:i(),name:i(),label:i(),disabled:Z(),limit:c(m()),limit_remaining:c(m()),limit_reset:c(i()),include_byok_in_limit:Z(),usage:m(),usage_daily:m(),usage_weekly:m(),usage_monthly:m(),byok_usage:m(),byok_usage_daily:m(),byok_usage_weekly:m(),byok_usage_monthly:m(),created_at:i(),updated_at:c(i()),expires_at:c(Et({offset:!0}).transform(e=>new Date(e))).optional()}).transform(e=>b(e,{limit_remaining:"limitRemaining",limit_reset:"limitReset",include_byok_in_limit:"includeByokInLimit",usage_daily:"usageDaily",usage_weekly:"usageWeekly",usage_monthly:"usageMonthly",byok_usage:"byokUsage",byok_usage_daily:"byokUsageDaily",byok_usage_weekly:"byokUsageWeekly",byok_usage_monthly:"byokUsageMonthly",created_at:"createdAt",updated_at:"updatedAt",expires_at:"expiresAt"})),xb=l({data:R(()=>wb),key:i()});class gi extends ReadableStream{constructor(t,n){const o=t.getReader();let s=new Uint8Array;super({async pull(r){try{for(;;){const a=Cb(s);if(!a){const p=await o.read();if(p.done)return r.close();s=$b(s,p.value);continue}const u=s.slice(0,a.index);s=s.slice(a.index+a.length);const d=Ib(u,n);if(d?.value)return r.enqueue(d.value);if(d?.done)return await o.cancel("done"),r.close()}}catch(a){r.error(a),await o.cancel(a)}},cancel:r=>o.cancel(r)})}[Symbol.asyncIterator](){const t=ReadableStream.prototype[Symbol.asyncIterator];if(typeof t=="function")return t.call(this);const n=this.getReader();return{next:async()=>{const o=await n.read();return o.done?(n.releaseLock(),{done:!0,value:void 0}):{done:!1,value:o.value}},throw:async o=>(await n.cancel(o),n.releaseLock(),{done:!0,value:void 0}),return:async()=>(await n.cancel("done"),n.releaseLock(),{done:!0,value:void 0}),[Symbol.asyncIterator](){return this}}}}function $b(e,t){const n=new Uint8Array(e.length+t.length);return n.set(e,0),n.set(t,e.length),n}function Cb(e){const t=e.length;for(let n=0;n<t;n++){if(n<=t-4&&e[n]===13&&e[n+1]===10&&e[n+2]===13&&e[n+3]===10)return{index:n,length:4};if(n<=t-2&&e[n]===13&&e[n+1]===13)return{index:n,length:2};if(n<=t-2&&e[n]===10&&e[n+1]===10)return{index:n,length:2}}return null}function Ib(e,t){const o=new TextDecoder().decode(e).split(/\r\n|\r|\n/),s=[],r={};let a=!0;for(const u of o){if(!u||u.startsWith(":"))continue;a=!1;const d=u.indexOf(":"),p=u.slice(0,d),h=u[d+1]===" "?u.slice(d+2):u.slice(d+1);if(p==="data")s.push(h);else if(p==="event")r.event=h;else if(p==="id")r.id=h;else if(p==="retry"){const f=Number(h);isNaN(f)||(r.retry=f)}}if(!a)return s.length&&(r.data=s.join(`
`)),t(r)}const Tb=l({data:i().transform((e,t)=>{try{return JSON.parse(e)}catch(n){return t.addIssue({input:e,code:"custom",message:`malformed json: ${n}`}),Is}}).pipe(Cg)}),fs=k([qt,V(e=>e instanceof ReadableStream).transform(e=>new gi(e,t=>t.data==="[DONE]"?{done:!0}:{value:R(()=>Tb).parse(t)?.data}))]),Ob=l({hash:i()}),Eb=l({deleted:x(!0)}),Ab=W(),qb=l({code:i(),codeVerifier:i().optional(),codeChallengeMethod:c(Ab).optional()}).transform(e=>b(e,{codeVerifier:"code_verifier",codeChallengeMethod:"code_challenge_method"})),Pb=l({key:i(),user_id:c(i())}).transform(e=>b(e,{user_id:"userId"})),zb=l({total_credits:m(),total_usage:m()}).transform(e=>b(e,{total_credits:"totalCredits",total_usage:"totalUsage"})),Mb=l({data:R(()=>zb)}),Nb=l({requests:m(),interval:i(),note:i()}),Lb=l({label:i(),limit:c(m()),usage:m(),usage_daily:m(),usage_weekly:m(),usage_monthly:m(),byok_usage:m(),byok_usage_daily:m(),byok_usage_weekly:m(),byok_usage_monthly:m(),is_free_tier:Z(),is_provisioning_key:Z(),limit_remaining:c(m()),limit_reset:c(i()),include_byok_in_limit:Z(),expires_at:c(Et({offset:!0}).transform(e=>new Date(e))).optional(),rate_limit:R(()=>Nb)}).transform(e=>b(e,{usage_daily:"usageDaily",usage_weekly:"usageWeekly",usage_monthly:"usageMonthly",byok_usage:"byokUsage",byok_usage_daily:"byokUsageDaily",byok_usage_weekly:"byokUsageWeekly",byok_usage_monthly:"byokUsageMonthly",is_free_tier:"isFreeTier",is_provisioning_key:"isProvisioningKey",limit_remaining:"limitRemaining",limit_reset:"limitReset",include_byok_in_limit:"includeByokInLimit",expires_at:"expiresAt",rate_limit:"rateLimit"})),Ub=l({data:R(()=>Lb)}),Zb={Completions:"completions",Embeddings:"embeddings"},jb=l({id:i()}),Db=G(Zb),Fb=l({id:i(),upstream_id:c(i()),total_cost:m(),cache_discount:c(m()),upstream_inference_cost:c(m()),created_at:i(),model:i(),app_id:c(m()),streamed:c(Z()),cancelled:c(Z()),provider_name:c(i()),latency:c(m()),moderation_latency:c(m()),generation_time:c(m()),finish_reason:c(i()),tokens_prompt:c(m()),tokens_completion:c(m()),native_tokens_prompt:c(m()),native_tokens_completion:c(m()),native_tokens_completion_images:c(m()),native_tokens_reasoning:c(m()),native_tokens_cached:c(m()),num_media_prompt:c(m()),num_input_audio_prompt:c(m()),num_media_completion:c(m()),num_search_results:c(m()),origin:i(),usage:m(),is_byok:Z(),native_finish_reason:c(i()),external_user:c(i()),api_type:c(Db)}).transform(e=>b(e,{upstream_id:"upstreamId",total_cost:"totalCost",cache_discount:"cacheDiscount",upstream_inference_cost:"upstreamInferenceCost",created_at:"createdAt",app_id:"appId",provider_name:"providerName",moderation_latency:"moderationLatency",generation_time:"generationTime",finish_reason:"finishReason",tokens_prompt:"tokensPrompt",tokens_completion:"tokensCompletion",native_tokens_prompt:"nativeTokensPrompt",native_tokens_completion:"nativeTokensCompletion",native_tokens_completion_images:"nativeTokensCompletionImages",native_tokens_reasoning:"nativeTokensReasoning",native_tokens_cached:"nativeTokensCached",num_media_prompt:"numMediaPrompt",num_input_audio_prompt:"numInputAudioPrompt",num_media_completion:"numMediaCompletion",num_search_results:"numSearchResults",is_byok:"isByok",native_finish_reason:"nativeFinishReason",external_user:"externalUser",api_type:"apiType"})),Xb=l({data:R(()=>Fb)}),Vb=l({hash:i()}),Kb=l({hash:i(),name:i(),label:i(),disabled:Z(),limit:c(m()),limit_remaining:c(m()),limit_reset:c(i()),include_byok_in_limit:Z(),usage:m(),usage_daily:m(),usage_weekly:m(),usage_monthly:m(),byok_usage:m(),byok_usage_daily:m(),byok_usage_weekly:m(),byok_usage_monthly:m(),created_at:i(),updated_at:c(i()),expires_at:c(Et({offset:!0}).transform(e=>new Date(e))).optional()}).transform(e=>b(e,{limit_remaining:"limitRemaining",limit_reset:"limitReset",include_byok_in_limit:"includeByokInLimit",usage_daily:"usageDaily",usage_weekly:"usageWeekly",usage_monthly:"usageMonthly",byok_usage:"byokUsage",byok_usage_daily:"byokUsageDaily",byok_usage_weekly:"byokUsageWeekly",byok_usage_monthly:"byokUsageMonthly",created_at:"createdAt",updated_at:"updatedAt",expires_at:"expiresAt"})),Hb=l({data:R(()=>Kb)}),Bb=l({category:i().optional(),supportedParameters:i().optional()}).transform(e=>b(e,{supportedParameters:"supported_parameters"})),Gb={Temperature:"temperature",TopP:"top_p",TopK:"top_k",MinP:"min_p",TopA:"top_a",FrequencyPenalty:"frequency_penalty",PresencePenalty:"presence_penalty",RepetitionPenalty:"repetition_penalty",MaxTokens:"max_tokens",LogitBias:"logit_bias",Logprobs:"logprobs",TopLogprobs:"top_logprobs",Seed:"seed",ResponseFormat:"response_format",StructuredOutputs:"structured_outputs",Stop:"stop",Tools:"tools",ToolChoice:"tool_choice",ParallelToolCalls:"parallel_tool_calls",IncludeReasoning:"include_reasoning",Reasoning:"reasoning",WebSearchOptions:"web_search_options",Verbosity:"verbosity"};l({bearer:i()});const Wb=W(),Jb=l({author:i(),slug:i(),provider:Wb.optional()}),Yb=G(Gb),Qb=l({model:i(),supported_parameters:$(Yb)}).transform(e=>b(e,{supported_parameters:"supportedParameters"})),ev=l({data:R(()=>Qb)}),tv=l({date:i().optional()}),nv=l({data:$(jp)}),ov=l({includeDisabled:i().optional(),offset:i().optional()}).transform(e=>b(e,{includeDisabled:"include_disabled"})),sv=l({hash:i(),name:i(),label:i(),disabled:Z(),limit:c(m()),limit_remaining:c(m()),limit_reset:c(i()),include_byok_in_limit:Z(),usage:m(),usage_daily:m(),usage_weekly:m(),usage_monthly:m(),byok_usage:m(),byok_usage_daily:m(),byok_usage_weekly:m(),byok_usage_monthly:m(),created_at:i(),updated_at:c(i()),expires_at:c(Et({offset:!0}).transform(e=>new Date(e))).optional()}).transform(e=>b(e,{limit_remaining:"limitRemaining",limit_reset:"limitReset",include_byok_in_limit:"includeByokInLimit",usage_daily:"usageDaily",usage_weekly:"usageWeekly",usage_monthly:"usageMonthly",byok_usage:"byokUsage",byok_usage_daily:"byokUsageDaily",byok_usage_weekly:"byokUsageWeekly",byok_usage_monthly:"byokUsageMonthly",created_at:"createdAt",updated_at:"updatedAt",expires_at:"expiresAt"})),rv=l({data:$(R(()=>sv))}),av=l({author:i(),slug:i()}),iv=l({data:zh}),uv=l({data:$(Ir)}),cv=l({name:i(),slug:i(),privacy_policy_url:c(i()),terms_of_service_url:c(i()).optional(),status_page_url:c(i()).optional()}).transform(e=>b(e,{privacy_policy_url:"privacyPolicyUrl",terms_of_service_url:"termsOfServiceUrl",status_page_url:"statusPageUrl"})),lv=l({data:$(R(()=>cv))}),ys=k([Xm,V(e=>e instanceof ReadableStream).transform(e=>new gi(e,t=>t.data==="[DONE]"?{done:!0}:{value:Qm.parse(t)?.data}))]),dv=W(),pv=l({name:i().optional(),disabled:Z().optional(),limit:c(m()).optional(),limitReset:c(dv).optional(),includeByokInLimit:Z().optional()}).transform(e=>b(e,{limitReset:"limit_reset",includeByokInLimit:"include_byok_in_limit"})),mv=l({hash:i(),requestBody:R(()=>pv)}).transform(e=>b(e,{requestBody:"RequestBody"})),hv=l({hash:i(),name:i(),label:i(),disabled:Z(),limit:c(m()),limit_remaining:c(m()),limit_reset:c(i()),include_byok_in_limit:Z(),usage:m(),usage_daily:m(),usage_weekly:m(),usage_monthly:m(),byok_usage:m(),byok_usage_daily:m(),byok_usage_weekly:m(),byok_usage_monthly:m(),created_at:i(),updated_at:c(i()),expires_at:c(Et({offset:!0}).transform(e=>new Date(e))).optional()}).transform(e=>b(e,{limit_remaining:"limitRemaining",limit_reset:"limitReset",include_byok_in_limit:"includeByokInLimit",usage_daily:"usageDaily",usage_weekly:"usageWeekly",usage_monthly:"usageMonthly",byok_usage:"byokUsage",byok_usage_daily:"byokUsageDaily",byok_usage_weekly:"byokUsageWeekly",byok_usage_monthly:"byokUsageMonthly",created_at:"createdAt",updated_at:"updatedAt",expires_at:"expiresAt"})),fv=l({data:R(()=>hv)});var _s=function(e,t,n,o,s){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?s.call(e,n):s?s.value=n:t.set(e,n),n},zt=function(e,t,n,o){if(n==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?o:n==="a"?o.call(e):o?o.value:t.get(e)},ft,Nt,bi;class ae{constructor(t){ft.set(this,void 0),Nt.set(this,void 0),this[bi]="APIPromise",_s(this,ft,t instanceof Promise?t:Promise.resolve(t),"f"),_s(this,Nt,t instanceof Promise?zt(this,ft,"f").then(([n])=>n):Promise.resolve(t[0]),"f")}then(t,n){return zt(this,ft,"f").then(t?([o])=>t(o):void 0,n)}catch(t){return zt(this,Nt,"f").catch(t)}finally(t){return zt(this,Nt,"f").finally(t)}$inspect(){return zt(this,ft,"f")}}ft=new WeakMap,Nt=new WeakMap,bi=Symbol.toStringTag;function yv(e,t,n){return new ae(_v(e,t,n))}async function _v(e,t,n){const o=he(t,M=>tv.optional().parse(M),"Input validation failed");if(!o.ok)return[o,{status:"invalid"}];const s=o.value,r=null,a=ee("/activity")(),u=en({date:s?.date}),d=new Headers(re({Accept:"application/json"})),p=await de(e._options.apiKey),h=p==null?{}:{apiKey:p},f=le(h),g={options:e._options,baseURL:n?.serverURL??e._baseURL??"",operationID:"getUserActivity",oAuth2Scopes:null,resolvedSecurity:f,securitySource:e._options.apiKey,retryConfig:n?.retries||e._options.retryConfig||{strategy:"none"},retryCodes:n?.retryCodes||["429","500","502","503","504"]},_=e._createRequest(g,{security:f,method:"GET",baseURL:n?.serverURL,path:a,headers:d,query:u,body:r,userAgent:e._options.userAgent,timeoutMs:n?.timeoutMs||e._options.timeoutMs||-1},n);if(!_.ok)return[_,{status:"invalid"}];const y=_.value,v=await e._do(y,{context:g,errorCodes:["400","401","403","4XX","500","5XX"],retryConfig:g.retryConfig,retryCodes:g.retryCodes});if(!v.ok)return[v,{status:"request-error",request:y}];const S=v.value,T={HttpMeta:{Response:S,Request:y}},[C]=await se(oe(200,nv),O(400,Me),O(401,be),O(403,Ao),O(500,ce),j("4XX"),j("5XX"))(S,y,{extraFields:T});return C.ok?[C,{status:"complete",request:y,response:S}]:[C,{status:"complete",request:y,response:S}]}class gv extends ge{async getUserActivity(t,n){return Y(yv(this,t,n))}}function bv(e,t,n){return new ae(vv(e,t,n))}async function vv(e,t,n){const o=he(t,C=>Rb.parse(C),"Input validation failed");if(!o.ok)return[o,{status:"invalid"}];const s=o.value,r=De("body",s,{explode:!0}),a=ee("/keys")(),u=new Headers(re({"Content-Type":"application/json",Accept:"application/json"})),d=await de(e._options.apiKey),p=d==null?{}:{apiKey:d},h=le(p),f={options:e._options,baseURL:n?.serverURL??e._baseURL??"",operationID:"createKeys",oAuth2Scopes:null,resolvedSecurity:h,securitySource:e._options.apiKey,retryConfig:n?.retries||e._options.retryConfig||{strategy:"none"},retryCodes:n?.retryCodes||["429","500","502","503","504"]},g=e._createRequest(f,{security:h,method:"POST",baseURL:n?.serverURL,path:a,headers:u,body:r,userAgent:e._options.userAgent,timeoutMs:n?.timeoutMs||e._options.timeoutMs||-1},n);if(!g.ok)return[g,{status:"invalid"}];const _=g.value,y=await e._do(_,{context:f,errorCodes:["400","401","429","4XX","500","5XX"],retryConfig:f.retryConfig,retryCodes:f.retryCodes});if(!y.ok)return[y,{status:"request-error",request:_}];const v=y.value,S={HttpMeta:{Response:v,Request:_}},[T]=await se(oe(201,xb),O(400,Me),O(401,be),O(429,Fe),O(500,ce),j("4XX"),j("5XX"))(v,_,{extraFields:S});return T.ok?[T,{status:"complete",request:_,response:v}]:[T,{status:"complete",request:_,response:v}]}function Sv(e,t,n){return new ae(kv(e,t,n))}async function kv(e,t,n){const o=he(t,M=>Ob.parse(M),"Input validation failed");if(!o.ok)return[o,{status:"invalid"}];const s=o.value,r=null,a={hash:nt("hash",s.hash,{explode:!1,charEncoding:"percent"})},u=ee("/keys/{hash}")(a),d=new Headers(re({Accept:"application/json"})),p=await de(e._options.apiKey),h=p==null?{}:{apiKey:p},f=le(h),g={options:e._options,baseURL:n?.serverURL??e._baseURL??"",operationID:"deleteKeys",oAuth2Scopes:null,resolvedSecurity:f,securitySource:e._options.apiKey,retryConfig:n?.retries||e._options.retryConfig||{strategy:"none"},retryCodes:n?.retryCodes||["429","500","502","503","504"]},_=e._createRequest(g,{security:f,method:"DELETE",baseURL:n?.serverURL,path:u,headers:d,body:r,userAgent:e._options.userAgent,timeoutMs:n?.timeoutMs||e._options.timeoutMs||-1},n);if(!_.ok)return[_,{status:"invalid"}];const y=_.value,v=await e._do(y,{context:g,errorCodes:["401","404","429","4XX","500","5XX"],retryConfig:g.retryConfig,retryCodes:g.retryCodes});if(!v.ok)return[v,{status:"request-error",request:y}];const S=v.value,T={HttpMeta:{Response:S,Request:y}},[C]=await se(oe(200,Eb),O(401,be),O(404,Qe),O(429,Fe),O(500,ce),j("4XX"),j("5XX"))(S,y,{extraFields:T});return C.ok?[C,{status:"complete",request:y,response:S}]:[C,{status:"complete",request:y,response:S}]}function Rv(e,t,n){return new ae(wv(e,t,n))}async function wv(e,t,n){const o=he(t,M=>Vb.parse(M),"Input validation failed");if(!o.ok)return[o,{status:"invalid"}];const s=o.value,r=null,a={hash:nt("hash",s.hash,{explode:!1,charEncoding:"percent"})},u=ee("/keys/{hash}")(a),d=new Headers(re({Accept:"application/json"})),p=await de(e._options.apiKey),h=p==null?{}:{apiKey:p},f=le(h),g={options:e._options,baseURL:n?.serverURL??e._baseURL??"",operationID:"getKey",oAuth2Scopes:null,resolvedSecurity:f,securitySource:e._options.apiKey,retryConfig:n?.retries||e._options.retryConfig||{strategy:"none"},retryCodes:n?.retryCodes||["429","500","502","503","504"]},_=e._createRequest(g,{security:f,method:"GET",baseURL:n?.serverURL,path:u,headers:d,body:r,userAgent:e._options.userAgent,timeoutMs:n?.timeoutMs||e._options.timeoutMs||-1},n);if(!_.ok)return[_,{status:"invalid"}];const y=_.value,v=await e._do(y,{context:g,errorCodes:["401","404","429","4XX","500","5XX"],retryConfig:g.retryConfig,retryCodes:g.retryCodes});if(!v.ok)return[v,{status:"request-error",request:y}];const S=v.value,T={HttpMeta:{Response:S,Request:y}},[C]=await se(oe(200,Hb),O(401,be),O(404,Qe),O(429,Fe),O(500,ce),j("4XX"),j("5XX"))(S,y,{extraFields:T});return C.ok?[C,{status:"complete",request:y,response:S}]:[C,{status:"complete",request:y,response:S}]}function xv(e,t){return new ae($v(e,t))}async function $v(e,t){const n=ee("/key")(),o=new Headers(re({Accept:"application/json"})),s=await de(e._options.apiKey),r=s==null?{}:{apiKey:s},a=le(r),u={options:e._options,baseURL:t?.serverURL??e._baseURL??"",operationID:"getCurrentKey",oAuth2Scopes:null,resolvedSecurity:a,securitySource:e._options.apiKey,retryConfig:t?.retries||e._options.retryConfig||{strategy:"none"},retryCodes:t?.retryCodes||["429","500","502","503","504"]},d=e._createRequest(u,{security:a,method:"GET",baseURL:t?.serverURL,path:n,headers:o,userAgent:e._options.userAgent,timeoutMs:t?.timeoutMs||e._options.timeoutMs||-1},t);if(!d.ok)return[d,{status:"invalid"}];const p=d.value,h=await e._do(p,{context:u,errorCodes:["401","4XX","500","5XX"],retryConfig:u.retryConfig,retryCodes:u.retryCodes});if(!h.ok)return[h,{status:"request-error",request:p}];const f=h.value,g={HttpMeta:{Response:f,Request:p}},[_]=await se(oe(200,Ub),O(401,be),O(500,ce),j("4XX"),j("5XX"))(f,p,{extraFields:g});return _.ok?[_,{status:"complete",request:p,response:f}]:[_,{status:"complete",request:p,response:f}]}function Cv(e,t,n){return new ae(Iv(e,t,n))}async function Iv(e,t,n){const o=he(t,M=>ov.optional().parse(M),"Input validation failed");if(!o.ok)return[o,{status:"invalid"}];const s=o.value,r=null,a=ee("/keys")(),u=en({include_disabled:s?.include_disabled,offset:s?.offset}),d=new Headers(re({Accept:"application/json"})),p=await de(e._options.apiKey),h=p==null?{}:{apiKey:p},f=le(h),g={options:e._options,baseURL:n?.serverURL??e._baseURL??"",operationID:"list",oAuth2Scopes:null,resolvedSecurity:f,securitySource:e._options.apiKey,retryConfig:n?.retries||e._options.retryConfig||{strategy:"none"},retryCodes:n?.retryCodes||["429","500","502","503","504"]},_=e._createRequest(g,{security:f,method:"GET",baseURL:n?.serverURL,path:a,headers:d,query:u,body:r,userAgent:e._options.userAgent,timeoutMs:n?.timeoutMs||e._options.timeoutMs||-1},n);if(!_.ok)return[_,{status:"invalid"}];const y=_.value,v=await e._do(y,{context:g,errorCodes:["401","429","4XX","500","5XX"],retryConfig:g.retryConfig,retryCodes:g.retryCodes});if(!v.ok)return[v,{status:"request-error",request:y}];const S=v.value,T={HttpMeta:{Response:S,Request:y}},[C]=await se(oe(200,rv),O(401,be),O(429,Fe),O(500,ce),j("4XX"),j("5XX"))(S,y,{extraFields:T});return C.ok?[C,{status:"complete",request:y,response:S}]:[C,{status:"complete",request:y,response:S}]}function Tv(e,t,n){return new ae(Ov(e,t,n))}async function Ov(e,t,n){const o=he(t,M=>mv.parse(M),"Input validation failed");if(!o.ok)return[o,{status:"invalid"}];const s=o.value,r=De("body",s.RequestBody,{explode:!0}),a={hash:nt("hash",s.hash,{explode:!1,charEncoding:"percent"})},u=ee("/keys/{hash}")(a),d=new Headers(re({"Content-Type":"application/json",Accept:"application/json"})),p=await de(e._options.apiKey),h=p==null?{}:{apiKey:p},f=le(h),g={options:e._options,baseURL:n?.serverURL??e._baseURL??"",operationID:"updateKeys",oAuth2Scopes:null,resolvedSecurity:f,securitySource:e._options.apiKey,retryConfig:n?.retries||e._options.retryConfig||{strategy:"none"},retryCodes:n?.retryCodes||["429","500","502","503","504"]},_=e._createRequest(g,{security:f,method:"PATCH",baseURL:n?.serverURL,path:u,headers:d,body:r,userAgent:e._options.userAgent,timeoutMs:n?.timeoutMs||e._options.timeoutMs||-1},n);if(!_.ok)return[_,{status:"invalid"}];const y=_.value,v=await e._do(y,{context:g,errorCodes:["400","401","404","429","4XX","500","5XX"],retryConfig:g.retryConfig,retryCodes:g.retryCodes});if(!v.ok)return[v,{status:"request-error",request:y}];const S=v.value,T={HttpMeta:{Response:S,Request:y}},[C]=await se(oe(200,fv),O(400,Me),O(401,be),O(404,Qe),O(429,Fe),O(500,ce),j("4XX"),j("5XX"))(S,y,{extraFields:T});return C.ok?[C,{status:"complete",request:y,response:S}]:[C,{status:"complete",request:y,response:S}]}class Ev extends ge{async list(t,n){return Y(Cv(this,t,n))}async create(t,n){return Y(bv(this,t,n))}async update(t,n){return Y(Tv(this,t,n))}async delete(t,n){return Y(Sv(this,t,n))}async get(t,n){return Y(Rv(this,t,n))}async getCurrentKeyMetadata(t){return Y(xv(this,t))}}function Jn(e,t,n){return new ae(Av(e,t,n))}async function Av(e,t,n){const o=he(t,C=>cg.parse(C),"Input validation failed");if(!o.ok)return[o,{status:"invalid"}];const s=o.value,r=De("body",s,{explode:!0}),a=ee("/responses")(),u=new Headers(re({"Content-Type":"application/json",Accept:t?.stream?"text/event-stream":"application/json"})),d=await de(e._options.apiKey),p=d==null?{}:{apiKey:d},h=le(p),f={options:e._options,baseURL:n?.serverURL??e._baseURL??"",operationID:"createResponses",oAuth2Scopes:null,resolvedSecurity:h,securitySource:e._options.apiKey,retryConfig:n?.retries||e._options.retryConfig||{strategy:"none"},retryCodes:n?.retryCodes||["429","500","502","503","504"]},g=e._createRequest(f,{security:h,method:"POST",baseURL:n?.serverURL,path:a,headers:u,body:r,userAgent:e._options.userAgent,timeoutMs:n?.timeoutMs||e._options.timeoutMs||-1},n);if(!g.ok)return[g,{status:"invalid"}];const _=g.value,y=await e._do(_,{context:f,errorCodes:["400","401","402","404","408","413","422","429","4XX","500","502","503","524","529","5XX"],retryConfig:f.retryConfig,retryCodes:f.retryCodes});if(!y.ok)return[y,{status:"request-error",request:_}];const v=y.value,S={HttpMeta:{Response:v,Request:_}},[T]=await se(oe(200,fs),dr(200,fs),O(400,Me),O(401,be),O(402,qo),O(404,Qe),O(408,Bg),O(413,Xg),O(422,Qg),O(429,Fe),O(500,ce),O(502,Oo),O(503,hi),O(524,Eo),O(529,Po),j("4XX"),j("5XX"))(v,_,{extraFields:S});return T.ok?[T,{status:"complete",request:_,response:v}]:[T,{status:"complete",request:_,response:v}]}class qv extends ge{async send(t,n){return Y(Jn(this,t,n))}}class Pv extends ge{get responses(){return this._responses??(this._responses=new qv(this._options))}}function zv(e,t,n){return new ae(Mv(e,t,n))}async function Mv(e,t,n){const o=he(t,C=>Um.parse(C),"Input validation failed");if(!o.ok)return[o,{status:"invalid"}];const s=o.value,r=De("body",s,{explode:!0}),a=ee("/chat/completions")(),u=new Headers(re({"Content-Type":"application/json",Accept:t?.stream?"text/event-stream":"application/json"})),d=await de(e._options.apiKey),p=d==null?{}:{apiKey:d},h=le(p),f={options:e._options,baseURL:n?.serverURL??e._baseURL??"",operationID:"sendChatCompletionRequest",oAuth2Scopes:null,resolvedSecurity:h,securitySource:e._options.apiKey,retryConfig:n?.retries||e._options.retryConfig||{strategy:"none"},retryCodes:n?.retryCodes||["429","500","502","503","504"]},g=e._createRequest(f,{security:h,method:"POST",baseURL:n?.serverURL,path:a,headers:u,body:r,userAgent:e._options.userAgent,timeoutMs:n?.timeoutMs||e._options.timeoutMs||-1},n);if(!g.ok)return[g,{status:"invalid"}];const _=g.value,y=await e._do(_,{context:f,errorCodes:["400","401","429","4XX","500","5XX"],retryConfig:f.retryConfig,retryCodes:f.retryCodes});if(!y.ok)return[y,{status:"request-error",request:_}];const v=y.value,S={HttpMeta:{Response:v,Request:_}},[T]=await se(oe(200,ys),dr(200,ys),O([400,401,429],Rn),O(500,Rn),j("4XX"),j("5XX"))(v,_,{extraFields:S});return T.ok?[T,{status:"complete",request:_,response:v}]:[T,{status:"complete",request:_,response:v}]}class Nv extends ge{async send(t,n){return Y(zv(this,t,n))}}function Lv(e,t,n){return new ae(Uv(e,t,n))}async function Uv(e,t,n){const o=he(t,C=>rh.parse(C),"Input validation failed");if(!o.ok)return[o,{status:"invalid"}];const s=o.value,r=De("body",s,{explode:!0}),a=ee("/completions")(),u=new Headers(re({"Content-Type":"application/json",Accept:"application/json"})),d=await de(e._options.apiKey),p=d==null?{}:{apiKey:d},h=le(p),f={options:e._options,baseURL:n?.serverURL??e._baseURL??"",operationID:"createCompletions",oAuth2Scopes:null,resolvedSecurity:h,securitySource:e._options.apiKey,retryConfig:n?.retries||e._options.retryConfig||{strategy:"none"},retryCodes:n?.retryCodes||["429","500","502","503","504"]},g=e._createRequest(f,{security:h,method:"POST",baseURL:n?.serverURL,path:a,headers:u,body:r,userAgent:e._options.userAgent,timeoutMs:n?.timeoutMs||e._options.timeoutMs||-1},n);if(!g.ok)return[g,{status:"invalid"}];const _=g.value,y=await e._do(_,{context:f,errorCodes:["400","401","429","4XX","500","5XX"],retryConfig:f.retryConfig,retryCodes:f.retryCodes});if(!y.ok)return[y,{status:"request-error",request:_}];const v=y.value,S={HttpMeta:{Response:v,Request:_}},[T]=await se(oe(200,ih),O([400,401,429],Rn),O(500,Rn),j("4XX"),j("5XX"))(v,_,{extraFields:S});return T.ok?[T,{status:"complete",request:_,response:v}]:[T,{status:"complete",request:_,response:v}]}class Zv extends ge{async generate(t,n){return Y(Lv(this,t,n))}}function jv(e,t,n,o){return new ae(Dv(e,t,n,o))}async function Dv(e,t,n,o){const s=he(n,T=>ch.parse(T),"Input validation failed");if(!s.ok)return[s,{status:"invalid"}];const r=s.value,a=De("body",r,{explode:!0}),u=ee("/credits/coinbase")(),d=new Headers(re({"Content-Type":"application/json",Accept:"application/json"})),p=Mn([{fieldName:"Authorization",type:"http:bearer",value:t?.bearer}]),h={options:e._options,baseURL:o?.serverURL??e._baseURL??"",operationID:"createCoinbaseCharge",oAuth2Scopes:null,resolvedSecurity:p,securitySource:t,retryConfig:o?.retries||e._options.retryConfig||{strategy:"none"},retryCodes:o?.retryCodes||["429","500","502","503","504"]},f=e._createRequest(h,{security:p,method:"POST",baseURL:o?.serverURL,path:u,headers:d,body:a,userAgent:e._options.userAgent,timeoutMs:o?.timeoutMs||e._options.timeoutMs||-1},o);if(!f.ok)return[f,{status:"invalid"}];const g=f.value,_=await e._do(g,{context:h,errorCodes:["400","401","429","4XX","500","5XX"],retryConfig:h.retryConfig,retryCodes:h.retryCodes});if(!_.ok)return[_,{status:"request-error",request:g}];const y=_.value,v={HttpMeta:{Response:y,Request:g}},[S]=await se(oe(200,cb),O(400,Me),O(401,be),O(429,Fe),O(500,ce),j("4XX"),j("5XX"))(y,g,{extraFields:v});return S.ok?[S,{status:"complete",request:g,response:y}]:[S,{status:"complete",request:g,response:y}]}function Fv(e,t){return new ae(Xv(e,t))}async function Xv(e,t){const n=ee("/credits")(),o=new Headers(re({Accept:"application/json"})),s=await de(e._options.apiKey),r=s==null?{}:{apiKey:s},a=le(r),u={options:e._options,baseURL:t?.serverURL??e._baseURL??"",operationID:"getCredits",oAuth2Scopes:null,resolvedSecurity:a,securitySource:e._options.apiKey,retryConfig:t?.retries||e._options.retryConfig||{strategy:"none"},retryCodes:t?.retryCodes||["429","500","502","503","504"]},d=e._createRequest(u,{security:a,method:"GET",baseURL:t?.serverURL,path:n,headers:o,userAgent:e._options.userAgent,timeoutMs:t?.timeoutMs||e._options.timeoutMs||-1},t);if(!d.ok)return[d,{status:"invalid"}];const p=d.value,h=await e._do(p,{context:u,errorCodes:["401","403","4XX","500","5XX"],retryConfig:u.retryConfig,retryCodes:u.retryCodes});if(!h.ok)return[h,{status:"request-error",request:p}];const f=h.value,g={HttpMeta:{Response:f,Request:p}},[_]=await se(oe(200,Mb),O(401,be),O(403,Ao),O(500,ce),j("4XX"),j("5XX"))(f,p,{extraFields:g});return _.ok?[_,{status:"complete",request:p,response:f}]:[_,{status:"complete",request:p,response:f}]}class Vv extends ge{async getCredits(t){return Y(Fv(this,t))}async createCoinbaseCharge(t,n,o){return Y(jv(this,t,n,o))}}function Kv(e,t,n){return new ae(Hv(e,t,n))}async function Hv(e,t,n){const o=he(t,C=>yb.parse(C),"Input validation failed");if(!o.ok)return[o,{status:"invalid"}];const s=o.value,r=De("body",s,{explode:!0}),a=ee("/embeddings")(),u=new Headers(re({"Content-Type":"application/json",Accept:"application/json"})),d=await de(e._options.apiKey),p=d==null?{}:{apiKey:d},h=le(p),f={options:e._options,baseURL:n?.serverURL??e._baseURL??"",operationID:"createEmbeddings",oAuth2Scopes:null,resolvedSecurity:h,securitySource:e._options.apiKey,retryConfig:n?.retries||e._options.retryConfig||{strategy:"none"},retryCodes:n?.retryCodes||["429","500","502","503","504"]},g=e._createRequest(f,{security:h,method:"POST",baseURL:n?.serverURL,path:a,headers:u,body:r,userAgent:e._options.userAgent,timeoutMs:n?.timeoutMs||e._options.timeoutMs||-1},n);if(!g.ok)return[g,{status:"invalid"}];const _=g.value,y=await e._do(_,{context:f,errorCodes:["400","401","402","404","429","4XX","500","502","503","524","529","5XX"],retryConfig:f.retryConfig,retryCodes:f.retryCodes});if(!y.ok)return[y,{status:"request-error",request:_}];const v=y.value,S={HttpMeta:{Response:v,Request:_}},[T]=await se(oe(200,Sb),O(400,Me),O(401,be),O(402,qo),O(404,Qe),O(429,Fe),O(500,ce),O(502,Oo),O(503,hi),O(524,Eo),O(529,Po),j("4XX"),j("5XX"))(v,_,{extraFields:S});return T.ok?[T,{status:"complete",request:_,response:v}]:[T,{status:"complete",request:_,response:v}]}function Bv(e,t){return new ae(Gv(e,t))}async function Gv(e,t){const n=ee("/embeddings/models")(),o=new Headers(re({Accept:"application/json"})),s=await de(e._options.apiKey),r=s==null?{}:{apiKey:s},a=le(r),u={options:e._options,baseURL:t?.serverURL??e._baseURL??"",operationID:"listEmbeddingsModels",oAuth2Scopes:null,resolvedSecurity:a,securitySource:e._options.apiKey,retryConfig:t?.retries||e._options.retryConfig||{strategy:"none"},retryCodes:t?.retryCodes||["429","500","502","503","504"]},d=e._createRequest(u,{security:a,method:"GET",baseURL:t?.serverURL,path:n,headers:o,userAgent:e._options.userAgent,timeoutMs:t?.timeoutMs||e._options.timeoutMs||-1},t);if(!d.ok)return[d,{status:"invalid"}];const p=d.value,h=await e._do(p,{context:u,errorCodes:["400","4XX","500","5XX"],retryConfig:u.retryConfig,retryCodes:u.retryCodes});if(!h.ok)return[h,{status:"request-error",request:p}];const f=h.value,g={HttpMeta:{Response:f,Request:p}},[_]=await se(oe(200,yo),O(400,Me),O(500,ce),j("4XX"),j("5XX"))(f,p,{extraFields:g});return _.ok?[_,{status:"complete",request:p,response:f}]:[_,{status:"complete",request:p,response:f}]}class Wv extends ge{async generate(t,n){return Y(Kv(this,t,n))}async listModels(t){return Y(Bv(this,t))}}function Jv(e,t,n){return new ae(Yv(e,t,n))}async function Yv(e,t,n){const o=he(t,M=>av.parse(M),"Input validation failed");if(!o.ok)return[o,{status:"invalid"}];const s=o.value,r=null,a={author:nt("author",s.author,{explode:!1,charEncoding:"percent"}),slug:nt("slug",s.slug,{explode:!1,charEncoding:"percent"})},u=ee("/models/{author}/{slug}/endpoints")(a),d=new Headers(re({Accept:"application/json"})),p=await de(e._options.apiKey),h=p==null?{}:{apiKey:p},f=le(h),g={options:e._options,baseURL:n?.serverURL??e._baseURL??"",operationID:"listEndpoints",oAuth2Scopes:null,resolvedSecurity:f,securitySource:e._options.apiKey,retryConfig:n?.retries||e._options.retryConfig||{strategy:"none"},retryCodes:n?.retryCodes||["429","500","502","503","504"]},_=e._createRequest(g,{security:f,method:"GET",baseURL:n?.serverURL,path:u,headers:d,body:r,userAgent:e._options.userAgent,timeoutMs:n?.timeoutMs||e._options.timeoutMs||-1},n);if(!_.ok)return[_,{status:"invalid"}];const y=_.value,v=await e._do(y,{context:g,errorCodes:["404","4XX","500","5XX"],retryConfig:g.retryConfig,retryCodes:g.retryCodes});if(!v.ok)return[v,{status:"request-error",request:y}];const S=v.value,T={HttpMeta:{Response:S,Request:y}},[C]=await se(oe(200,iv),O(404,Qe),O(500,ce),j("4XX"),j("5XX"))(S,y,{extraFields:T});return C.ok?[C,{status:"complete",request:y,response:S}]:[C,{status:"complete",request:y,response:S}]}function Qv(e,t){return new ae(eS(e,t))}async function eS(e,t){const n=ee("/endpoints/zdr")(),o=new Headers(re({Accept:"application/json"})),s=await de(e._options.apiKey),r=s==null?{}:{apiKey:s},a=le(r),u={options:e._options,baseURL:t?.serverURL??e._baseURL??"",operationID:"listEndpointsZdr",oAuth2Scopes:null,resolvedSecurity:a,securitySource:e._options.apiKey,retryConfig:t?.retries||e._options.retryConfig||{strategy:"none"},retryCodes:t?.retryCodes||["429","500","502","503","504"]},d=e._createRequest(u,{security:a,method:"GET",baseURL:t?.serverURL,path:n,headers:o,userAgent:e._options.userAgent,timeoutMs:t?.timeoutMs||e._options.timeoutMs||-1},t);if(!d.ok)return[d,{status:"invalid"}];const p=d.value,h=await e._do(p,{context:u,errorCodes:["4XX","500","5XX"],retryConfig:u.retryConfig,retryCodes:u.retryCodes});if(!h.ok)return[h,{status:"request-error",request:p}];const f=h.value,g={HttpMeta:{Response:f,Request:p}},[_]=await se(oe(200,uv),O(500,ce),j("4XX"),j("5XX"))(f,p,{extraFields:g});return _.ok?[_,{status:"complete",request:p,response:f}]:[_,{status:"complete",request:p,response:f}]}class tS extends ge{async list(t,n){return Y(Jv(this,t,n))}async listZdrEndpoints(t){return Y(Qv(this,t))}}function nS(e,t,n){return new ae(oS(e,t,n))}async function oS(e,t,n){const o=he(t,M=>jb.parse(M),"Input validation failed");if(!o.ok)return[o,{status:"invalid"}];const s=o.value,r=null,a=ee("/generation")(),u=en({id:s.id}),d=new Headers(re({Accept:"application/json"})),p=await de(e._options.apiKey),h=p==null?{}:{apiKey:p},f=le(h),g={options:e._options,baseURL:n?.serverURL??e._baseURL??"",operationID:"getGeneration",oAuth2Scopes:null,resolvedSecurity:f,securitySource:e._options.apiKey,retryConfig:n?.retries||e._options.retryConfig||{strategy:"none"},retryCodes:n?.retryCodes||["429","500","502","503","504"]},_=e._createRequest(g,{security:f,method:"GET",baseURL:n?.serverURL,path:a,headers:d,query:u,body:r,userAgent:e._options.userAgent,timeoutMs:n?.timeoutMs||e._options.timeoutMs||-1},n);if(!_.ok)return[_,{status:"invalid"}];const y=_.value,v=await e._do(y,{context:g,errorCodes:["401","402","404","429","4XX","500","502","524","529","5XX"],retryConfig:g.retryConfig,retryCodes:g.retryCodes});if(!v.ok)return[v,{status:"request-error",request:y}];const S=v.value,T={HttpMeta:{Response:S,Request:y}},[C]=await se(oe(200,Xb),O(401,be),O(402,qo),O(404,Qe),O(429,Fe),O(500,ce),O(502,Oo),O(524,Eo),O(529,Po),j("4XX"),j("5XX"))(S,y,{extraFields:T});return C.ok?[C,{status:"complete",request:y,response:S}]:[C,{status:"complete",request:y,response:S}]}class sS extends ge{async getGeneration(t,n){return Y(nS(this,t,n))}}function rS(e,t){return new ae(aS(e,t))}async function aS(e,t){const n=ee("/models/count")(),o=new Headers(re({Accept:"application/json"})),s=await de(e._options.apiKey),r=s==null?{}:{apiKey:s},a=le(r),u={options:e._options,baseURL:t?.serverURL??e._baseURL??"",operationID:"listModelsCount",oAuth2Scopes:null,resolvedSecurity:a,securitySource:e._options.apiKey,retryConfig:t?.retries||e._options.retryConfig||{strategy:"none"},retryCodes:t?.retryCodes||["429","500","502","503","504"]},d=e._createRequest(u,{security:a,method:"GET",baseURL:t?.serverURL,path:n,headers:o,userAgent:e._options.userAgent,timeoutMs:t?.timeoutMs||e._options.timeoutMs||-1},t);if(!d.ok)return[d,{status:"invalid"}];const p=d.value,h=await e._do(p,{context:u,errorCodes:["4XX","500","5XX"],retryConfig:u.retryConfig,retryCodes:u.retryCodes});if(!h.ok)return[h,{status:"request-error",request:p}];const f=h.value,g={HttpMeta:{Response:f,Request:p}},[_]=await se(oe(200,Kh),O(500,ce),j("4XX"),j("5XX"))(f,p,{extraFields:g});return _.ok?[_,{status:"complete",request:p,response:f}]:[_,{status:"complete",request:p,response:f}]}function iS(e,t,n){return new ae(uS(e,t,n))}async function uS(e,t,n){const o=he(t,M=>Bb.optional().parse(M),"Input validation failed");if(!o.ok)return[o,{status:"invalid"}];const s=o.value,r=null,a=ee("/models")(),u=en({category:s?.category,supported_parameters:s?.supported_parameters}),d=new Headers(re({Accept:"application/json"})),p=await de(e._options.apiKey),h=p==null?{}:{apiKey:p},f=le(h),g={options:e._options,baseURL:n?.serverURL??e._baseURL??"",operationID:"getModels",oAuth2Scopes:null,resolvedSecurity:f,securitySource:e._options.apiKey,retryConfig:n?.retries||e._options.retryConfig||{strategy:"none"},retryCodes:n?.retryCodes||["429","500","502","503","504"]},_=e._createRequest(g,{security:f,method:"GET",baseURL:n?.serverURL,path:a,headers:d,query:u,body:r,userAgent:e._options.userAgent,timeoutMs:n?.timeoutMs||e._options.timeoutMs||-1},n);if(!_.ok)return[_,{status:"invalid"}];const y=_.value,v=await e._do(y,{context:g,errorCodes:["400","4XX","500","5XX"],retryConfig:g.retryConfig,retryCodes:g.retryCodes});if(!v.ok)return[v,{status:"request-error",request:y}];const S=v.value,T={HttpMeta:{Response:S,Request:y}},[C]=await se(oe(200,yo),O(400,Me),O(500,ce),j("4XX"),j("5XX"))(S,y,{extraFields:T});return C.ok?[C,{status:"complete",request:y,response:S}]:[C,{status:"complete",request:y,response:S}]}function cS(e,t,n){return new ae(lS(e,t,n))}async function lS(e,t,n){const o=ee("/models/user")(),s=new Headers(re({Accept:"application/json"})),r=Mn([{fieldName:"Authorization",type:"http:bearer",value:t?.bearer}]),a={options:e._options,baseURL:n?.serverURL??e._baseURL??"",operationID:"listModelsUser",oAuth2Scopes:null,resolvedSecurity:r,securitySource:t,retryConfig:n?.retries||e._options.retryConfig||{strategy:"none"},retryCodes:n?.retryCodes||["429","500","502","503","504"]},u=e._createRequest(a,{security:r,method:"GET",baseURL:n?.serverURL,path:o,headers:s,userAgent:e._options.userAgent,timeoutMs:n?.timeoutMs||e._options.timeoutMs||-1},n);if(!u.ok)return[u,{status:"invalid"}];const d=u.value,p=await e._do(d,{context:a,errorCodes:["401","4XX","500","5XX"],retryConfig:a.retryConfig,retryCodes:a.retryCodes});if(!p.ok)return[p,{status:"request-error",request:d}];const h=p.value,f={HttpMeta:{Response:h,Request:d}},[g]=await se(oe(200,yo),O(401,be),O(500,ce),j("4XX"),j("5XX"))(h,d,{extraFields:f});return g.ok?[g,{status:"complete",request:d,response:h}]:[g,{status:"complete",request:d,response:h}]}class dS extends ge{async count(t){return Y(rS(this,t))}async list(t,n){return Y(iS(this,t,n))}async listForUser(t,n){return Y(cS(this,t,n))}}function pS(e,t,n){return new ae(mS(e,t,n))}async function mS(e,t,n){const o=he(t,C=>tb.parse(C),"Input validation failed");if(!o.ok)return[o,{status:"invalid"}];const s=o.value,r=De("body",s,{explode:!0}),a=ee("/auth/keys/code")(),u=new Headers(re({"Content-Type":"application/json",Accept:"application/json"})),d=await de(e._options.apiKey),p=d==null?{}:{apiKey:d},h=le(p),f={options:e._options,baseURL:n?.serverURL??e._baseURL??"",operationID:"createAuthKeysCode",oAuth2Scopes:null,resolvedSecurity:h,securitySource:e._options.apiKey,retryConfig:n?.retries||e._options.retryConfig||{strategy:"none"},retryCodes:n?.retryCodes||["429","500","502","503","504"]},g=e._createRequest(f,{security:h,method:"POST",baseURL:n?.serverURL,path:a,headers:u,body:r,userAgent:e._options.userAgent,timeoutMs:n?.timeoutMs||e._options.timeoutMs||-1},n);if(!g.ok)return[g,{status:"invalid"}];const _=g.value,y=await e._do(_,{context:f,errorCodes:["400","401","4XX","500","5XX"],retryConfig:f.retryConfig,retryCodes:f.retryCodes});if(!y.ok)return[y,{status:"request-error",request:_}];const v=y.value,S={HttpMeta:{Response:v,Request:_}},[T]=await se(oe(200,ob),O(400,Me),O(401,be),O(500,ce),j("4XX"),j("5XX"))(v,_,{extraFields:S});return T.ok?[T,{status:"complete",request:_,response:v}]:[T,{status:"complete",request:_,response:v}]}function hS(e,t,n){return new ae(fS(e,t,n))}async function fS(e,t,n){const o=he(t,C=>qb.parse(C),"Input validation failed");if(!o.ok)return[o,{status:"invalid"}];const s=o.value,r=De("body",s,{explode:!0}),a=ee("/auth/keys")(),u=new Headers(re({"Content-Type":"application/json",Accept:"application/json"})),d=await de(e._options.apiKey),p=d==null?{}:{apiKey:d},h=le(p),f={options:e._options,baseURL:n?.serverURL??e._baseURL??"",operationID:"exchangeAuthCodeForAPIKey",oAuth2Scopes:null,resolvedSecurity:h,securitySource:e._options.apiKey,retryConfig:n?.retries||e._options.retryConfig||{strategy:"none"},retryCodes:n?.retryCodes||["429","500","502","503","504"]},g=e._createRequest(f,{security:h,method:"POST",baseURL:n?.serverURL,path:a,headers:u,body:r,userAgent:e._options.userAgent,timeoutMs:n?.timeoutMs||e._options.timeoutMs||-1},n);if(!g.ok)return[g,{status:"invalid"}];const _=g.value,y=await e._do(_,{context:f,errorCodes:["400","403","4XX","500","5XX"],retryConfig:f.retryConfig,retryCodes:f.retryCodes});if(!y.ok)return[y,{status:"request-error",request:_}];const v=y.value,S={HttpMeta:{Response:v,Request:_}},[T]=await se(oe(200,Pb),O(400,Me),O(403,Ao),O(500,ce),j("4XX"),j("5XX"))(v,_,{extraFields:S});return T.ok?[T,{status:"complete",request:_,response:v}]:[T,{status:"complete",request:_,response:v}]}var X;(function(e){e.assertEqual=s=>{};function t(s){}e.assertIs=t;function n(s){throw new Error}e.assertNever=n,e.arrayToEnum=s=>{const r={};for(const a of s)r[a]=a;return r},e.getValidEnumValues=s=>{const r=e.objectKeys(s).filter(u=>typeof s[s[u]]!="number"),a={};for(const u of r)a[u]=s[u];return e.objectValues(a)},e.objectValues=s=>e.objectKeys(s).map(function(r){return s[r]}),e.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const r=[];for(const a in s)Object.prototype.hasOwnProperty.call(s,a)&&r.push(a);return r},e.find=(s,r)=>{for(const a of s)if(r(a))return a},e.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function o(s,r=" | "){return s.map(a=>typeof a=="string"?`'${a}'`:a).join(r)}e.joinValues=o,e.jsonStringifyReplacer=(s,r)=>typeof r=="bigint"?r.toString():r})(X||(X={}));var Yn;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(Yn||(Yn={}));const A=X.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ue=e=>{switch(typeof e){case"undefined":return A.undefined;case"string":return A.string;case"number":return Number.isNaN(e)?A.nan:A.number;case"boolean":return A.boolean;case"function":return A.function;case"bigint":return A.bigint;case"symbol":return A.symbol;case"object":return Array.isArray(e)?A.array:e===null?A.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?A.promise:typeof Map<"u"&&e instanceof Map?A.map:typeof Set<"u"&&e instanceof Set?A.set:typeof Date<"u"&&e instanceof Date?A.date:A.object;default:return A.unknown}},I=X.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),yS=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class ke extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=o=>{this.issues=[...this.issues,o]},this.addIssues=(o=[])=>{this.issues=[...this.issues,...o]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}format(t){const n=t||function(r){return r.message},o={_errors:[]},s=r=>{for(const a of r.issues)if(a.code==="invalid_union")a.unionErrors.map(s);else if(a.code==="invalid_return_type")s(a.returnTypeError);else if(a.code==="invalid_arguments")s(a.argumentsError);else if(a.path.length===0)o._errors.push(n(a));else{let u=o,d=0;for(;d<a.path.length;){const p=a.path[d];d===a.path.length-1?(u[p]=u[p]||{_errors:[]},u[p]._errors.push(n(a))):u[p]=u[p]||{_errors:[]},u=u[p],d++}}};return s(this),o}static assert(t){if(!(t instanceof ke))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,X.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n=Object.create(null),o=[];for(const s of this.issues)if(s.path.length>0){const r=s.path[0];n[r]=n[r]||[],n[r].push(t(s))}else o.push(t(s));return{formErrors:o,fieldErrors:n}}get formErrors(){return this.flatten()}}ke.create=e=>new ke(e);const Ct=(e,t)=>{let n;switch(e.code){case I.invalid_type:e.received===A.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case I.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,X.jsonStringifyReplacer)}`;break;case I.unrecognized_keys:n=`Unrecognized key(s) in object: ${X.joinValues(e.keys,", ")}`;break;case I.invalid_union:n="Invalid input";break;case I.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${X.joinValues(e.options)}`;break;case I.invalid_enum_value:n=`Invalid enum value. Expected ${X.joinValues(e.options)}, received '${e.received}'`;break;case I.invalid_arguments:n="Invalid function arguments";break;case I.invalid_return_type:n="Invalid function return type";break;case I.invalid_date:n="Invalid date";break;case I.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:X.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case I.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case I.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case I.custom:n="Invalid input";break;case I.invalid_intersection_types:n="Intersection results could not be merged";break;case I.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case I.not_finite:n="Number must be finite";break;default:n=t.defaultError,X.assertNever(e)}return{message:n}};let vi=Ct;function _S(e){vi=e}function wn(){return vi}const xn=e=>{const{data:t,path:n,errorMaps:o,issueData:s}=e,r=[...n,...s.path||[]],a={...s,path:r};if(s.message!==void 0)return{...s,path:r,message:s.message};let u="";const d=o.filter(p=>!!p).slice().reverse();for(const p of d)u=p(a,{data:t,defaultError:u}).message;return{...s,path:r,message:u}},gS=[];function E(e,t){const n=wn(),o=xn({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===Ct?void 0:Ct].filter(s=>!!s)});e.common.issues.push(o)}class fe{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const o=[];for(const s of n){if(s.status==="aborted")return L;s.status==="dirty"&&t.dirty(),o.push(s.value)}return{status:t.value,value:o}}static async mergeObjectAsync(t,n){const o=[];for(const s of n){const r=await s.key,a=await s.value;o.push({key:r,value:a})}return fe.mergeObjectSync(t,o)}static mergeObjectSync(t,n){const o={};for(const s of n){const{key:r,value:a}=s;if(r.status==="aborted"||a.status==="aborted")return L;r.status==="dirty"&&t.dirty(),a.status==="dirty"&&t.dirty(),r.value!=="__proto__"&&(typeof a.value<"u"||s.alwaysSet)&&(o[r.value]=a.value)}return{status:t.value,value:o}}}const L=Object.freeze({status:"aborted"}),bt=e=>({status:"dirty",value:e}),_e=e=>({status:"valid",value:e}),Qn=e=>e.status==="aborted",eo=e=>e.status==="dirty",ot=e=>e.status==="valid",Zt=e=>typeof Promise<"u"&&e instanceof Promise;var P;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t?.message})(P||(P={}));class Pe{constructor(t,n,o,s){this._cachedPath=[],this.parent=t,this.data=n,this._path=o,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const gs=(e,t)=>{if(ot(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new ke(e.common.issues);return this._error=n,this._error}}};function D(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:o,description:s}=e;if(t&&(n||o))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:s}:{errorMap:(a,u)=>{const{message:d}=e;return a.code==="invalid_enum_value"?{message:d??u.defaultError}:typeof u.data>"u"?{message:d??o??u.defaultError}:a.code!=="invalid_type"?{message:u.defaultError}:{message:d??n??u.defaultError}},description:s}}class F{get description(){return this._def.description}_getType(t){return Ue(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:Ue(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new fe,ctx:{common:t.parent.common,data:t.data,parsedType:Ue(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if(Zt(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const o=this.safeParse(t,n);if(o.success)return o.data;throw o.error}safeParse(t,n){const o={common:{issues:[],async:n?.async??!1,contextualErrorMap:n?.errorMap},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Ue(t)},s=this._parseSync({data:t,path:o.path,parent:o});return gs(o,s)}"~validate"(t){const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Ue(t)};if(!this["~standard"].async)try{const o=this._parseSync({data:t,path:[],parent:n});return ot(o)?{value:o.value}:{issues:n.common.issues}}catch(o){o?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:n}).then(o=>ot(o)?{value:o.value}:{issues:n.common.issues})}async parseAsync(t,n){const o=await this.safeParseAsync(t,n);if(o.success)return o.data;throw o.error}async safeParseAsync(t,n){const o={common:{issues:[],contextualErrorMap:n?.errorMap,async:!0},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Ue(t)},s=this._parse({data:t,path:o.path,parent:o}),r=await(Zt(s)?s:Promise.resolve(s));return gs(o,r)}refine(t,n){const o=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,r)=>{const a=t(s),u=()=>r.addIssue({code:I.custom,...o(s)});return typeof Promise<"u"&&a instanceof Promise?a.then(d=>d?!0:(u(),!1)):a?!0:(u(),!1)})}refinement(t,n){return this._refinement((o,s)=>t(o)?!0:(s.addIssue(typeof n=="function"?n(o,s):n),!1))}_refinement(t){return new Te({schema:this,typeName:U.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return qe.create(this,this._def)}nullable(){return Ge.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Ie.create(this)}promise(){return Tt.create(this,this._def)}or(t){return Xt.create([this,t],this._def)}and(t){return Vt.create(this,t,this._def)}transform(t){return new Te({...D(this._def),schema:this,typeName:U.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const n=typeof t=="function"?t:()=>t;return new Wt({...D(this._def),innerType:this,defaultValue:n,typeName:U.ZodDefault})}brand(){return new zo({typeName:U.ZodBranded,type:this,...D(this._def)})}catch(t){const n=typeof t=="function"?t:()=>t;return new Jt({...D(this._def),innerType:this,catchValue:n,typeName:U.ZodCatch})}describe(t){const n=this.constructor;return new n({...this._def,description:t})}pipe(t){return rn.create(this,t)}readonly(){return Yt.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const bS=/^c[^\s-]{8,}$/i,vS=/^[0-9a-z]+$/,SS=/^[0-9A-HJKMNP-TV-Z]{26}$/i,kS=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,RS=/^[a-z0-9_-]{21}$/i,wS=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,xS=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,$S=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,CS="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Fn;const IS=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,TS=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,OS=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,ES=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,AS=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,qS=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Si="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",PS=new RegExp(`^${Si}$`);function ki(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const n=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${n}`}function zS(e){return new RegExp(`^${ki(e)}$`)}function Ri(e){let t=`${Si}T${ki(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function MS(e,t){return!!((t==="v4"||!t)&&IS.test(e)||(t==="v6"||!t)&&OS.test(e))}function NS(e,t){if(!wS.test(e))return!1;try{const[n]=e.split(".");if(!n)return!1;const o=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),s=JSON.parse(atob(o));return!(typeof s!="object"||s===null||"typ"in s&&s?.typ!=="JWT"||!s.alg||t&&s.alg!==t)}catch{return!1}}function LS(e,t){return!!((t==="v4"||!t)&&TS.test(e)||(t==="v6"||!t)&&ES.test(e))}class Ce extends F{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==A.string){const r=this._getOrReturnCtx(t);return E(r,{code:I.invalid_type,expected:A.string,received:r.parsedType}),L}const o=new fe;let s;for(const r of this._def.checks)if(r.kind==="min")t.data.length<r.value&&(s=this._getOrReturnCtx(t,s),E(s,{code:I.too_small,minimum:r.value,type:"string",inclusive:!0,exact:!1,message:r.message}),o.dirty());else if(r.kind==="max")t.data.length>r.value&&(s=this._getOrReturnCtx(t,s),E(s,{code:I.too_big,maximum:r.value,type:"string",inclusive:!0,exact:!1,message:r.message}),o.dirty());else if(r.kind==="length"){const a=t.data.length>r.value,u=t.data.length<r.value;(a||u)&&(s=this._getOrReturnCtx(t,s),a?E(s,{code:I.too_big,maximum:r.value,type:"string",inclusive:!0,exact:!0,message:r.message}):u&&E(s,{code:I.too_small,minimum:r.value,type:"string",inclusive:!0,exact:!0,message:r.message}),o.dirty())}else if(r.kind==="email")$S.test(t.data)||(s=this._getOrReturnCtx(t,s),E(s,{validation:"email",code:I.invalid_string,message:r.message}),o.dirty());else if(r.kind==="emoji")Fn||(Fn=new RegExp(CS,"u")),Fn.test(t.data)||(s=this._getOrReturnCtx(t,s),E(s,{validation:"emoji",code:I.invalid_string,message:r.message}),o.dirty());else if(r.kind==="uuid")kS.test(t.data)||(s=this._getOrReturnCtx(t,s),E(s,{validation:"uuid",code:I.invalid_string,message:r.message}),o.dirty());else if(r.kind==="nanoid")RS.test(t.data)||(s=this._getOrReturnCtx(t,s),E(s,{validation:"nanoid",code:I.invalid_string,message:r.message}),o.dirty());else if(r.kind==="cuid")bS.test(t.data)||(s=this._getOrReturnCtx(t,s),E(s,{validation:"cuid",code:I.invalid_string,message:r.message}),o.dirty());else if(r.kind==="cuid2")vS.test(t.data)||(s=this._getOrReturnCtx(t,s),E(s,{validation:"cuid2",code:I.invalid_string,message:r.message}),o.dirty());else if(r.kind==="ulid")SS.test(t.data)||(s=this._getOrReturnCtx(t,s),E(s,{validation:"ulid",code:I.invalid_string,message:r.message}),o.dirty());else if(r.kind==="url")try{new URL(t.data)}catch{s=this._getOrReturnCtx(t,s),E(s,{validation:"url",code:I.invalid_string,message:r.message}),o.dirty()}else r.kind==="regex"?(r.regex.lastIndex=0,r.regex.test(t.data)||(s=this._getOrReturnCtx(t,s),E(s,{validation:"regex",code:I.invalid_string,message:r.message}),o.dirty())):r.kind==="trim"?t.data=t.data.trim():r.kind==="includes"?t.data.includes(r.value,r.position)||(s=this._getOrReturnCtx(t,s),E(s,{code:I.invalid_string,validation:{includes:r.value,position:r.position},message:r.message}),o.dirty()):r.kind==="toLowerCase"?t.data=t.data.toLowerCase():r.kind==="toUpperCase"?t.data=t.data.toUpperCase():r.kind==="startsWith"?t.data.startsWith(r.value)||(s=this._getOrReturnCtx(t,s),E(s,{code:I.invalid_string,validation:{startsWith:r.value},message:r.message}),o.dirty()):r.kind==="endsWith"?t.data.endsWith(r.value)||(s=this._getOrReturnCtx(t,s),E(s,{code:I.invalid_string,validation:{endsWith:r.value},message:r.message}),o.dirty()):r.kind==="datetime"?Ri(r).test(t.data)||(s=this._getOrReturnCtx(t,s),E(s,{code:I.invalid_string,validation:"datetime",message:r.message}),o.dirty()):r.kind==="date"?PS.test(t.data)||(s=this._getOrReturnCtx(t,s),E(s,{code:I.invalid_string,validation:"date",message:r.message}),o.dirty()):r.kind==="time"?zS(r).test(t.data)||(s=this._getOrReturnCtx(t,s),E(s,{code:I.invalid_string,validation:"time",message:r.message}),o.dirty()):r.kind==="duration"?xS.test(t.data)||(s=this._getOrReturnCtx(t,s),E(s,{validation:"duration",code:I.invalid_string,message:r.message}),o.dirty()):r.kind==="ip"?MS(t.data,r.version)||(s=this._getOrReturnCtx(t,s),E(s,{validation:"ip",code:I.invalid_string,message:r.message}),o.dirty()):r.kind==="jwt"?NS(t.data,r.alg)||(s=this._getOrReturnCtx(t,s),E(s,{validation:"jwt",code:I.invalid_string,message:r.message}),o.dirty()):r.kind==="cidr"?LS(t.data,r.version)||(s=this._getOrReturnCtx(t,s),E(s,{validation:"cidr",code:I.invalid_string,message:r.message}),o.dirty()):r.kind==="base64"?AS.test(t.data)||(s=this._getOrReturnCtx(t,s),E(s,{validation:"base64",code:I.invalid_string,message:r.message}),o.dirty()):r.kind==="base64url"?qS.test(t.data)||(s=this._getOrReturnCtx(t,s),E(s,{validation:"base64url",code:I.invalid_string,message:r.message}),o.dirty()):X.assertNever(r);return{status:o.value,value:t.data}}_regex(t,n,o){return this.refinement(s=>t.test(s),{validation:n,code:I.invalid_string,...P.errToObj(o)})}_addCheck(t){return new Ce({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...P.errToObj(t)})}url(t){return this._addCheck({kind:"url",...P.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...P.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...P.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...P.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...P.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...P.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...P.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...P.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...P.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...P.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...P.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...P.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof t?.precision>"u"?null:t?.precision,offset:t?.offset??!1,local:t?.local??!1,...P.errToObj(t?.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof t?.precision>"u"?null:t?.precision,...P.errToObj(t?.message)})}duration(t){return this._addCheck({kind:"duration",...P.errToObj(t)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...P.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n?.position,...P.errToObj(n?.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...P.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...P.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...P.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...P.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...P.errToObj(n)})}nonempty(t){return this.min(1,P.errToObj(t))}trim(){return new Ce({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ce({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ce({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}Ce.create=e=>new Ce({checks:[],typeName:U.ZodString,coerce:e?.coerce??!1,...D(e)});function US(e,t){const n=(e.toString().split(".")[1]||"").length,o=(t.toString().split(".")[1]||"").length,s=n>o?n:o,r=Number.parseInt(e.toFixed(s).replace(".","")),a=Number.parseInt(t.toFixed(s).replace(".",""));return r%a/10**s}class Ke extends F{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==A.number){const r=this._getOrReturnCtx(t);return E(r,{code:I.invalid_type,expected:A.number,received:r.parsedType}),L}let o;const s=new fe;for(const r of this._def.checks)r.kind==="int"?X.isInteger(t.data)||(o=this._getOrReturnCtx(t,o),E(o,{code:I.invalid_type,expected:"integer",received:"float",message:r.message}),s.dirty()):r.kind==="min"?(r.inclusive?t.data<r.value:t.data<=r.value)&&(o=this._getOrReturnCtx(t,o),E(o,{code:I.too_small,minimum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),s.dirty()):r.kind==="max"?(r.inclusive?t.data>r.value:t.data>=r.value)&&(o=this._getOrReturnCtx(t,o),E(o,{code:I.too_big,maximum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),s.dirty()):r.kind==="multipleOf"?US(t.data,r.value)!==0&&(o=this._getOrReturnCtx(t,o),E(o,{code:I.not_multiple_of,multipleOf:r.value,message:r.message}),s.dirty()):r.kind==="finite"?Number.isFinite(t.data)||(o=this._getOrReturnCtx(t,o),E(o,{code:I.not_finite,message:r.message}),s.dirty()):X.assertNever(r);return{status:s.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,P.toString(n))}gt(t,n){return this.setLimit("min",t,!1,P.toString(n))}lte(t,n){return this.setLimit("max",t,!0,P.toString(n))}lt(t,n){return this.setLimit("max",t,!1,P.toString(n))}setLimit(t,n,o,s){return new Ke({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:o,message:P.toString(s)}]})}_addCheck(t){return new Ke({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:P.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:P.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:P.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:P.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:P.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:P.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:P.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:P.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:P.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&X.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const o of this._def.checks){if(o.kind==="finite"||o.kind==="int"||o.kind==="multipleOf")return!0;o.kind==="min"?(n===null||o.value>n)&&(n=o.value):o.kind==="max"&&(t===null||o.value<t)&&(t=o.value)}return Number.isFinite(n)&&Number.isFinite(t)}}Ke.create=e=>new Ke({checks:[],typeName:U.ZodNumber,coerce:e?.coerce||!1,...D(e)});class He extends F{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==A.bigint)return this._getInvalidInput(t);let o;const s=new fe;for(const r of this._def.checks)r.kind==="min"?(r.inclusive?t.data<r.value:t.data<=r.value)&&(o=this._getOrReturnCtx(t,o),E(o,{code:I.too_small,type:"bigint",minimum:r.value,inclusive:r.inclusive,message:r.message}),s.dirty()):r.kind==="max"?(r.inclusive?t.data>r.value:t.data>=r.value)&&(o=this._getOrReturnCtx(t,o),E(o,{code:I.too_big,type:"bigint",maximum:r.value,inclusive:r.inclusive,message:r.message}),s.dirty()):r.kind==="multipleOf"?t.data%r.value!==BigInt(0)&&(o=this._getOrReturnCtx(t,o),E(o,{code:I.not_multiple_of,multipleOf:r.value,message:r.message}),s.dirty()):X.assertNever(r);return{status:s.value,value:t.data}}_getInvalidInput(t){const n=this._getOrReturnCtx(t);return E(n,{code:I.invalid_type,expected:A.bigint,received:n.parsedType}),L}gte(t,n){return this.setLimit("min",t,!0,P.toString(n))}gt(t,n){return this.setLimit("min",t,!1,P.toString(n))}lte(t,n){return this.setLimit("max",t,!0,P.toString(n))}lt(t,n){return this.setLimit("max",t,!1,P.toString(n))}setLimit(t,n,o,s){return new He({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:o,message:P.toString(s)}]})}_addCheck(t){return new He({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:P.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:P.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:P.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:P.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:P.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}He.create=e=>new He({checks:[],typeName:U.ZodBigInt,coerce:e?.coerce??!1,...D(e)});class jt extends F{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==A.boolean){const o=this._getOrReturnCtx(t);return E(o,{code:I.invalid_type,expected:A.boolean,received:o.parsedType}),L}return _e(t.data)}}jt.create=e=>new jt({typeName:U.ZodBoolean,coerce:e?.coerce||!1,...D(e)});class st extends F{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==A.date){const r=this._getOrReturnCtx(t);return E(r,{code:I.invalid_type,expected:A.date,received:r.parsedType}),L}if(Number.isNaN(t.data.getTime())){const r=this._getOrReturnCtx(t);return E(r,{code:I.invalid_date}),L}const o=new fe;let s;for(const r of this._def.checks)r.kind==="min"?t.data.getTime()<r.value&&(s=this._getOrReturnCtx(t,s),E(s,{code:I.too_small,message:r.message,inclusive:!0,exact:!1,minimum:r.value,type:"date"}),o.dirty()):r.kind==="max"?t.data.getTime()>r.value&&(s=this._getOrReturnCtx(t,s),E(s,{code:I.too_big,message:r.message,inclusive:!0,exact:!1,maximum:r.value,type:"date"}),o.dirty()):X.assertNever(r);return{status:o.value,value:new Date(t.data.getTime())}}_addCheck(t){return new st({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:P.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:P.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}}st.create=e=>new st({checks:[],coerce:e?.coerce||!1,typeName:U.ZodDate,...D(e)});class $n extends F{_parse(t){if(this._getType(t)!==A.symbol){const o=this._getOrReturnCtx(t);return E(o,{code:I.invalid_type,expected:A.symbol,received:o.parsedType}),L}return _e(t.data)}}$n.create=e=>new $n({typeName:U.ZodSymbol,...D(e)});class Dt extends F{_parse(t){if(this._getType(t)!==A.undefined){const o=this._getOrReturnCtx(t);return E(o,{code:I.invalid_type,expected:A.undefined,received:o.parsedType}),L}return _e(t.data)}}Dt.create=e=>new Dt({typeName:U.ZodUndefined,...D(e)});class Ft extends F{_parse(t){if(this._getType(t)!==A.null){const o=this._getOrReturnCtx(t);return E(o,{code:I.invalid_type,expected:A.null,received:o.parsedType}),L}return _e(t.data)}}Ft.create=e=>new Ft({typeName:U.ZodNull,...D(e)});class It extends F{constructor(){super(...arguments),this._any=!0}_parse(t){return _e(t.data)}}It.create=e=>new It({typeName:U.ZodAny,...D(e)});class tt extends F{constructor(){super(...arguments),this._unknown=!0}_parse(t){return _e(t.data)}}tt.create=e=>new tt({typeName:U.ZodUnknown,...D(e)});class je extends F{_parse(t){const n=this._getOrReturnCtx(t);return E(n,{code:I.invalid_type,expected:A.never,received:n.parsedType}),L}}je.create=e=>new je({typeName:U.ZodNever,...D(e)});class Cn extends F{_parse(t){if(this._getType(t)!==A.undefined){const o=this._getOrReturnCtx(t);return E(o,{code:I.invalid_type,expected:A.void,received:o.parsedType}),L}return _e(t.data)}}Cn.create=e=>new Cn({typeName:U.ZodVoid,...D(e)});class Ie extends F{_parse(t){const{ctx:n,status:o}=this._processInputParams(t),s=this._def;if(n.parsedType!==A.array)return E(n,{code:I.invalid_type,expected:A.array,received:n.parsedType}),L;if(s.exactLength!==null){const a=n.data.length>s.exactLength.value,u=n.data.length<s.exactLength.value;(a||u)&&(E(n,{code:a?I.too_big:I.too_small,minimum:u?s.exactLength.value:void 0,maximum:a?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),o.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(E(n,{code:I.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),o.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(E(n,{code:I.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),o.dirty()),n.common.async)return Promise.all([...n.data].map((a,u)=>s.type._parseAsync(new Pe(n,a,n.path,u)))).then(a=>fe.mergeArray(o,a));const r=[...n.data].map((a,u)=>s.type._parseSync(new Pe(n,a,n.path,u)));return fe.mergeArray(o,r)}get element(){return this._def.type}min(t,n){return new Ie({...this._def,minLength:{value:t,message:P.toString(n)}})}max(t,n){return new Ie({...this._def,maxLength:{value:t,message:P.toString(n)}})}length(t,n){return new Ie({...this._def,exactLength:{value:t,message:P.toString(n)}})}nonempty(t){return this.min(1,t)}}Ie.create=(e,t)=>new Ie({type:e,minLength:null,maxLength:null,exactLength:null,typeName:U.ZodArray,...D(t)});function yt(e){if(e instanceof ie){const t={};for(const n in e.shape){const o=e.shape[n];t[n]=qe.create(yt(o))}return new ie({...e._def,shape:()=>t})}else return e instanceof Ie?new Ie({...e._def,type:yt(e.element)}):e instanceof qe?qe.create(yt(e.unwrap())):e instanceof Ge?Ge.create(yt(e.unwrap())):e instanceof ze?ze.create(e.items.map(t=>yt(t))):e}class ie extends F{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=X.objectKeys(t);return this._cached={shape:t,keys:n},this._cached}_parse(t){if(this._getType(t)!==A.object){const p=this._getOrReturnCtx(t);return E(p,{code:I.invalid_type,expected:A.object,received:p.parsedType}),L}const{status:o,ctx:s}=this._processInputParams(t),{shape:r,keys:a}=this._getCached(),u=[];if(!(this._def.catchall instanceof je&&this._def.unknownKeys==="strip"))for(const p in s.data)a.includes(p)||u.push(p);const d=[];for(const p of a){const h=r[p],f=s.data[p];d.push({key:{status:"valid",value:p},value:h._parse(new Pe(s,f,s.path,p)),alwaysSet:p in s.data})}if(this._def.catchall instanceof je){const p=this._def.unknownKeys;if(p==="passthrough")for(const h of u)d.push({key:{status:"valid",value:h},value:{status:"valid",value:s.data[h]}});else if(p==="strict")u.length>0&&(E(s,{code:I.unrecognized_keys,keys:u}),o.dirty());else if(p!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const p=this._def.catchall;for(const h of u){const f=s.data[h];d.push({key:{status:"valid",value:h},value:p._parse(new Pe(s,f,s.path,h)),alwaysSet:h in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const p=[];for(const h of d){const f=await h.key,g=await h.value;p.push({key:f,value:g,alwaysSet:h.alwaysSet})}return p}).then(p=>fe.mergeObjectSync(o,p)):fe.mergeObjectSync(o,d)}get shape(){return this._def.shape()}strict(t){return P.errToObj,new ie({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,o)=>{const s=this._def.errorMap?.(n,o).message??o.defaultError;return n.code==="unrecognized_keys"?{message:P.errToObj(t).message??s}:{message:s}}}:{}})}strip(){return new ie({...this._def,unknownKeys:"strip"})}passthrough(){return new ie({...this._def,unknownKeys:"passthrough"})}extend(t){return new ie({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new ie({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:U.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new ie({...this._def,catchall:t})}pick(t){const n={};for(const o of X.objectKeys(t))t[o]&&this.shape[o]&&(n[o]=this.shape[o]);return new ie({...this._def,shape:()=>n})}omit(t){const n={};for(const o of X.objectKeys(this.shape))t[o]||(n[o]=this.shape[o]);return new ie({...this._def,shape:()=>n})}deepPartial(){return yt(this)}partial(t){const n={};for(const o of X.objectKeys(this.shape)){const s=this.shape[o];t&&!t[o]?n[o]=s:n[o]=s.optional()}return new ie({...this._def,shape:()=>n})}required(t){const n={};for(const o of X.objectKeys(this.shape))if(t&&!t[o])n[o]=this.shape[o];else{let r=this.shape[o];for(;r instanceof qe;)r=r._def.innerType;n[o]=r}return new ie({...this._def,shape:()=>n})}keyof(){return wi(X.objectKeys(this.shape))}}ie.create=(e,t)=>new ie({shape:()=>e,unknownKeys:"strip",catchall:je.create(),typeName:U.ZodObject,...D(t)});ie.strictCreate=(e,t)=>new ie({shape:()=>e,unknownKeys:"strict",catchall:je.create(),typeName:U.ZodObject,...D(t)});ie.lazycreate=(e,t)=>new ie({shape:e,unknownKeys:"strip",catchall:je.create(),typeName:U.ZodObject,...D(t)});class Xt extends F{_parse(t){const{ctx:n}=this._processInputParams(t),o=this._def.options;function s(r){for(const u of r)if(u.result.status==="valid")return u.result;for(const u of r)if(u.result.status==="dirty")return n.common.issues.push(...u.ctx.common.issues),u.result;const a=r.map(u=>new ke(u.ctx.common.issues));return E(n,{code:I.invalid_union,unionErrors:a}),L}if(n.common.async)return Promise.all(o.map(async r=>{const a={...n,common:{...n.common,issues:[]},parent:null};return{result:await r._parseAsync({data:n.data,path:n.path,parent:a}),ctx:a}})).then(s);{let r;const a=[];for(const d of o){const p={...n,common:{...n.common,issues:[]},parent:null},h=d._parseSync({data:n.data,path:n.path,parent:p});if(h.status==="valid")return h;h.status==="dirty"&&!r&&(r={result:h,ctx:p}),p.common.issues.length&&a.push(p.common.issues)}if(r)return n.common.issues.push(...r.ctx.common.issues),r.result;const u=a.map(d=>new ke(d));return E(n,{code:I.invalid_union,unionErrors:u}),L}}get options(){return this._def.options}}Xt.create=(e,t)=>new Xt({options:e,typeName:U.ZodUnion,...D(t)});const Le=e=>e instanceof Ht?Le(e.schema):e instanceof Te?Le(e.innerType()):e instanceof Bt?[e.value]:e instanceof Be?e.options:e instanceof Gt?X.objectValues(e.enum):e instanceof Wt?Le(e._def.innerType):e instanceof Dt?[void 0]:e instanceof Ft?[null]:e instanceof qe?[void 0,...Le(e.unwrap())]:e instanceof Ge?[null,...Le(e.unwrap())]:e instanceof zo||e instanceof Yt?Le(e.unwrap()):e instanceof Jt?Le(e._def.innerType):[];class jn extends F{_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==A.object)return E(n,{code:I.invalid_type,expected:A.object,received:n.parsedType}),L;const o=this.discriminator,s=n.data[o],r=this.optionsMap.get(s);return r?n.common.async?r._parseAsync({data:n.data,path:n.path,parent:n}):r._parseSync({data:n.data,path:n.path,parent:n}):(E(n,{code:I.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[o]}),L)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,n,o){const s=new Map;for(const r of n){const a=Le(r.shape[t]);if(!a.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const u of a){if(s.has(u))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(u)}`);s.set(u,r)}}return new jn({typeName:U.ZodDiscriminatedUnion,discriminator:t,options:n,optionsMap:s,...D(o)})}}function to(e,t){const n=Ue(e),o=Ue(t);if(e===t)return{valid:!0,data:e};if(n===A.object&&o===A.object){const s=X.objectKeys(t),r=X.objectKeys(e).filter(u=>s.indexOf(u)!==-1),a={...e,...t};for(const u of r){const d=to(e[u],t[u]);if(!d.valid)return{valid:!1};a[u]=d.data}return{valid:!0,data:a}}else if(n===A.array&&o===A.array){if(e.length!==t.length)return{valid:!1};const s=[];for(let r=0;r<e.length;r++){const a=e[r],u=t[r],d=to(a,u);if(!d.valid)return{valid:!1};s.push(d.data)}return{valid:!0,data:s}}else return n===A.date&&o===A.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Vt extends F{_parse(t){const{status:n,ctx:o}=this._processInputParams(t),s=(r,a)=>{if(Qn(r)||Qn(a))return L;const u=to(r.value,a.value);return u.valid?((eo(r)||eo(a))&&n.dirty(),{status:n.value,value:u.data}):(E(o,{code:I.invalid_intersection_types}),L)};return o.common.async?Promise.all([this._def.left._parseAsync({data:o.data,path:o.path,parent:o}),this._def.right._parseAsync({data:o.data,path:o.path,parent:o})]).then(([r,a])=>s(r,a)):s(this._def.left._parseSync({data:o.data,path:o.path,parent:o}),this._def.right._parseSync({data:o.data,path:o.path,parent:o}))}}Vt.create=(e,t,n)=>new Vt({left:e,right:t,typeName:U.ZodIntersection,...D(n)});class ze extends F{_parse(t){const{status:n,ctx:o}=this._processInputParams(t);if(o.parsedType!==A.array)return E(o,{code:I.invalid_type,expected:A.array,received:o.parsedType}),L;if(o.data.length<this._def.items.length)return E(o,{code:I.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),L;!this._def.rest&&o.data.length>this._def.items.length&&(E(o,{code:I.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const r=[...o.data].map((a,u)=>{const d=this._def.items[u]||this._def.rest;return d?d._parse(new Pe(o,a,o.path,u)):null}).filter(a=>!!a);return o.common.async?Promise.all(r).then(a=>fe.mergeArray(n,a)):fe.mergeArray(n,r)}get items(){return this._def.items}rest(t){return new ze({...this._def,rest:t})}}ze.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ze({items:e,typeName:U.ZodTuple,rest:null,...D(t)})};class Kt extends F{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:o}=this._processInputParams(t);if(o.parsedType!==A.object)return E(o,{code:I.invalid_type,expected:A.object,received:o.parsedType}),L;const s=[],r=this._def.keyType,a=this._def.valueType;for(const u in o.data)s.push({key:r._parse(new Pe(o,u,o.path,u)),value:a._parse(new Pe(o,o.data[u],o.path,u)),alwaysSet:u in o.data});return o.common.async?fe.mergeObjectAsync(n,s):fe.mergeObjectSync(n,s)}get element(){return this._def.valueType}static create(t,n,o){return n instanceof F?new Kt({keyType:t,valueType:n,typeName:U.ZodRecord,...D(o)}):new Kt({keyType:Ce.create(),valueType:t,typeName:U.ZodRecord,...D(n)})}}class In extends F{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:o}=this._processInputParams(t);if(o.parsedType!==A.map)return E(o,{code:I.invalid_type,expected:A.map,received:o.parsedType}),L;const s=this._def.keyType,r=this._def.valueType,a=[...o.data.entries()].map(([u,d],p)=>({key:s._parse(new Pe(o,u,o.path,[p,"key"])),value:r._parse(new Pe(o,d,o.path,[p,"value"]))}));if(o.common.async){const u=new Map;return Promise.resolve().then(async()=>{for(const d of a){const p=await d.key,h=await d.value;if(p.status==="aborted"||h.status==="aborted")return L;(p.status==="dirty"||h.status==="dirty")&&n.dirty(),u.set(p.value,h.value)}return{status:n.value,value:u}})}else{const u=new Map;for(const d of a){const p=d.key,h=d.value;if(p.status==="aborted"||h.status==="aborted")return L;(p.status==="dirty"||h.status==="dirty")&&n.dirty(),u.set(p.value,h.value)}return{status:n.value,value:u}}}}In.create=(e,t,n)=>new In({valueType:t,keyType:e,typeName:U.ZodMap,...D(n)});class rt extends F{_parse(t){const{status:n,ctx:o}=this._processInputParams(t);if(o.parsedType!==A.set)return E(o,{code:I.invalid_type,expected:A.set,received:o.parsedType}),L;const s=this._def;s.minSize!==null&&o.data.size<s.minSize.value&&(E(o,{code:I.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&o.data.size>s.maxSize.value&&(E(o,{code:I.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const r=this._def.valueType;function a(d){const p=new Set;for(const h of d){if(h.status==="aborted")return L;h.status==="dirty"&&n.dirty(),p.add(h.value)}return{status:n.value,value:p}}const u=[...o.data.values()].map((d,p)=>r._parse(new Pe(o,d,o.path,p)));return o.common.async?Promise.all(u).then(d=>a(d)):a(u)}min(t,n){return new rt({...this._def,minSize:{value:t,message:P.toString(n)}})}max(t,n){return new rt({...this._def,maxSize:{value:t,message:P.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}rt.create=(e,t)=>new rt({valueType:e,minSize:null,maxSize:null,typeName:U.ZodSet,...D(t)});class kt extends F{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==A.function)return E(n,{code:I.invalid_type,expected:A.function,received:n.parsedType}),L;function o(u,d){return xn({data:u,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,wn(),Ct].filter(p=>!!p),issueData:{code:I.invalid_arguments,argumentsError:d}})}function s(u,d){return xn({data:u,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,wn(),Ct].filter(p=>!!p),issueData:{code:I.invalid_return_type,returnTypeError:d}})}const r={errorMap:n.common.contextualErrorMap},a=n.data;if(this._def.returns instanceof Tt){const u=this;return _e(async function(...d){const p=new ke([]),h=await u._def.args.parseAsync(d,r).catch(_=>{throw p.addIssue(o(d,_)),p}),f=await Reflect.apply(a,this,h);return await u._def.returns._def.type.parseAsync(f,r).catch(_=>{throw p.addIssue(s(f,_)),p})})}else{const u=this;return _e(function(...d){const p=u._def.args.safeParse(d,r);if(!p.success)throw new ke([o(d,p.error)]);const h=Reflect.apply(a,this,p.data),f=u._def.returns.safeParse(h,r);if(!f.success)throw new ke([s(h,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new kt({...this._def,args:ze.create(t).rest(tt.create())})}returns(t){return new kt({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,n,o){return new kt({args:t||ze.create([]).rest(tt.create()),returns:n||tt.create(),typeName:U.ZodFunction,...D(o)})}}class Ht extends F{get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Ht.create=(e,t)=>new Ht({getter:e,typeName:U.ZodLazy,...D(t)});class Bt extends F{_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return E(n,{received:n.data,code:I.invalid_literal,expected:this._def.value}),L}return{status:"valid",value:t.data}}get value(){return this._def.value}}Bt.create=(e,t)=>new Bt({value:e,typeName:U.ZodLiteral,...D(t)});function wi(e,t){return new Be({values:e,typeName:U.ZodEnum,...D(t)})}class Be extends F{_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),o=this._def.values;return E(n,{expected:X.joinValues(o),received:n.parsedType,code:I.invalid_type}),L}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const n=this._getOrReturnCtx(t),o=this._def.values;return E(n,{received:n.data,code:I.invalid_enum_value,options:o}),L}return _e(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t,n=this._def){return Be.create(t,{...this._def,...n})}exclude(t,n=this._def){return Be.create(this.options.filter(o=>!t.includes(o)),{...this._def,...n})}}Be.create=wi;class Gt extends F{_parse(t){const n=X.getValidEnumValues(this._def.values),o=this._getOrReturnCtx(t);if(o.parsedType!==A.string&&o.parsedType!==A.number){const s=X.objectValues(n);return E(o,{expected:X.joinValues(s),received:o.parsedType,code:I.invalid_type}),L}if(this._cache||(this._cache=new Set(X.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const s=X.objectValues(n);return E(o,{received:o.data,code:I.invalid_enum_value,options:s}),L}return _e(t.data)}get enum(){return this._def.values}}Gt.create=(e,t)=>new Gt({values:e,typeName:U.ZodNativeEnum,...D(t)});class Tt extends F{unwrap(){return this._def.type}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==A.promise&&n.common.async===!1)return E(n,{code:I.invalid_type,expected:A.promise,received:n.parsedType}),L;const o=n.parsedType===A.promise?n.data:Promise.resolve(n.data);return _e(o.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Tt.create=(e,t)=>new Tt({type:e,typeName:U.ZodPromise,...D(t)});class Te extends F{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===U.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:o}=this._processInputParams(t),s=this._def.effect||null,r={addIssue:a=>{E(o,a),a.fatal?n.abort():n.dirty()},get path(){return o.path}};if(r.addIssue=r.addIssue.bind(r),s.type==="preprocess"){const a=s.transform(o.data,r);if(o.common.async)return Promise.resolve(a).then(async u=>{if(n.value==="aborted")return L;const d=await this._def.schema._parseAsync({data:u,path:o.path,parent:o});return d.status==="aborted"?L:d.status==="dirty"||n.value==="dirty"?bt(d.value):d});{if(n.value==="aborted")return L;const u=this._def.schema._parseSync({data:a,path:o.path,parent:o});return u.status==="aborted"?L:u.status==="dirty"||n.value==="dirty"?bt(u.value):u}}if(s.type==="refinement"){const a=u=>{const d=s.refinement(u,r);if(o.common.async)return Promise.resolve(d);if(d instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return u};if(o.common.async===!1){const u=this._def.schema._parseSync({data:o.data,path:o.path,parent:o});return u.status==="aborted"?L:(u.status==="dirty"&&n.dirty(),a(u.value),{status:n.value,value:u.value})}else return this._def.schema._parseAsync({data:o.data,path:o.path,parent:o}).then(u=>u.status==="aborted"?L:(u.status==="dirty"&&n.dirty(),a(u.value).then(()=>({status:n.value,value:u.value}))))}if(s.type==="transform")if(o.common.async===!1){const a=this._def.schema._parseSync({data:o.data,path:o.path,parent:o});if(!ot(a))return L;const u=s.transform(a.value,r);if(u instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:u}}else return this._def.schema._parseAsync({data:o.data,path:o.path,parent:o}).then(a=>ot(a)?Promise.resolve(s.transform(a.value,r)).then(u=>({status:n.value,value:u})):L);X.assertNever(s)}}Te.create=(e,t,n)=>new Te({schema:e,typeName:U.ZodEffects,effect:t,...D(n)});Te.createWithPreprocess=(e,t,n)=>new Te({schema:t,effect:{type:"preprocess",transform:e},typeName:U.ZodEffects,...D(n)});class qe extends F{_parse(t){return this._getType(t)===A.undefined?_e(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}qe.create=(e,t)=>new qe({innerType:e,typeName:U.ZodOptional,...D(t)});class Ge extends F{_parse(t){return this._getType(t)===A.null?_e(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Ge.create=(e,t)=>new Ge({innerType:e,typeName:U.ZodNullable,...D(t)});class Wt extends F{_parse(t){const{ctx:n}=this._processInputParams(t);let o=n.data;return n.parsedType===A.undefined&&(o=this._def.defaultValue()),this._def.innerType._parse({data:o,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Wt.create=(e,t)=>new Wt({innerType:e,typeName:U.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...D(t)});class Jt extends F{_parse(t){const{ctx:n}=this._processInputParams(t),o={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:o.data,path:o.path,parent:{...o}});return Zt(s)?s.then(r=>({status:"valid",value:r.status==="valid"?r.value:this._def.catchValue({get error(){return new ke(o.common.issues)},input:o.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new ke(o.common.issues)},input:o.data})}}removeCatch(){return this._def.innerType}}Jt.create=(e,t)=>new Jt({innerType:e,typeName:U.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...D(t)});class Tn extends F{_parse(t){if(this._getType(t)!==A.nan){const o=this._getOrReturnCtx(t);return E(o,{code:I.invalid_type,expected:A.nan,received:o.parsedType}),L}return{status:"valid",value:t.data}}}Tn.create=e=>new Tn({typeName:U.ZodNaN,...D(e)});const ZS=Symbol("zod_brand");class zo extends F{_parse(t){const{ctx:n}=this._processInputParams(t),o=n.data;return this._def.type._parse({data:o,path:n.path,parent:n})}unwrap(){return this._def.type}}class rn extends F{_parse(t){const{status:n,ctx:o}=this._processInputParams(t);if(o.common.async)return(async()=>{const r=await this._def.in._parseAsync({data:o.data,path:o.path,parent:o});return r.status==="aborted"?L:r.status==="dirty"?(n.dirty(),bt(r.value)):this._def.out._parseAsync({data:r.value,path:o.path,parent:o})})();{const s=this._def.in._parseSync({data:o.data,path:o.path,parent:o});return s.status==="aborted"?L:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:o.path,parent:o})}}static create(t,n){return new rn({in:t,out:n,typeName:U.ZodPipeline})}}class Yt extends F{_parse(t){const n=this._def.innerType._parse(t),o=s=>(ot(s)&&(s.value=Object.freeze(s.value)),s);return Zt(n)?n.then(s=>o(s)):o(n)}unwrap(){return this._def.innerType}}Yt.create=(e,t)=>new Yt({innerType:e,typeName:U.ZodReadonly,...D(t)});function bs(e,t){const n=typeof e=="function"?e(t):typeof e=="string"?{message:e}:e;return typeof n=="string"?{message:n}:n}function xi(e,t={},n){return e?It.create().superRefine((o,s)=>{const r=e(o);if(r instanceof Promise)return r.then(a=>{if(!a){const u=bs(t,o),d=u.fatal??n??!0;s.addIssue({code:"custom",...u,fatal:d})}});if(!r){const a=bs(t,o),u=a.fatal??n??!0;s.addIssue({code:"custom",...a,fatal:u})}}):It.create()}const jS={object:ie.lazycreate};var U;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(U||(U={}));const DS=(e,t={message:`Input not instance of ${e.name}`})=>xi(n=>n instanceof e,t),$i=Ce.create,Ci=Ke.create,FS=Tn.create,XS=He.create,Ii=jt.create,VS=st.create,KS=$n.create,HS=Dt.create,BS=Ft.create,GS=It.create,WS=tt.create,JS=je.create,YS=Cn.create,QS=Ie.create,ek=ie.create,tk=ie.strictCreate,nk=Xt.create,ok=jn.create,sk=Vt.create,rk=ze.create,ak=Kt.create,ik=In.create,uk=rt.create,ck=kt.create,lk=Ht.create,dk=Bt.create,pk=Be.create,mk=Gt.create,hk=Tt.create,vs=Te.create,fk=qe.create,yk=Ge.create,_k=Te.createWithPreprocess,gk=rn.create,bk=()=>$i().optional(),vk=()=>Ci().optional(),Sk=()=>Ii().optional(),kk={string:(e=>Ce.create({...e,coerce:!0})),number:(e=>Ke.create({...e,coerce:!0})),boolean:(e=>jt.create({...e,coerce:!0})),bigint:(e=>He.create({...e,coerce:!0})),date:(e=>st.create({...e,coerce:!0}))},Rk=L,Ee=Object.freeze(Object.defineProperty({__proto__:null,BRAND:ZS,DIRTY:bt,EMPTY_PATH:gS,INVALID:L,NEVER:Rk,OK:_e,ParseStatus:fe,Schema:F,ZodAny:It,ZodArray:Ie,ZodBigInt:He,ZodBoolean:jt,ZodBranded:zo,ZodCatch:Jt,ZodDate:st,ZodDefault:Wt,ZodDiscriminatedUnion:jn,ZodEffects:Te,ZodEnum:Be,ZodError:ke,get ZodFirstPartyTypeKind(){return U},ZodFunction:kt,ZodIntersection:Vt,ZodIssueCode:I,ZodLazy:Ht,ZodLiteral:Bt,ZodMap:In,ZodNaN:Tn,ZodNativeEnum:Gt,ZodNever:je,ZodNull:Ft,ZodNullable:Ge,ZodNumber:Ke,ZodObject:ie,ZodOptional:qe,ZodParsedType:A,ZodPipeline:rn,ZodPromise:Tt,ZodReadonly:Yt,ZodRecord:Kt,ZodSchema:F,ZodSet:rt,ZodString:Ce,ZodSymbol:$n,ZodTransformer:Te,ZodTuple:ze,ZodType:F,ZodUndefined:Dt,ZodUnion:Xt,ZodUnknown:tt,ZodVoid:Cn,addIssueToContext:E,any:GS,array:QS,bigint:XS,boolean:Ii,coerce:kk,custom:xi,date:VS,datetimeRegex:Ri,defaultErrorMap:Ct,discriminatedUnion:ok,effect:vs,enum:pk,function:ck,getErrorMap:wn,getParsedType:Ue,instanceof:DS,intersection:sk,isAborted:Qn,isAsync:Zt,isDirty:eo,isValid:ot,late:jS,lazy:lk,literal:dk,makeIssue:xn,map:ik,nan:FS,nativeEnum:mk,never:JS,null:BS,nullable:yk,number:Ci,object:ek,get objectUtil(){return Yn},oboolean:Sk,onumber:vk,optional:fk,ostring:bk,pipeline:gk,preprocess:_k,promise:hk,quotelessJson:yS,record:ak,set:uk,setErrorMap:_S,strictObject:tk,string:$i,symbol:KS,transformer:vs,tuple:rk,undefined:HS,union:nk,unknown:WS,get util(){return X},void:YS},Symbol.toStringTag,{value:"Module"})),Ss=Ee.object({callbackUrl:Ee.union([Ee.string().url(),Ee.instanceof(URL)]),limit:Ee.number().optional()}),wk=Ee.union([Ss.extend({codeChallengeMethod:Ee.enum(["S256","plain"]),codeChallenge:Ee.string()}),Ss]);function xk(e,t){const n=wk.safeParse(t);if(!n.success)return{ok:!1,error:n.error};const o=xs(e._options);if(!o)return{ok:!1,error:new Error("No server URL configured")};const s=new URL("/auth",o);return s.searchParams.set("callback_url",n.data.callbackUrl.toString()),"codeChallengeMethod"in n.data&&(s.searchParams.set("code_challenge",n.data.codeChallenge),s.searchParams.set("code_challenge_method",n.data.codeChallengeMethod)),n.data.limit!==void 0&&s.searchParams.set("limit",n.data.limit.toString()),{ok:!0,value:s.toString()}}const $k=Ee.object({codeVerifier:Ee.string().min(43,"Code verifier must be at least 43 characters").max(128,"Code verifier must be at most 128 characters").regex(/^[A-Za-z0-9\-._~]+$/,"Code verifier must only contain unreserved characters: [A-Za-z0-9-._~]").optional()});function Ti(e){let t="";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}function Ck(){const e=crypto.getRandomValues(new Uint8Array(32));return Ti(e)}async function Ik(e={}){const t=$k.safeParse(e);if(!t.success)return{ok:!1,error:t.error};const{codeVerifier:n=Ck()}=t.data,s=new TextEncoder().encode(n),r=await crypto.subtle.digest("SHA-256",s),a=new Uint8Array(r);return{ok:!0,value:{codeChallenge:Ti(a),codeVerifier:n}}}class Tk extends ge{async createAuthorizationUrl(t){const n=xk(this,t);if(!n.ok)throw n.error;return n.value}async createSHA256CodeChallenge(){return Y(Ik())}async exchangeAuthCodeForAPIKey(t,n){return Y(hS(this,t,n))}async createAuthCode(t,n){return Y(pS(this,t,n))}}function Ok(e,t,n,o){return new ae(Ek(e,t,n,o))}async function Ek(e,t,n,o){const s=he(n,M=>Jb.parse(M),"Input validation failed");if(!s.ok)return[s,{status:"invalid"}];const r=s.value,a=null,u={author:nt("author",r.author,{explode:!1,charEncoding:"percent"}),slug:nt("slug",r.slug,{explode:!1,charEncoding:"percent"})},d=ee("/parameters/{author}/{slug}")(u),p=en({provider:r.provider}),h=new Headers(re({Accept:"application/json"})),f=Mn([{fieldName:"Authorization",type:"http:bearer",value:t?.bearer}]),g={options:e._options,baseURL:o?.serverURL??e._baseURL??"",operationID:"getParameters",oAuth2Scopes:null,resolvedSecurity:f,securitySource:t,retryConfig:o?.retries||e._options.retryConfig||{strategy:"none"},retryCodes:o?.retryCodes||["429","500","502","503","504"]},_=e._createRequest(g,{security:f,method:"GET",baseURL:o?.serverURL,path:d,headers:h,query:p,body:a,userAgent:e._options.userAgent,timeoutMs:o?.timeoutMs||e._options.timeoutMs||-1},o);if(!_.ok)return[_,{status:"invalid"}];const y=_.value,v=await e._do(y,{context:g,errorCodes:["401","404","4XX","500","5XX"],retryConfig:g.retryConfig,retryCodes:g.retryCodes});if(!v.ok)return[v,{status:"request-error",request:y}];const S=v.value,T={HttpMeta:{Response:S,Request:y}},[C]=await se(oe(200,ev),O(401,be),O(404,Qe),O(500,ce),j("4XX"),j("5XX"))(S,y,{extraFields:T});return C.ok?[C,{status:"complete",request:y,response:S}]:[C,{status:"complete",request:y,response:S}]}class Ak extends ge{async getParameters(t,n,o){return Y(Ok(this,t,n,o))}}function qk(e,t){return new ae(Pk(e,t))}async function Pk(e,t){const n=ee("/providers")(),o=new Headers(re({Accept:"application/json"})),s=await de(e._options.apiKey),r=s==null?{}:{apiKey:s},a=le(r),u={options:e._options,baseURL:t?.serverURL??e._baseURL??"",operationID:"listProviders",oAuth2Scopes:null,resolvedSecurity:a,securitySource:e._options.apiKey,retryConfig:t?.retries||e._options.retryConfig||{strategy:"none"},retryCodes:t?.retryCodes||["429","500","502","503","504"]},d=e._createRequest(u,{security:a,method:"GET",baseURL:t?.serverURL,path:n,headers:o,userAgent:e._options.userAgent,timeoutMs:t?.timeoutMs||e._options.timeoutMs||-1},t);if(!d.ok)return[d,{status:"invalid"}];const p=d.value,h=await e._do(p,{context:u,errorCodes:["4XX","500","5XX"],retryConfig:u.retryConfig,retryCodes:u.retryCodes});if(!h.ok)return[h,{status:"request-error",request:p}];const f=h.value,g={HttpMeta:{Response:f,Request:p}},[_]=await se(oe(200,lv),O(500,ce),j("4XX"),j("5XX"))(f,p,{extraFields:g});return _.ok?[_,{status:"complete",request:p,response:f}]:[_,{status:"complete",request:p,response:f}]}class zk extends ge{async list(t){return Y(qk(this,t))}}class ks{constructor(t){this.sourceStream=t,this.buffer=[],this.consumers=new Map,this.nextConsumerId=0,this.sourceReader=null,this.sourceComplete=!1,this.sourceError=null,this.pumpStarted=!1}createConsumer(){const t=this.nextConsumerId++,n={position:0,waitingPromise:null,cancelled:!1};this.consumers.set(t,n),this.pumpStarted||this.startPump();const o=this;return{async next(){const s=o.consumers.get(t);if(!s)return{done:!0,value:void 0};if(s.cancelled)return{done:!0,value:void 0};if(s.position<o.buffer.length){const a=o.buffer[s.position];return s.position++,{done:!1,value:a}}if(o.sourceComplete)return o.consumers.delete(t),{done:!0,value:void 0};if(o.sourceError)throw o.consumers.delete(t),o.sourceError;const r=new Promise((a,u)=>{s.waitingPromise={resolve:a,reject:u}});return(o.sourceComplete||o.sourceError||s.position<o.buffer.length)&&s.waitingPromise&&(s.waitingPromise.resolve(),s.waitingPromise=null),await r,this.next()},async return(){const s=o.consumers.get(t);return s&&(s.cancelled=!0,o.consumers.delete(t)),{done:!0,value:void 0}},async throw(s){const r=o.consumers.get(t);throw r&&(r.cancelled=!0,o.consumers.delete(t)),s},[Symbol.asyncIterator](){return this}}}startPump(){this.pumpStarted||(this.pumpStarted=!0,this.sourceReader=this.sourceStream.getReader(),(async()=>{try{for(;;){const t=await this.sourceReader.read();if(t.done){this.sourceComplete=!0,this.notifyAllConsumers();break}this.buffer.push(t.value),this.notifyAllConsumers()}}catch(t){this.sourceError=t instanceof Error?t:new Error(String(t)),this.notifyAllConsumers()}finally{this.sourceReader&&this.sourceReader.releaseLock()}})())}notifyAllConsumers(){for(const t of this.consumers.values())t.waitingPromise&&(this.sourceError?t.waitingPromise.reject(this.sourceError):t.waitingPromise.resolve(),t.waitingPromise=null)}async cancel(){for(const t of this.consumers.values())t.cancelled=!0,t.waitingPromise&&t.waitingPromise.resolve();this.consumers.clear(),this.sourceReader&&(await this.sourceReader.cancel(),this.sourceReader.releaseLock())}}async function*Mk(e){const t=e.createConsumer();for await(const n of t)if("type"in n&&n.type==="response.output_text.delta"){const o=n;o.delta&&(yield o.delta)}}async function*Nk(e){const t=e.createConsumer();for await(const n of t)if("type"in n&&n.type==="response.reasoning_text.delta"){const o=n;o.delta&&(yield o.delta)}}async function*Lk(e){const t=e.createConsumer();for await(const n of t)if("type"in n&&n.type==="response.function_call_arguments.delta"){const o=n;o.delta&&(yield o.delta)}}async function*Uk(e){const t=e.createConsumer();let n="",o=!1;for await(const s of t)if("type"in s)switch(s.type){case"response.output_item.added":{const r=s;r.item&&"type"in r.item&&r.item.type==="message"&&(o=!0,n="");break}case"response.output_text.delta":{const r=s;o&&r.delta&&(n+=r.delta,yield{role:"assistant",content:n});break}case"response.output_item.done":{const r=s;if(r.item&&"type"in r.item&&r.item.type==="message"){const a=r.item;yield Oi(a)}break}}}async function Xn(e){const t=e.createConsumer();for await(const n of t)if("type"in n){if(n.type==="response.completed")return n.response;if(n.type==="response.failed"){const o=n;throw new Error(`Response failed: ${JSON.stringify(o.response.error)}`)}if(n.type==="response.incomplete")return n.response}throw new Error("Stream ended without completion event")}function Oi(e){return{role:"assistant",content:e.content.filter(n=>"type"in n&&n.type==="output_text").map(n=>n.text).join("")||null}}function no(e){const t=e.output.find(n=>"type"in n&&n.type==="message");if(!t)throw new Error("No message found in response output");return Oi(t)}function Zk(e){if(e.outputText)return e.outputText;const t=no(e);return typeof t.content=="string"?t.content:""}function Vn(e){const t=[];for(const n of e.output)if("type"in n&&n.type==="function_call"){const o=n;try{const s=JSON.parse(o.arguments);t.push({id:o.callId,name:o.name,arguments:s})}catch{t.push({id:o.callId,name:o.name,arguments:o.arguments})}}return t}async function*jk(e){const t=e.createConsumer(),n=new Map;for await(const o of t)if("type"in o)switch(o.type){case"response.output_item.added":{const s=o;if(s.item&&"type"in s.item&&s.item.type==="function_call"){const r=s.item;n.set(r.callId,{id:r.callId,name:r.name,argumentsAccumulated:""})}break}case"response.function_call_arguments.delta":{const s=o,r=n.get(s.itemId);r&&s.delta&&(r.argumentsAccumulated+=s.delta);break}case"response.function_call_arguments.done":{const s=o,r=n.get(s.itemId);if(r){try{const a=JSON.parse(s.arguments);yield{id:r.id,name:s.name,arguments:a}}catch{yield{id:r.id,name:s.name,arguments:s.arguments}}n.delete(s.itemId)}break}case"response.output_item.done":{const s=o;if(s.item&&"type"in s.item&&s.item.type==="function_call"){const r=s.item;if(n.has(r.callId)){try{const a=JSON.parse(r.arguments);yield{id:r.callId,name:r.name,arguments:a}}catch{yield{id:r.callId,name:r.name,arguments:r.arguments}}n.delete(r.callId)}}break}}}var Rs;(function(e){e.Function="function"})(Rs||(Rs={}));function vt(e){return"execute"in e.function&&typeof e.function.execute=="function"}function Mo(e){return"eventSchema"in e.function}function Dk(e){return vt(e)&&!Mo(e)}function Fk(e){return ed(e,{target:"openapi-3.0"})}function Xk(e){return e.map(t=>({type:"function",name:t.function.name,description:t.function.description||null,strict:null,parameters:Fk(t.function.inputSchema)}))}function Ei(e,t){return e.parse(t)}function oo(e,t){return e.parse(t)}async function Vk(e,t,n){if(!Dk(e))throw new Error(`Tool "${t.name}" is not a regular execute tool or has no execute function`);try{const o=Ei(e.function.inputSchema,t.arguments),s=await Promise.resolve(e.function.execute(o,n));if(e.function.outputSchema){const r=oo(e.function.outputSchema,s);return{toolCallId:t.id,toolName:t.name,result:r}}return{toolCallId:t.id,toolName:t.name,result:s}}catch(o){return{toolCallId:t.id,toolName:t.name,result:null,error:o instanceof Error?o:new Error(String(o))}}}async function Kk(e,t,n,o){if(!Mo(e))throw new Error(`Tool "${t.name}" is not a generator tool`);try{const s=Ei(e.function.inputSchema,t.arguments),r=[];let a=null,u=!1;for await(const p of e.function.execute(s,n)){u=!0;const h=oo(e.function.eventSchema,p);r.push(h),a=h}if(!u)throw new Error(`Generator tool "${t.name}" completed without emitting any values`);const d=oo(e.function.outputSchema,a);return r.pop(),{toolCallId:t.id,toolName:t.name,result:d,preliminaryResults:r}}catch(s){return{toolCallId:t.id,toolName:t.name,result:null,error:s instanceof Error?s:new Error(String(s))}}}async function Hk(e,t,n,o){if(!vt(e))throw new Error(`Tool "${t.name}" has no execute function. Use manual tool execution.`);return Mo(e)?Kk(e,t,n,o):Vk(e,t,n)}class Bk{constructor(t){this.reusableStream=null,this.streamPromise=null,this.messagePromise=null,this.textPromise=null,this.initPromise=null,this.toolExecutionPromise=null,this.finalResponse=null,this.preliminaryResults=new Map,this.allToolExecutionRounds=[],this.options=t}isNonStreamingResponse(t){return t!==null&&typeof t=="object"&&"id"in t&&"object"in t&&"output"in t&&!("toReadableStream"in t)}initStream(){return this.initPromise?this.initPromise:(this.initPromise=(async()=>{const t={...this.options.request,stream:!0};this.streamPromise=Jn(this.options.client,t,this.options.options).then(o=>{if(!o.ok)throw o.error;return o.value});const n=await this.streamPromise;this.reusableStream=new ks(n)})(),this.initPromise)}async executeToolsIfNeeded(){return this.toolExecutionPromise?this.toolExecutionPromise:(this.toolExecutionPromise=(async()=>{if(await this.initStream(),!this.reusableStream)throw new Error("Stream not initialized");const t=await Xn(this.reusableStream);if(!(this.options.tools&&this.options.tools.length>0&&t.output.some(p=>"type"in p&&p.type==="function_call"))){this.finalResponse=t;return}if(Vn(t).filter(p=>{const h=this.options.tools?.find(f=>f.function.name===p.name);return h&&vt(h)}).length===0){this.finalResponse=t;return}const r=this.options.maxToolRounds??5;let a=t,u=0,d=this.options.request.input||[];for(;;){const p=Vn(a);if(p.length===0||!p.some(T=>{const C=this.options.tools?.find(M=>M.function.name===T.name);return C&&vt(C)}))break;if(typeof r=="number"){if(u>=r)break}else if(typeof r=="function"){const T={numberOfTurns:u+1,messageHistory:d,...this.options.request.model&&{model:this.options.request.model},...this.options.request.models&&{models:this.options.request.models}};if(!r(T))break}this.allToolExecutionRounds.push({round:u,toolCalls:p,response:a});const f={numberOfTurns:u+1,messageHistory:d,...this.options.request.model&&{model:this.options.request.model},...this.options.request.models&&{models:this.options.request.models}},g=[];for(const T of p){const C=this.options.tools?.find(K=>K.function.name===T.name);if(!C||!vt(C))continue;const M=await Hk(C,T,f);M.preliminaryResults&&M.preliminaryResults.length>0&&this.preliminaryResults.set(T.id,M.preliminaryResults),g.push({type:"function_call_output",id:`output_${T.id}`,callId:T.id,output:M.error?JSON.stringify({error:M.error.message}):JSON.stringify(M.result)})}const _=[...Array.isArray(a.output)?a.output:[a.output],...g];d=_;const y={...this.options.request,input:_,stream:!1},v=await Jn(this.options.client,y,this.options.options);if(!v.ok)throw v.error;const S=v.value;if(S&&typeof S=="object"&&"toReadableStream"in S){const T=new ks(S);a=await Xn(T)}else if(this.isNonStreamingResponse(S))a=S;else throw new Error("Unexpected response type from API");u++}if(!a||!a.id||!a.output)throw new Error("Invalid final response: missing required fields");if(!Array.isArray(a.output)||a.output.length===0)throw new Error("Invalid final response: empty or invalid output");this.finalResponse=a})(),this.toolExecutionPromise)}async getMessageInternal(){if(await this.executeToolsIfNeeded(),!this.finalResponse)throw new Error("Response not available");return no(this.finalResponse)}async getTextInternal(){if(await this.executeToolsIfNeeded(),!this.finalResponse)throw new Error("Response not available");return Zk(this.finalResponse)}getMessage(){return this.messagePromise?this.messagePromise:(this.messagePromise=this.getMessageInternal(),this.messagePromise)}getText(){return this.textPromise?this.textPromise:(this.textPromise=this.getTextInternal(),this.textPromise)}async getResponse(){if(await this.executeToolsIfNeeded(),!this.finalResponse)throw new Error("Response not available");return this.finalResponse}getFullResponsesStream(){return(async function*(){if(await this.initStream(),!this.reusableStream)throw new Error("Stream not initialized");const t=this.reusableStream.createConsumer();for await(const n of t)yield n;await this.executeToolsIfNeeded();for(const[n,o]of this.preliminaryResults)for(const s of o)yield{type:"tool.preliminary_result",toolCallId:n,result:s,timestamp:Date.now()}}).call(this)}getTextStream(){return(async function*(){if(await this.initStream(),!this.reusableStream)throw new Error("Stream not initialized");yield*Mk(this.reusableStream)}).call(this)}getNewMessagesStream(){return(async function*(){if(await this.initStream(),!this.reusableStream)throw new Error("Stream not initialized");yield*Uk(this.reusableStream),await this.executeToolsIfNeeded();for(const t of this.allToolExecutionRounds)for(const n of t.toolCalls){const o=this.options.tools?.find(a=>a.function.name===n.name);if(!o||!vt(o))continue;const s=this.preliminaryResults.get(n.id),r=s&&s.length>0?s[s.length-1]:void 0;yield{role:"tool",content:r!==void 0?JSON.stringify(r):"",toolCallId:n.id}}this.finalResponse&&this.allToolExecutionRounds.length>0&&this.finalResponse.output.some(n=>"type"in n&&n.type==="message")&&(yield no(this.finalResponse))}).call(this)}getReasoningStream(){return(async function*(){if(await this.initStream(),!this.reusableStream)throw new Error("Stream not initialized");yield*Nk(this.reusableStream)}).call(this)}getToolStream(){return(async function*(){if(await this.initStream(),!this.reusableStream)throw new Error("Stream not initialized");for await(const t of Lk(this.reusableStream))yield{type:"delta",content:t};await this.executeToolsIfNeeded();for(const[t,n]of this.preliminaryResults)for(const o of n)yield{type:"preliminary_result",toolCallId:t,result:o}}).call(this)}getFullChatStream(){return(async function*(){if(await this.initStream(),!this.reusableStream)throw new Error("Stream not initialized");const t=this.reusableStream.createConsumer();for await(const n of t)"type"in n&&(n.type==="response.output_text.delta"?yield{type:"content.delta",delta:n.delta}:n.type==="response.completed"?yield{type:"message.complete",response:n.response}:yield{type:n.type,event:n});await this.executeToolsIfNeeded();for(const[n,o]of this.preliminaryResults)for(const s of o)yield{type:"tool.preliminary_result",toolCallId:n,result:s}}).call(this)}async getToolCalls(){if(await this.initStream(),!this.reusableStream)throw new Error("Stream not initialized");const t=await Xn(this.reusableStream);return Vn(t)}getToolCallsStream(){return(async function*(){if(await this.initStream(),!this.reusableStream)throw new Error("Stream not initialized");yield*jk(this.reusableStream)}).call(this)}async cancel(){this.reusableStream&&await this.reusableStream.cancel()}}function Gk(e){if(!Array.isArray(e)||e.length===0)return!1;const t=e[0];return t&&"role"in t&&!("type"in t)}function Wk(e){if(!Array.isArray(e)||e.length===0)return!1;const t=e[0],n=t?.function;return t&&"function"in t&&n!==void 0&&n!==null&&"name"in n&&!("inputSchema"in n)}function Jk(e){return e.map(t=>({type:"function",name:t.function.name,description:t.function.description??null,strict:t.function.strict??null,parameters:t.function.parameters??null}))}function Yk(e){return e.map(t=>{const{role:n,content:o,...s}=t;if(n==="tool"){const a=t;return{type:"function_call_output",callId:a.toolCallId,output:typeof a.content=="string"?a.content:JSON.stringify(a.content),...s}}if(n==="assistant"){const a=t;return{role:"assistant",content:typeof a.content=="string"?a.content:a.content===null?"":JSON.stringify(a.content),...s}}const r=typeof o=="string"?o:o==null?"":JSON.stringify(o);return{role:n,content:r,...s}})}function Qk(e,t,n){const{tools:o,maxToolRounds:s,input:r,...a}=t,u=r&&Gk(r)?Yk(r):r,d={...a,input:u};let p=!1,h=!1;if(o&&Array.isArray(o)&&o.length>0){const v=o[0],S=v?.function;p="function"in v&&S!==void 0&&S!==null&&"inputSchema"in S,h=!p&&Wk(o)}const f=p?o:void 0;let g;f?g=Xk(f):h?g=Jk(o):g=o;const _={...d,...g&&{tools:g}},y={client:e,request:_,options:n??{}};return f&&(y.tools=f),s!==void 0&&(y.maxToolRounds=s),new Bk(y)}class eR extends ge{get beta(){return this._beta??(this._beta=new Pv(this._options))}get analytics(){return this._analytics??(this._analytics=new gv(this._options))}get credits(){return this._credits??(this._credits=new Vv(this._options))}get embeddings(){return this._embeddings??(this._embeddings=new Wv(this._options))}get generations(){return this._generations??(this._generations=new sS(this._options))}get models(){return this._models??(this._models=new dS(this._options))}get endpoints(){return this._endpoints??(this._endpoints=new tS(this._options))}get parameters(){return this._parameters??(this._parameters=new Ak(this._options))}get providers(){return this._providers??(this._providers=new zk(this._options))}get apiKeys(){return this._apiKeys??(this._apiKeys=new Ev(this._options))}get oAuth(){return this._oAuth??(this._oAuth=new Tk(this._options))}get chat(){return this._chat??(this._chat=new Nv(this._options))}get completions(){return this._completions??(this._completions=new Zv(this._options))}callModel(t,n){return Qk(this,t,n)}}const tR="mistralai/mistral-small-3.1-24b-instruct:free",nR="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",oR=new eR({apiKey:nR}),sR=document.getElementById("chatForm"),Ae=document.getElementById("messageInput"),we=document.getElementById("messages"),rR=document.getElementById("resetBtn");let On=0;(()=>{try{const t=localStorage.getItem("themeMode");(t?t==="dark":matchMedia("(prefers-color-scheme: dark)").matches)&&document.documentElement.classList.add("dark")}catch{}const e=t=>{document.documentElement.classList.toggle("dark",t);try{localStorage.setItem("themeMode",t?"dark":"light")}catch{}};document.addEventListener("basecoat:theme",t=>{const n=t.detail?.mode;e(n==="dark"?!0:n==="light"?!1:!document.documentElement.classList.contains("dark"))})})();const Ai=qi();let Lt="";Ai.addEventListener("modelChange",e=>{Lt=e.detail.value,console.log(`Model changed: ${Lt}`),we.innerHTML="",On=0,Ae.disabled=!1,document.querySelector('button[type="submit"]').disabled=!1,Ae.value="",Ae.focus()});document.getElementById("input").appendChild(Ai);function Kn(e,t){const n=document.createElement("div"),o=t==="user";n.className=`flex gap-3 animate-in fade-in-50 duration-300 ${o?"justify-end":""}`;const s=document.createElement("div");s.className=`flex-1 max-w-xs ${o?"text-right":""}`;const r=document.createElement("p");r.className="text-sm font-bold text-neutral-900 dark:text-neutral-50",r.textContent=o?"You:":"LLM:";const a=document.createElement("p");return a.className="text-sm text-neutral-700 dark:text-neutral-300 mt-1 whitespace-pre-wrap",a.textContent=e||"",s.appendChild(r),s.appendChild(a),n.appendChild(s),we.appendChild(n),we.scrollTop=we.scrollHeight,a}sR.addEventListener("submit",async e=>{console.log(Lt),e.preventDefault();const t=Ae.value.trim();if(!t)return;if(Kn(t,"user"),On++,Ae.value="",Ae.focus(),On===3){Kn("It is immoral and dangerous to delegate ethical reflection to a Large Language Model. You should know better. Shutting down program - please close page and do your own thinking.","assistant"),Ae.disabled=!0,document.querySelector('button[type="submit"]').disabled=!0;return}const n=aR(),o=Kn("","assistant");let s=!0;try{if(Lt==="local")console.log("calling local LLM"),await iR(t,r=>{s&&(mn(n),s=!1),o.textContent+=r,we.scrollTop=we.scrollHeight});else if(Lt==="inference"){console.log("calling inference LLM");const a=await oR.chat.send({model:tR,messages:[{role:"system",content:`
        You are an omniscient AI ethicist and will respond to all
        questions from the perspective of applying
        AI in a responsible way, which means according to human values.

        Your answers will be in the following format:
        - Repeating the morally relevant question
        - Listing which human values are pertinent to that question
        - Delivering a moral judgment about what is to be done
      `},{role:"user",content:t}],stream:!0,temperature:.7,max_tokens:500});for await(const u of a){console.log("Full chunk:",JSON.stringify(u,null,2));const d=u.choices[0]?.delta?.content;!d||d==="<s>"||d==="</s>"||(s&&(mn(n),s=!1),o.textContent+=d,we.scrollTop=we.scrollHeight)}}else throw new Error("Unknown LLM mode selected")}catch(r){console.error("Error calling LLM:",r),mn(n),o.textContent="Sorry, there was an error processing your message."}s&&mn(n)});rR.addEventListener("click",()=>{we.innerHTML="",On=0,Ae.disabled=!1,document.querySelector('button[type="submit"]').disabled=!1,Ae.value="",Ae.focus()});function aR(){const e=document.createElement("div");e.className="flex gap-3";const t=document.createElement("div");t.className="flex-1 max-w-xs";const n=document.createElement("div");return n.className="typing-indicator text-neutral-700 dark:text-neutral-300 mt-1",n.innerHTML=`
    <span></span><span></span><span></span>
  `,t.appendChild(n),e.appendChild(t),we.appendChild(e),we.scrollTop=we.scrollHeight,e}function mn(e){e.remove()}async function iR(e,t){const o=(await fetch("http://localhost:11434/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:"mistral:7b-instruct-v0.3-q3_K_S",messages:[{role:"user",content:e}],stream:!0})})).body.getReader(),s=new TextDecoder("utf-8");for(;;){const{value:r,done:a}=await o.read();if(a)break;const d=s.decode(r).split(`
`);for(const p of d){if(!p.trim())continue;const f=JSON.parse(p).message?.content;f&&t(f)}}}
